var yS=Object.defineProperty,vS=Object.defineProperties;var _S=Object.getOwnPropertyDescriptors;var A_=Object.getOwnPropertySymbols,IS=Object.getPrototypeOf,wS=Object.prototype.hasOwnProperty,ES=Object.prototype.propertyIsEnumerable,DS=Reflect.get;var R_=(n,e,t)=>e in n?yS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})wS.call(e,t)&&R_(n,t,e[t]);if(A_)for(var t of A_(e))ES.call(e,t)&&R_(n,t,e[t]);return n},re=(n,e)=>vS(n,_S(e));var Hn=(n,e,t)=>DS(IS(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(d){i(d)}},o=u=>{try{c(t.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});function M_(n,e){return Object.is(n,e)}var je=null,mc=!1,yc=1,ln=Symbol("SIGNAL");function he(n){let e=je;return je=n,e}function N_(){return je}var fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nh(n){if(mc)throw new Error("");if(je===null)return;je.consumerOnSignalRead(n);let e=je.nextProducerIndex++;if(wc(je),e<je.producerNode.length&&je.producerNode[e]!==n&&ho(je)){let t=je.producerNode[e];Ic(t,je.producerIndexOfThis[e])}je.producerNode[e]!==n&&(je.producerNode[e]=n,je.producerIndexOfThis[e]=ho(je)?k_(n,je,e):0),je.producerLastReadVersion[e]=n.version}function CS(){yc++}function x_(n){if(!(ho(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yc)){if(!n.producerMustRecompute(n)&&!ih(n)){n.dirty=!1,n.lastCleanEpoch=yc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=yc}}function P_(n){if(n.liveConsumerNode===void 0)return;let e=mc;mc=!0;try{for(let t of n.liveConsumerNode)t.dirty||bS(t)}finally{mc=e}}function O_(){return je?.consumerAllowSignalWrites!==!1}function bS(n){n.dirty=!0,P_(n),n.consumerMarkedDirty?.(n)}function _c(n){return n&&(n.nextProducerIndex=0),he(n)}function rh(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ho(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ic(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ih(n){wc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(x_(t),r!==t.version))return!0}return!1}function sh(n){if(wc(n),ho(n))for(let e=0;e<n.producerNode.length;e++)Ic(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function k_(n,e,t){if(F_(n),n.liveConsumerNode.length===0&&V_(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=k_(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ic(n,e){if(F_(n),n.liveConsumerNode.length===1&&V_(n))for(let r=0;r<n.producerNode.length;r++)Ic(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wc(i),i.producerIndexOfThis[r]=e}}function ho(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function F_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function V_(n){return n.producerNode!==void 0}function L_(n){let e=Object.create(TS);e.computation=n;let t=()=>{if(x_(e),nh(e),e.value===vc)throw e.error;return e.value};return t[ln]=e,t}var eh=Symbol("UNSET"),th=Symbol("COMPUTING"),vc=Symbol("ERRORED"),TS=re(O({},fo),{value:eh,dirty:!0,error:null,equal:M_,producerMustRecompute(n){return n.value===eh||n.value===th},producerRecomputeValue(n){if(n.value===th)throw new Error("Detected cycle in computations.");let e=n.value;n.value=th;let t=_c(n),r;try{r=n.computation()}catch(i){r=vc,n.error=i}finally{rh(n,t)}if(e!==eh&&e!==vc&&r!==vc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function SS(){throw new Error}var U_=SS;function j_(){U_()}function B_(n){U_=n}var AS=null;function $_(n){let e=Object.create(z_);e.value=n;let t=()=>(nh(e),e.value);return t[ln]=e,t}function oh(n,e){O_()||j_(),n.equal(n.value,e)||(n.value=e,RS(n))}function H_(n,e){O_()||j_(),oh(n,e(n.value))}var z_=re(O({},fo),{equal:M_,value:void 0});function RS(n){n.version++,CS(),P_(n),AS?.()}function K(n){return typeof n=="function"}function fi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ec=fi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Er(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ae=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(s){e=s instanceof Ec?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{q_(s)}catch(o){e=e??[],o instanceof Ec?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ec(e)}}add(e){var t;if(e&&e!==this)if(this.closed)q_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Er(t,e)}remove(e){let{_finalizers:t}=this;t&&Er(t,e),e instanceof n&&e._removeParent(this)}};Ae.EMPTY=(()=>{let n=new Ae;return n.closed=!0,n})();var ah=Ae.EMPTY;function Dc(n){return n instanceof Ae||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function q_(n){K(n)?n():n.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pi={setTimeout(n,e,...t){let{delegate:r}=pi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=pi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cc(n){pi.setTimeout(()=>{let{onUnhandledError:e}=Pt;if(e)e(n);else throw n})}function po(){}var G_=ch("C",void 0,void 0);function W_(n){return ch("E",void 0,n)}function K_(n){return ch("N",n,void 0)}function ch(n,e,t){return{kind:n,value:e,error:t}}var Dr=null;function gi(n){if(Pt.useDeprecatedSynchronousErrorHandling){let e=!Dr;if(e&&(Dr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Dr;if(Dr=null,t)throw r}}else n()}function Q_(n){Pt.useDeprecatedSynchronousErrorHandling&&Dr&&(Dr.errorThrown=!0,Dr.error=n)}var Cr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dc(e)&&e.add(this)):this.destination=xS}static create(e,t,r){return new mi(e,t,r)}next(e){this.isStopped?lh(K_(e),this):this._next(e)}error(e){this.isStopped?lh(W_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lh(G_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MS=Function.prototype.bind;function uh(n,e){return MS.call(n,e)}var dh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bc(r)}else bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bc(t)}}},mi=class extends Cr{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Pt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uh(e.next,s),error:e.error&&uh(e.error,s),complete:e.complete&&uh(e.complete,s)}):i=e}this.destination=new dh(i)}};function bc(n){Pt.useDeprecatedSynchronousErrorHandling?Q_(n):Cc(n)}function NS(n){throw n}function lh(n,e){let{onStoppedNotification:t}=Pt;t&&pi.setTimeout(()=>t(n,e))}var xS={closed:!0,next:po,error:NS,complete:po};var yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gt(n){return n}function hh(...n){return fh(n)}function fh(n){return n.length===0?gt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=OS(t)?t:new mi(t,r,i);return gi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Y_(r),new r((i,s)=>{let o=new mi({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[yi](){return this}pipe(...t){return fh(t)(this)}toPromise(t){return t=Y_(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Y_(n){var e;return(e=n??Pt.Promise)!==null&&e!==void 0?e:Promise}function PS(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function OS(n){return n&&n instanceof Cr||PS(n)&&Dc(n)}function ph(n){return K(n?.lift)}function ue(n){return e=>{if(ph(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,e,t,r,i){return new gh(n,e,t,r,i)}var gh=class extends Cr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vi(){return ue((n,e)=>{let t=null;n._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _i=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ph(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let t=this.getSubject();e.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return vi()(this)}};var Z_=fi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Tc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Z_}next(t){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ah:(this.currentObservers=null,s.push(t),new Ae(()=>{this.currentObservers=null,Er(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new Tc(e,t),n})(),Tc=class extends Qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ah}};var Ye=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var mh={now(){return(mh.delegate||Date).now()},delegate:void 0};var Sc=class extends Ae{constructor(e,t){super()}schedule(e,t=0){return this}};var go={setInterval(n,e,...t){let{delegate:r}=go;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=go;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ii=class extends Sc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return go.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&go.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Er(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var wi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};wi.now=mh.now;var Ei=class extends wi{constructor(e,t=wi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var yh=new Ei(Ii);var Ac=class extends Ii{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Rc=class extends Ei{};var vh=new Rc(Ac);var mt=new ce(n=>n.complete());function J_(n){return n&&K(n.schedule)}function X_(n){return n[n.length-1]}function Mc(n){return K(X_(n))?n.pop():void 0}function zn(n){return J_(X_(n))?n.pop():void 0}function _h(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tI(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(n,e||[])).next())})}function eI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function br(n){return this instanceof br?(this.v=n,this):new br(n)}function nI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(M){return new Promise(function(R,V){s.push([I,M,R,V])>1||u(I,M)})},A&&(i[I]=A(i[I])))}function u(I,A){try{d(r[I](A))}catch(M){_(s[0][3],M)}}function d(I){I.value instanceof br?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function rI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eI=="function"?eI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var Nc=n=>n&&typeof n.length=="number"&&typeof n!="function";function xc(n){return K(n?.then)}function Pc(n){return K(n[yi])}function Oc(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function kc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fc=kS();function Vc(n){return K(n?.[Fc])}function Lc(n){return nI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield br(t.read());if(i)return yield br(void 0);yield yield br(r)}}finally{t.releaseLock()}})}function Uc(n){return K(n?.getReader)}function Pe(n){if(n instanceof ce)return n;if(n!=null){if(Pc(n))return FS(n);if(Nc(n))return VS(n);if(xc(n))return LS(n);if(Oc(n))return iI(n);if(Vc(n))return US(n);if(Uc(n))return jS(n)}throw kc(n)}function FS(n){return new ce(e=>{let t=n[yi]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VS(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LS(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cc)})}function US(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iI(n){return new ce(e=>{BS(n,e).catch(t=>e.error(t))})}function jS(n){return iI(Lc(n))}function BS(n,e){var t,r,i,s;return tI(this,void 0,void 0,function*(){try{for(t=rI(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function lt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function qn(n,e=0){return ue((t,r)=>{t.subscribe(ie(r,i=>lt(r,n,()=>r.next(i),e),()=>lt(r,n,()=>r.complete(),e),i=>lt(r,n,()=>r.error(i),e)))})}function Gn(n,e=0){return ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sI(n,e){return Pe(n).pipe(Gn(e),qn(e))}function oI(n,e){return Pe(n).pipe(Gn(e),qn(e))}function aI(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cI(n,e){return new ce(t=>{let r;return lt(t,e,()=>{r=n[Fc](),lt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function jc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{lt(t,e,()=>{let r=n[Symbol.asyncIterator]();lt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uI(n,e){return jc(Lc(n),e)}function lI(n,e){if(n!=null){if(Pc(n))return sI(n,e);if(Nc(n))return aI(n,e);if(xc(n))return oI(n,e);if(Oc(n))return jc(n,e);if(Vc(n))return cI(n,e);if(Uc(n))return uI(n,e)}throw kc(n)}function Ne(n,e){return e?lI(n,e):Pe(n)}function Q(...n){let e=zn(n);return Ne(n,e)}function Di(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function Ih(n){return!!n&&(n instanceof ce||K(n.lift)&&K(n.subscribe))}var dn=fi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ue((t,r)=>{let i=0;t.subscribe(ie(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:$S}=Array;function HS(n,e){return $S(e)?n(...e):n(e)}function Bc(n){return te(e=>HS(n,e))}var{isArray:zS}=Array,{getPrototypeOf:qS,prototype:GS,keys:WS}=Object;function $c(n){if(n.length===1){let e=n[0];if(zS(e))return{args:e,keys:null};if(KS(e)){let t=WS(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function KS(n){return n&&typeof n=="object"&&qS(n)===GS}function Hc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zc(...n){let e=zn(n),t=Mc(n),{args:r,keys:i}=$c(n);if(r.length===0)return Ne([],e);let s=new ce(QS(r,e,i?o=>Hc(i,o):gt));return t?s.pipe(Bc(t)):s}function QS(n,e,t=gt){return r=>{dI(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)dI(e,()=>{let d=Ne(n[u],e),f=!1;d.subscribe(ie(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function dI(n,e,t){n?lt(t,n,e):e()}function hI(n,e,t,r,i,s,o,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=M=>d<r?A(M):u.push(M),A=M=>{s&&e.next(M),d++;let R=!1;Pe(t(M,f++)).subscribe(ie(e,V=>{i?.(V),s?I(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let V=u.shift();o?lt(e,o,()=>A(V)):A(V)}_()}catch(V){e.error(V)}}))};return n.subscribe(ie(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Be(n,e,t=1/0){return K(e)?Be((r,i)=>te((s,o)=>e(r,s,i,o))(Pe(n(r,i))),t):(typeof e=="number"&&(t=e),ue((r,i)=>hI(r,i,n,t)))}function wh(n=1/0){return Be(gt,n)}function fI(){return wh(1)}function Ci(...n){return fI()(Ne(n,zn(n)))}function qc(n){return new ce(e=>{Pe(n()).subscribe(e)})}function Eh(...n){let e=Mc(n),{args:t,keys:r}=$c(n),i=new ce(s=>{let{length:o}=t;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;Pe(t[f]).subscribe(ie(s,_=>{g||(g=!0,d--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?Hc(r,c):c),s.complete())}))}});return e?i.pipe(Bc(e)):i}function Ot(n,e){return ue((t,r)=>{let i=0;t.subscribe(ie(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Wn(n){return ue((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ie(t,void 0,void 0,o=>{s=Pe(n(o,Wn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pI(n,e,t,r,i){return(s,o)=>{let c=t,u=e,d=0;s.subscribe(ie(o,f=>{let g=d++;u=c?n(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function bi(n,e){return K(e)?Be(n,e,1):Be(n,1)}function Kn(n){return ue((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hn(n){return n<=0?()=>mt:ue((e,t)=>{let r=0;e.subscribe(ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dh(n){return te(()=>n)}function Gc(n=YS){return ue((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function YS(){return new dn}function mo(n){return ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $t(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,s)=>n(i,s,r)):gt,hn(1),t?Kn(e):Gc(()=>new dn))}function Ti(n){return n<=0?()=>mt:ue((e,t)=>{let r=[];e.subscribe(ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ch(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,s)=>n(i,s,r)):gt,Ti(1),t?Kn(e):Gc(()=>new dn))}function bh(n,e){return ue(pI(n,e,arguments.length>=2,!0))}function Th(...n){let e=zn(n);return ue((t,r)=>{(e?Ci(n,t,e):Ci(n,t)).subscribe(r)})}function kt(n,e){return ue((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(ie(r,u=>{i?.unsubscribe();let d=0,f=s++;Pe(n(u,f)).subscribe(i=ie(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Sh(n){return ue((e,t)=>{Pe(n).subscribe(ie(t,()=>t.complete(),po)),!t.closed&&e.subscribe(t)})}function $e(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?ue((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ie(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):gt}var ZS="https://g.co/ng/security#xss",L=class extends Error{constructor(e,t){super(Nf(e,t)),this.code=e}};function Nf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function So(n){return{toString:n}.toString()}var Wc="__parameters__";function JS(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ew(n,e,t){return So(()=>{let r=JS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(Wc)?u[Wc]:Object.defineProperty(u,Wc,{value:[]})[Wc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function XS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function dt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(dt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function gI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var eA=Ie({__forward_ref__:Ie});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return dt(this())},n}function at(n){return tw(n)?n():n}function tw(n){return typeof n=="function"&&n.hasOwnProperty(eA)&&n.__forward_ref__===Qt}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tu(n){return mI(n,rw)||mI(n,iw)}function nw(n){return Tu(n)!==null}function mI(n,e){return n.hasOwnProperty(e)?n[e]:null}function tA(n){let e=n&&(n[rw]||n[iw]);return e||null}function yI(n){return n&&(n.hasOwnProperty(vI)||n.hasOwnProperty(nA))?n[vI]:null}var rw=Ie({\u0275prov:Ie}),vI=Ie({\u0275inj:Ie}),iw=Ie({ngInjectableDef:Ie}),nA=Ie({ngInjectorDef:Ie}),j=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sw(n){return n&&!!n.\u0275providers}var rA=Ie({\u0275cmp:Ie}),iA=Ie({\u0275dir:Ie}),sA=Ie({\u0275pipe:Ie}),oA=Ie({\u0275mod:Ie}),nu=Ie({\u0275fac:Ie}),_o=Ie({__NG_ELEMENT_ID__:Ie}),_I=Ie({__NG_ENV_ID__:Ie});function ru(n){return typeof n=="string"?n:n==null?"":String(n)}function aA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ru(n)}function cA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new L(-200,n)}function xf(n,e){throw new L(-201,!1)}var X=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(X||{}),Bh;function ow(){return Bh}function wt(n){let e=Bh;return Bh=n,e}function aw(n,e,t){let r=Tu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&X.Optional)return null;if(e!==void 0)return e;xf(n,"Injector")}var uA={},Io=uA,$h="__NG_DI_FLAG__",iu="ngTempTokenPath",lA="ngTokenPath",dA=/\n/gm,hA="\u0275",II="__source",Mi;function fA(){return Mi}function Qn(n){let e=Mi;return Mi=n,e}function pA(n,e=X.Default){if(Mi===void 0)throw new L(-203,!1);return Mi===null?aw(n,void 0,e):Mi.get(n,e&X.Optional?null:void 0,e)}function ne(n,e=X.Default){return(ow()||pA)(at(n),e)}function k(n,e=X.Default){return ne(n,Su(e))}function Su(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hh(n){let e=[];for(let t=0;t<n.length;t++){let r=at(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=gA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ne(i,s))}else e.push(ne(r))}return e}function cw(n,e){return n[$h]=e,n.prototype[$h]=e,n}function gA(n){return n[$h]}function mA(n,e,t,r){let i=n[iu];throw e[II]&&i.unshift(e[II]),n.message=yA(`
`+n.message,i,t,r),n[lA]=i,n[iu]=null,n}function yA(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==hA?n.slice(2):n;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(dA,`
  `)}`}var ut=cw(ew("Optional"),8);var uw=cw(ew("SkipSelf"),4);function xi(n,e){let t=n.hasOwnProperty(nu);return t?n[nu]:null}function Pf(n,e){n.forEach(t=>Array.isArray(t)?Pf(t,e):e(t))}function lw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function su(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function _A(n,e,t){let r=Ao(n,e);return r>=0?n[r|1]=t:(r=~r,vA(n,r,e,t)),r}function Ah(n,e){let t=Ao(n,e);if(t>=0)return n[t|1]}function Ao(n,e){return IA(n,e,1)}function IA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Pi={},Et=[],Oi=new j(""),dw=new j("",-1),hw=new j(""),ou=class{get(e,t=Io){if(t===Io){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return t}},fw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fw||{}),qt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qt||{}),Jn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Jn||{});function wA(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function zh(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];DA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function EA(n){return n===3||n===4||n===6}function DA(n){return n.charCodeAt(0)===64}function wo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?wI(n,t,i,null,e[++r]):wI(n,t,i,null,null))}}return n}function wI(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var pw="ng-template";function CA(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wA(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Of(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Of(n){return n.type===4&&n.value!==pw}function bA(n,e,t){let r=n.type===4&&!t?pw:n.value;return e===r}function TA(n,e,t){let r=4,i=n.attrs,s=i!==null?RA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ft(r)&&!Ft(u))return!1;if(o&&Ft(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!bA(n,u,t)||u===""&&e.length===1){if(Ft(r))return!1;o=!0}}else if(r&8){if(i===null||!CA(n,i,u,t)){if(Ft(r))return!1;o=!0}}else{let d=e[++c],f=SA(u,i,Of(n),t);if(f===-1){if(Ft(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Ft(r))return!1;o=!0}}}}return Ft(r)||o}function Ft(n){return(n&1)===0}function SA(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MA(e,n)}function AA(n,e,t=!1){for(let r=0;r<e.length;r++)if(TA(n,e[r],t))return!0;return!1}function RA(n){for(let e=0;e<n.length;e++){let t=n[e];if(EA(t))return e}return n.length}function MA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function EI(n,e){return n?":not("+e.trim()+")":e}function NA(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ft(o)&&(e+=EI(s,i),i=""),r=o,s=s||!Ft(r);t++}return i!==""&&(e+=EI(s,i)),e}function xA(n){return n.map(NA).join(",")}function PA(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Ft(i))break;i=s}r++}return{attrs:e,classes:t}}function qi(n){return So(()=>{let e=_w(n),t=re(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qt.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""});Iw(t);let r=n.dependencies;return t.directiveDefs=CI(r,!1),t.pipeDefs=CI(r,!0),t.id=FA(t),t})}function OA(n){return Sr(n)||gw(n)}function kA(n){return n!==null}function Fr(n){return So(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DI(n,e){if(n==null)return Pi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=Jn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==Jn.None?[r,c]:r,e[s]=o):t[s]=r}return t}function ke(n){return So(()=>{let e=_w(n);return Iw(e),e})}function Sr(n){return n[rA]||null}function gw(n){return n[iA]||null}function mw(n){return n[sA]||null}function yw(n){let e=Sr(n)||gw(n)||mw(n);return e!==null?e.standalone:!1}function vw(n,e){let t=n[oA]||null;if(!t&&e===!0)throw new Error(`Type ${dt(n)} does not have '\u0275mod' property.`);return t}function _w(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Pi,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DI(n.inputs,e),outputs:DI(n.outputs),debugInfo:null}}function Iw(n){n.features?.forEach(e=>e(n))}function CI(n,e){if(!n)return null;let t=e?mw:OA;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(kA)}function FA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yt(n){return{\u0275providers:n}}function VA(...n){return{\u0275providers:ww(!0,n),\u0275fromNgModule:!0}}function ww(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Pf(e,o=>{let c=o;qh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Ew(i,s),t}function Ew(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];kf(i,s=>{e(s,r)})}}function qh(n,e,t,r){if(n=at(n),!n)return!1;let i=null,s=yI(n),o=!s&&Sr(n);if(!s&&!o){let u=n.ngModule;if(s=yI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)qh(d,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{Pf(s.imports,f=>{qh(f,e,t,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Ew(d,e)}if(!c){let d=xi(i)||(()=>new i);e({provide:i,useFactory:d,deps:Et},i),e({provide:hw,useValue:i,multi:!0},i),e({provide:Oi,useValue:()=>ne(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=n;kf(u,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function kf(n,e){for(let t of n)sw(t)&&(t=t.\u0275providers),Array.isArray(t)?kf(t,e):e(t)}var LA=Ie({provide:String,useValue:Ie});function Dw(n){return n!==null&&typeof n=="object"&&LA in n}function UA(n){return!!(n&&n.useExisting)}function jA(n){return!!(n&&n.useFactory)}function ki(n){return typeof n=="function"}function BA(n){return!!n.useClass}var Au=new j(""),Zc={},$A={},Rh;function Ff(){return Rh===void 0&&(Rh=new ou),Rh}var bt=class{},Eo=class extends bt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wh(e,o=>this.processProvider(o)),this.records.set(dw,Si(void 0,this)),i.has("environment")&&this.records.set(bt,Si(void 0,this));let s=this.records.get(Au);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hw,Et,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Qn(this),r=wt(void 0),i;try{return e()}finally{Qn(t),wt(r)}}get(e,t=Io,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_I))return e[_I](this);r=Su(r);let i,s=Qn(this),o=wt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=WA(e)&&Tu(e);d&&this.injectableDefInScope(d)?u=Si(Gh(e),Zc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?Ff():this.parent;return t=r&X.Optional&&t===Io?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[iu]=c[iu]||[]).unshift(dt(e)),s)throw c;return mA(c,e,"R3InjectorError",this.source)}else throw c}finally{wt(o),Qn(s)}}resolveInjectorInitializers(){let e=he(null),t=Qn(this),r=wt(void 0),i;try{let s=this.get(Oi,Et,X.Self);for(let o of s)o()}finally{Qn(t),wt(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=at(e);let t=ki(e)?e:at(e&&e.provide),r=zA(e);if(!ki(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Si(void 0,Zc,!0),i.factory=()=>Hh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=he(null);try{return t.value===Zc&&(t.value=$A,t.value=t.factory()),typeof t.value=="object"&&t.value&&GA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=at(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Gh(n){let e=Tu(n),t=e!==null?e.factory:xi(n);if(t!==null)return t;if(n instanceof j)throw new L(204,!1);if(n instanceof Function)return HA(n);throw new L(204,!1)}function HA(n){if(n.length>0)throw new L(204,!1);let t=tA(n);return t!==null?()=>t.factory(n):()=>new n}function zA(n){if(Dw(n))return Si(void 0,n.useValue);{let e=Cw(n);return Si(e,Zc)}}function Cw(n,e,t){let r;if(ki(n)){let i=at(n);return xi(i)||Gh(i)}else if(Dw(n))r=()=>at(n.useValue);else if(jA(n))r=()=>n.useFactory(...Hh(n.deps||[]));else if(UA(n))r=()=>ne(at(n.useExisting));else{let i=at(n&&(n.useClass||n.provide));if(qA(n))r=()=>new i(...Hh(n.deps));else return xi(i)||Gh(i)}return r}function Si(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qA(n){return!!n.deps}function GA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WA(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function Wh(n,e){for(let t of n)Array.isArray(t)?Wh(t,e):t&&sw(t)?Wh(t.\u0275providers,e):e(t)}function vn(n,e){n instanceof Eo&&n.assertNotDestroyed();let t,r=Qn(n),i=wt(void 0);try{return e()}finally{Qn(r),wt(i)}}function KA(){return ow()!==void 0||fA()!=null}function QA(n){return typeof n=="function"}var _n=0,se=1,z=2,ct=3,Vt=4,Lt=5,au=6,cu=7,Gt=8,Fi=9,fn=10,He=11,Do=12,bI=13,Ro=14,Wt=15,Vi=16,Ai=17,Li=18,Ru=19,bw=20,Yn=21,Mh=22,Dt=23,pn=25,Tw=1;var Ar=7,uu=8,lu=9,Ct=10,du=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(du||{});function Zn(n){return Array.isArray(n)&&typeof n[Tw]=="object"}function In(n){return Array.isArray(n)&&n[Tw]===!0}function Sw(n){return(n.flags&4)!==0}function Mu(n){return n.componentOffset>-1}function Vf(n){return(n.flags&1)===1}function Xn(n){return!!n.template}function Kh(n){return(n[z]&512)!==0}var Qh=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Aw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Vr(){return Rw}function Rw(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZA),YA}Vr.ngInherit=!0;function YA(){let n=Nw(this),e=n?.current;if(e){let t=n.previous;if(t===Pi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ZA(n,e,t,r,i){let s=this.declaredInputs[r],o=Nw(n)||JA(n,{previous:Pi,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Qh(d&&d.currentValue,t,u===Pi),Aw(n,e,i,t)}var Mw="__ngSimpleChanges__";function Nw(n){return n[Mw]||null}function JA(n,e){return n[Mw]=e}var TI=null;var Ht=function(n,e,t){TI?.(n,e,t)},XA="svg",eR="math";function Kt(n){for(;Array.isArray(n);)n=n[_n];return n}function xw(n,e){return Kt(e[n])}function Tt(n,e){return Kt(e[n.index])}function Pw(n,e){return n.data[e]}function tR(n,e){return n[e]}function tr(n,e){let t=e[n];return Zn(t)?t:t[_n]}function Lf(n){return(n[z]&128)===128}function nR(n){return In(n[ct])}function hu(n,e){return e==null?null:n[e]}function Ow(n){n[Ai]=0}function kw(n){n[z]&1024||(n[z]|=1024,Lf(n)&&xu(n))}function Nu(n){return!!(n[z]&9216||n[Dt]?.dirty)}function Yh(n){n[fn].changeDetectionScheduler?.notify(8),n[z]&64&&(n[z]|=1024),Nu(n)&&xu(n)}function xu(n){n[fn].changeDetectionScheduler?.notify(0);let e=Rr(n);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!Lf(e)));)e=Rr(e)}function Fw(n,e){if((n[z]&256)===256)throw new L(911,!1);n[Yn]===null&&(n[Yn]=[]),n[Yn].push(e)}function rR(n,e){if(n[Yn]===null)return;let t=n[Yn].indexOf(e);t!==-1&&n[Yn].splice(t,1)}function Rr(n){let e=n[ct];return In(e)?e[ct]:e}var oe={lFrame:Gw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Vw=!1;function iR(){return oe.lFrame.elementDepthCount}function sR(){oe.lFrame.elementDepthCount++}function oR(){oe.lFrame.elementDepthCount--}function Lw(){return oe.bindingsEnabled}function aR(){return oe.skipHydrationRootTNode!==null}function cR(n){return oe.skipHydrationRootTNode===n}function uR(){oe.skipHydrationRootTNode=null}function De(){return oe.lFrame.lView}function yt(){return oe.lFrame.tView}function Gi(n){return oe.lFrame.contextLView=n,n[Gt]}function Wi(n){return oe.lFrame.contextLView=null,n}function ft(){let n=Uw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Uw(){return oe.lFrame.currentTNode}function lR(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mo(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function jw(){return oe.lFrame.isParent}function dR(){oe.lFrame.isParent=!1}function hR(){return oe.lFrame.contextLView}function Bw(){return Vw}function SI(n){Vw=n}function fR(){return oe.lFrame.bindingIndex}function pR(n){return oe.lFrame.bindingIndex=n}function Uf(){return oe.lFrame.bindingIndex++}function $w(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function gR(){return oe.lFrame.inI18n}function mR(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zh(e)}function yR(){return oe.lFrame.currentDirectiveIndex}function Zh(n){oe.lFrame.currentDirectiveIndex=n}function vR(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Hw(n){oe.lFrame.currentQueryIndex=n}function _R(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[Lt]:null}function zw(n,e,t){if(t&X.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&X.Host);)if(i=_R(s),i===null||(s=s[Ro],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=oe.lFrame=qw();return r.currentTNode=e,r.lView=n,!0}function jf(n){let e=qw(),t=n[se];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qw(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?Gw(n):e}function Gw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ww(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Kw=Ww;function Bf(){let n=Ww();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ki(){return oe.lFrame.selectedIndex}function Mr(n){oe.lFrame.selectedIndex=n}function $f(){let n=oe.lFrame;return Pw(n.tView,n.selectedIndex)}function IR(){return oe.lFrame.currentNamespace}var Qw=!0;function Hf(){return Qw}function zf(n){Qw=n}function wR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Rw(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function qf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Jc(n,e,t){Yw(n,e,3,t)}function Xc(n,e,t,r){(n[z]&3)===t&&Yw(n,e,t,r)}function Nh(n,e){let t=n[z];(t&3)===e&&(t&=16383,t+=1,n[z]=t)}function Yw(n,e,t,r){let i=r!==void 0?n[Ai]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ai]+=65536),(c<s||s==-1)&&(ER(n,t,e,u),n[Ai]=(n[Ai]&4294901760)+u+2),u++}function AI(n,e){Ht(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Ht(5,n,e)}}function ER(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[z]>>14<n[Ai]>>16&&(n[z]&3)===e&&(n[z]+=16384,AI(c,s)):AI(c,s)}var Ni=-1,Nr=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function DR(n){return n instanceof Nr}function CR(n){return(n.flags&8)!==0}function bR(n){return(n.flags&16)!==0}var xh={},Jh=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Su(r);let i=this.injector.get(e,xh,r);return i!==xh||t===xh?i:this.parentInjector.get(e,t,r)}};function Zw(n){return n!==Ni}function fu(n){return n&32767}function TR(n){return n>>16}function pu(n,e){let t=TR(n),r=e;for(;t>0;)r=r[Ro],t--;return r}var Xh=!0;function RI(n){let e=Xh;return Xh=n,e}var SR=256,Jw=SR-1,Xw=5,AR=0,zt={};function RR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_o)&&(r=t[_o]),r==null&&(r=t[_o]=AR++);let i=r&Jw,s=1<<i;e.data[n+(i>>Xw)]|=s}function gu(n,e){let t=eE(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,Ph(r.data,n),Ph(e,null),Ph(r.blueprint,null));let i=Gf(n,e),s=n.injectorIndex;if(Zw(i)){let o=fu(i),c=pu(i,e),u=c[se].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function Ph(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Gf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sE(i),r===null)return Ni;if(t++,i=i[Ro],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ni}function ef(n,e,t){RR(n,e,t)}function tE(n,e,t){if(t&X.Optional||n!==void 0)return n;xf(e,"NodeInjector")}function nE(n,e,t,r){if(t&X.Optional&&r===void 0&&(r=null),!(t&(X.Self|X.Host))){let i=n[Fi],s=wt(void 0);try{return i?i.get(e,r,t&X.Optional):aw(e,r,t&X.Optional)}finally{wt(s)}}return tE(r,e,t)}function rE(n,e,t,r=X.Default,i){if(n!==null){if(e[z]&2048&&!(r&X.Self)){let o=OR(n,e,t,r,zt);if(o!==zt)return o}let s=iE(n,e,t,r,zt);if(s!==zt)return s}return nE(e,t,r,i)}function iE(n,e,t,r,i){let s=xR(t);if(typeof s=="function"){if(!zw(e,n,r))return r&X.Host?tE(i,t,r):nE(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))xf(t);else return o}finally{Kw()}}else if(typeof s=="number"){let o=null,c=eE(n,e),u=Ni,d=r&X.Host?e[Wt][Lt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?Gf(n,e):e[c+8],u===Ni||!NI(r,!1)?c=-1:(o=e[se],c=fu(u),e=pu(u,e)));c!==-1;){let f=e[se];if(MI(s,c,f.data)){let g=MR(c,e,t,o,r,d);if(g!==zt)return g}u=e[c+8],u!==Ni&&NI(r,e[se].data[c+8]===d)&&MI(s,c,e)?(o=f,c=fu(u),e=pu(u,e)):c=-1}}return i}function MR(n,e,t,r,i,s){let o=e[se],c=o.data[n+8],u=r==null?Mu(c)&&Xh:r!=o&&(c.type&3)!==0,d=i&X.Host&&s===c,f=NR(c,o,t,u,d);return f!==null?Ui(e,o,f,c):zt}function NR(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,d=n.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:d;for(let I=g;I<_;I++){let A=o[I];if(I<u&&t===A||I>=u&&A.type===t)return I}if(i){let I=o[u];if(I&&Xn(I)&&I.type===t)return u}return null}function Ui(n,e,t,r){let i=n[t],s=e.data;if(DR(i)){let o=i;o.resolving&&cA(aA(s[t]));let c=RI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?wt(o.injectImpl):null,f=zw(n,r,X.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&wR(t,s[t],e)}finally{d!==null&&wt(d),RI(c),o.resolving=!1,Kw()}}return i}function xR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_o)?n[_o]:void 0;return typeof e=="number"?e>=0?e&Jw:PR:e}function MI(n,e,t){let r=1<<n;return!!(t[e+(n>>Xw)]&r)}function NI(n,e){return!(n&X.Self)&&!(n&X.Host&&e)}var Tr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rE(this._tNode,this._lView,e,Su(r),t)}};function PR(){return new Tr(ft(),De())}function wn(n){return So(()=>{let e=n.prototype.constructor,t=e[nu]||tf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[nu]||tf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function tf(n){return tw(n)?()=>{let e=tf(at(n));return e&&e()}:xi(n)}function OR(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[z]&2048&&!(o[z]&512);){let c=iE(s,o,t,r|X.Self,zt);if(c!==zt)return c;let u=s.parent;if(!u){let d=o[bw];if(d){let f=d.get(t,zt,r);if(f!==zt)return f}u=sE(o),o=o[Ro]}s=u}return i}function sE(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[Lt]:null}function xI(n,e=null,t=null,r){let i=oE(n,e,t,r);return i.resolveInjectorInitializers(),i}function oE(n,e=null,t=null,r,i=new Set){let s=[t||Et,VA(n)];return r=r||(typeof n=="object"?void 0:dt(n)),new Eo(s,e||Ff(),r||null,i)}var ht=class n{static{this.THROW_IF_NOT_FOUND=Io}static{this.NULL=new ou}static create(e,t){if(Array.isArray(e))return xI({name:""},t,e,"");{let r=e.name??"";return xI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>ne(dw)})}static{this.__NG_ELEMENT_ID__=-1}};var kR=new j("");kR.__NG_ELEMENT_ID__=n=>{let e=ft();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&X.Optional)return null;throw new L(204,!1)};var FR="ngOriginalError";function Oh(n){return n[FR]}var aE=!0,cE=(()=>{class n{static{this.__NG_ELEMENT_ID__=VR}static{this.__NG_ENV_ID__=t=>t}}return n})(),nf=class extends cE{constructor(e){super(),this._lView=e}onDestroy(e){return Fw(this._lView,e),()=>rR(this._lView,e)}};function VR(){return new nf(De())}var Qi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();var rf=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,KA()&&(this.destroyRef=k(cE,{optional:!0})??void 0,this.pendingTasks=k(Qi,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ae&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=rf;function mu(...n){}function uE(n){let e,t;function r(){n=mu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function PI(n){return queueMicrotask(()=>n()),()=>{n=mu}}var Wf="isAngularZone",yu=Wf+"_ID",LR=0,ve=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=aE}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,BR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,UR,mu,mu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},UR={};function Kf(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uE(()=>{n.callbackScheduled=!1,sf(n),n.isCheckStableRunning=!0,Kf(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),sf(n)}function BR(n){let e=()=>{jR(n)},t=LR++;n._inner=n._inner.fork({name:"angular",properties:{[Wf]:!0,[yu]:t,[yu+t]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if($R(u))return r.invokeTask(s,o,c,u);try{return OI(n),r.invokeTask(s,o,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kI(n)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return OI(n),r.invoke(s,o,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HR(u)&&e(),kI(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,sf(n),Kf(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function sf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function OI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kI(n){n._nesting--,Kf(n)}var of=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $R(n){return lE(n,"__ignore_ng_zone__")}function HR(n){return lE(n,"__scheduler_tick__")}function lE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Oh(e);for(;t&&Oh(t);)t=Oh(t);return t||null}},zR=new j("",{providedIn:"root",factory:()=>{let n=k(ve),e=k(gn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function qR(){return Pu(ft(),De())}function Pu(n,e){return new En(Tt(n,e))}var En=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=qR}}return n})();function dE(n){return(n.flags&128)===128}var hE=new Map,GR=0;function WR(){return GR++}function KR(n){hE.set(n[Ru],n)}function af(n){hE.delete(n[Ru])}var FI="__ngContext__";function xr(n,e){Zn(e)?(n[FI]=e[Ru],KR(e)):n[FI]=e}function fE(n){return gE(n[Do])}function pE(n){return gE(n[Vt])}function gE(n){for(;n!==null&&!In(n);)n=n[Vt];return n}var cf;function mE(n){cf=n}function QR(){if(cf!==void 0)return cf;if(typeof document<"u")return document;throw new L(210,!1)}var Qf=new j("",{providedIn:"root",factory:()=>YR}),YR="ng",Yf=new j(""),nr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Zf=new j("",{providedIn:"root",factory:()=>QR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZR="h",JR="b";var XR=()=>null;function Jf(n,e,t=!1){return XR(n,e,t)}var yE=!1,eM=new j("",{providedIn:"root",factory:()=>yE});var uf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZS})`}};function Xf(n){return n instanceof uf?n.changingThisBreaksApplicationSecurity:n}function vE(n){return n instanceof Function?n():n}var mn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mn||{}),tM;function ep(n,e){return tM(n,e)}function Ri(n,e,t,r,i){if(r!=null){let s,o=!1;In(r)?s=r:Zn(r)&&(o=!0,r=r[_n]);let c=Kt(r);n===0&&t!==null?i==null?DE(e,t,c):vu(e,t,c,i||null,!0):n===1&&t!==null?vu(e,t,c,i||null,!0):n===2?mM(e,c,o):n===3&&e.destroyNode(c),s!=null&&vM(e,n,s,t,i)}}function nM(n,e){return n.createText(e)}function rM(n,e,t){n.setValue(e,t)}function _E(n,e,t){return n.createElement(e,t)}function iM(n,e){IE(n,e),e[_n]=null,e[Lt]=null}function sM(n,e,t,r,i,s){r[_n]=i,r[Lt]=e,Ou(n,r,t,1,i,s)}function IE(n,e){e[fn].changeDetectionScheduler?.notify(9),Ou(n,e,e[He],2,null,null)}function oM(n){let e=n[Do];if(!e)return kh(n[se],n);for(;e;){let t=null;if(Zn(e))t=e[Do];else{let r=e[Ct];r&&(t=r)}if(!t){for(;e&&!e[Vt]&&e!==n;)Zn(e)&&kh(e[se],e),e=e[ct];e===null&&(e=n),Zn(e)&&kh(e[se],e),t=e&&e[Vt]}e=t}}function aM(n,e,t,r){let i=Ct+r,s=t.length;r>0&&(t[i-1][Vt]=e),r<s-Ct?(e[Vt]=t[i],lw(t,Ct+r,e)):(t.push(e),e[Vt]=null),e[ct]=t;let o=e[Vi];o!==null&&t!==o&&wE(o,e);let c=e[Li];c!==null&&c.insertView(n),Yh(e),e[z]|=128}function wE(n,e){let t=n[lu],r=e[ct];if(Zn(r))n[z]|=du.HasTransplantedViews;else{let i=r[ct][Wt];e[Wt]!==i&&(n[z]|=du.HasTransplantedViews)}t===null?n[lu]=[e]:t.push(e)}function tp(n,e){let t=n[lu],r=t.indexOf(e);t.splice(r,1)}function lf(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];if(r){let i=r[Vi];i!==null&&i!==n&&tp(i,r),e>0&&(n[t-1][Vt]=r[Vt]);let s=su(n,Ct+e);iM(r[se],r);let o=s[Li];o!==null&&o.detachView(s[se]),r[ct]=null,r[Vt]=null,r[z]&=-129}return r}function EE(n,e){if(!(e[z]&256)){let t=e[He];t.destroyNode&&Ou(n,e,t,3,null,null),oM(e)}}function kh(n,e){if(e[z]&256)return;let t=he(null);try{e[z]&=-129,e[z]|=256,e[Dt]&&sh(e[Dt]),uM(n,e),cM(n,e),e[se].type===1&&e[He].destroy();let r=e[Vi];if(r!==null&&In(e[ct])){r!==e[ct]&&tp(r,e);let i=e[Li];i!==null&&i.detachView(n)}af(e)}finally{he(t)}}function cM(n,e){let t=n.cleanup,r=e[cu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[cu]=null);let i=e[Yn];if(i!==null){e[Yn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function uM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Nr)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Ht(4,c,u);try{u.call(c)}finally{Ht(5,c,u)}}else{Ht(4,i,s);try{s.call(i)}finally{Ht(5,i,s)}}}}}function lM(n,e,t){return dM(n,e.parent,t)}function dM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[_n];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===qt.None||s===qt.Emulated)return null}return Tt(r,t)}}function vu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function DE(n,e,t){n.appendChild(e,t)}function VI(n,e,t,r,i){r!==null?vu(n,e,t,r,i):DE(n,e,t)}function CE(n,e){return n.parentNode(e)}function hM(n,e){return n.nextSibling(e)}function fM(n,e,t){return gM(n,e,t)}function pM(n,e,t){return n.type&40?Tt(n,t):null}var gM=pM,LI;function np(n,e,t,r){let i=lM(n,r,e),s=e[He],o=r.parent||e[Lt],c=fM(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)VI(s,i,t[u],c,!1);else VI(s,i,t,c,!1);LI!==void 0&&LI(s,r,e,t,i)}function yo(n,e){if(e!==null){let t=e.type;if(t&3)return Tt(e,n);if(t&4)return df(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return yo(n,r);{let i=n[e.index];return In(i)?df(-1,i):Kt(i)}}else{if(t&128)return yo(n,e.next);if(t&32)return ep(e,n)()||Kt(n[e.index]);{let r=bE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Rr(n[Wt]);return yo(i,r)}else return yo(n,e.next)}}}return null}function bE(n,e){if(e!==null){let r=n[Wt][Lt],i=e.projection;return r.projection[i]}return null}function df(n,e){let t=Ct+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return yo(r,i)}return e[Ar]}function mM(n,e,t){n.removeChild(null,e,t)}function rp(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&xr(Kt(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)rp(n,e,t.child,r,i,s,!1),Ri(e,n,i,c,s);else if(u&32){let d=ep(t,r),f;for(;f=d();)Ri(e,n,i,f,s);Ri(e,n,i,c,s)}else u&16?yM(n,e,r,t,i,s):Ri(e,n,i,c,s);t=o?t.projectionNext:t.next}}function Ou(n,e,t,r,i,s){rp(t,r,n.firstChild,e,i,s,!1)}function yM(n,e,t,r,i,s){let o=t[Wt],u=o[Lt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Ri(e,n,i,f,s)}else{let d=u,f=o[ct];dE(r)&&(d.flags|=128),rp(n,e,d,f,i,s,!0)}}function vM(n,e,t,r,i){let s=t[Ar],o=Kt(t);s!==o&&Ri(e,n,r,s,i);for(let c=Ct;c<t.length;c++){let u=t[c];Ou(u[se],u,n,e,r,s)}}function _M(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:mn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mn.Important),n.setStyle(t,r,i,s))}}function IM(n,e,t){n.setAttribute(e,"style",t)}function TE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function SE(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&zh(n,e,r),i!==null&&TE(n,e,i),s!==null&&IM(n,e,s)}var Yi={};function rr(n=1){AE(yt(),De(),Ki()+n,!1)}function AE(n,e,t,r){if(!r)if((e[z]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Jc(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Xc(e,s,0,t)}Mr(t)}function fe(n,e=X.Default){let t=De();if(t===null)return ne(n,e);let r=ft();return rE(r,t,at(n),e)}function RE(n,e,t,r,i,s){let o=he(null);try{let c=null;i&Jn.SignalBased&&(c=e[r][ln]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Jn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):Aw(e,c,r,s)}finally{he(o)}}function wM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Mr(~i);else{let s=i,o=t[++r],c=t[++r];mR(o,s);let u=e[s];c(2,u)}}}finally{Mr(-1)}}function ku(n,e,t,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[_n]=i,g[z]=r|4|128|8|64,(d!==null||n&&n[z]&2048)&&(g[z]|=2048),Ow(g),g[ct]=g[Ro]=n,g[Gt]=t,g[fn]=o||n&&n[fn],g[He]=c||n&&n[He],g[Fi]=u||n&&n[Fi]||null,g[Lt]=s,g[Ru]=WR(),g[au]=f,g[bw]=d,g[Wt]=e.type==2?n[Wt]:g,g}function Fu(n,e,t,r,i){let s=n.data[e];if(s===null)s=EM(n,e,t,r,i),gR()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=lR();s.injectorIndex=o===null?-1:o.injectorIndex}return Mo(s,!0),s}function EM(n,e,t,r,i){let s=Uw(),o=jw(),c=o?s:s&&s.parent,u=n.data[e]=SM(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function ME(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function NE(n,e,t,r,i){let s=Ki(),o=r&2;try{Mr(-1),o&&e.length>pn&&AE(n,e,pn,!1),Ht(o?2:0,i),t(r,i)}finally{Mr(s),Ht(o?3:1,i)}}function xE(n,e,t){if(Sw(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{he(r)}}}function PE(n,e,t){Lw()&&(PM(n,e,t,Tt(t,e)),(t.flags&64)===64&&UE(n,e,t))}function OE(n,e,t=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function kE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ip(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ip(n,e,t,r,i,s,o,c,u,d,f){let g=pn+r,_=g+i,I=DM(g,_),A=typeof d=="function"?d():d;return I[se]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function DM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yi);return t}function CM(n,e,t,r){let s=r.get(eM,yE)||t===qt.ShadowDom,o=n.selectRootElement(e,s);return bM(o),o}function bM(n){TM(n)}var TM=()=>null;function SM(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return aR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UI(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Jn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}n===0?jI(r,t,d,c,u):jI(r,t,d,c)}return r}function jI(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function AM(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],_=t?t.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=UI(0,g.inputs,f,u,I),d=UI(1,g.outputs,f,d,A);let M=u!==null&&o!==null&&!Of(e)?zM(u,f,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function RM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function FE(n,e,t,r,i,s,o,c){let u=Tt(e,t),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(sp(n,t,f,r,i),Mu(e)&&MM(t,e.index)):e.type&3?(r=RM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function MM(n,e){let t=tr(e,n);t[z]&16||(t[z]|=64)}function VE(n,e,t,r){if(Lw()){let i=r===null?null:{"":-1},s=kM(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&LE(n,e,t,o,i,c),i&&FM(t,r,i)}t.mergedAttrs=wo(t.mergedAttrs,t.attrs)}function LE(n,e,t,r,i,s){for(let d=0;d<r.length;d++)ef(gu(t,e),n,r[d].type);LM(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=ME(n,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];t.mergedAttrs=wo(t.mergedAttrs,f.hostAttrs),UM(n,t,e,u,f),VM(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}AM(n,t,s)}function NM(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;xM(o)!=c&&o.push(c),o.push(t,r,s)}}function xM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PM(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Mu(t)&&jM(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||gu(t,e),xr(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],d=Ui(e,n,c,t);if(xr(d,e),o!==null&&HM(e,c-i,d,u,t,o),Xn(u)){let f=tr(t.index,e);f[Gt]=Ui(e,n,c,t)}}}function UE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=yR();try{Mr(s);for(let c=r;c<i;c++){let u=n.data[c],d=e[c];Zh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OM(u,d)}}finally{Mr(-1),Zh(o)}}function OM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kM(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(AA(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;hf(n,e,u)}else r.unshift(o),hf(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function hf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function FM(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new L(-301,!1);r.push(e[i],s)}}}function VM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xn(e)&&(t[""]=n)}}function LM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function UM(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=xi(i.type,!0)),o=new Nr(s,Xn(i),fe);n.blueprint[r]=o,t[r]=o,NM(n,e,r,ME(n,t,i.hostVars,Yi),i)}function jM(n,e,t){let r=Tt(e,n),i=kE(t),s=n[fn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=Vu(n,ku(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function BM(n,e,t,r,i,s){let o=Tt(n,e);$M(e[He],o,s,n.value,t,r,i)}function $M(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?ru(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function HM(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];RE(r,t,u,d,f,g)}}function zM(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function jE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function BE(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];Hw(s),c.contentQueries(2,e[o],o)}}}finally{he(r)}}}function Vu(n,e){return n[Do]?n[bI][Vt]=e:n[Do]=e,n[bI]=e,e}function ff(n,e,t){Hw(0);let r=he(null);try{e(n,t)}finally{he(r)}}function qM(n){return n[cu]??=[]}function GM(n){return n.cleanup??=[]}function $E(n,e){let t=n[Fi],r=t?t.get(gn,null):null;r&&r.handleError(e)}function sp(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],d=e[o],f=n.data[o];RE(f,d,r,c,u,i)}}function WM(n,e,t){let r=xw(e,n);rM(n[He],r,t)}function KM(n,e){let t=tr(e,n),r=t[se];QM(r,t);let i=t[_n];i!==null&&t[au]===null&&(t[au]=Jf(i,t[Fi])),op(r,t,t[Gt])}function QM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function op(n,e,t){jf(e);try{let r=n.viewQuery;r!==null&&ff(1,r,t);let i=n.template;i!==null&&NE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Li]?.finishViewCreation(n),n.staticContentQueries&&BE(n,e),n.staticViewQueries&&ff(2,n.viewQuery,t);let s=n.components;s!==null&&YM(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[z]&=-5,Bf()}}function YM(n,e){for(let t=0;t<e.length;t++)KM(n,e[t])}function ZM(n,e,t,r){let i=he(null);try{let s=e.tView,c=n[z]&4096?4096:16,u=ku(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[Vi]=d;let f=n[Li];return f!==null&&(u[Li]=f.createEmbeddedView(s)),op(s,u,t),u}finally{he(i)}}function BI(n,e){return!e||e.firstChild===null||dE(n)}function JM(n,e,t,r=!0){let i=e[se];if(aM(i,e,n,t),r){let o=df(t,n),c=e[He],u=CE(c,n[Ar]);u!==null&&sM(i,n[Lt],c,e,u,o)}let s=e[au];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _u(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Kt(s)),In(s)&&XM(s,r);let o=t.type;if(o&8)_u(n,e,t.child,r);else if(o&32){let c=ep(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=bE(e,t);if(Array.isArray(c))r.push(...c);else{let u=Rr(e[Wt]);_u(u[se],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function XM(n,e){for(let t=Ct;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&_u(r[se],r,i,e)}n[Ar]!==n[_n]&&e.push(n[Ar])}var HE=[];function eN(n){return n[Dt]??tN(n)}function tN(n){let e=HE.pop()??Object.create(rN);return e.lView=n,e}function nN(n){n.lView[Dt]!==n&&(n.lView=null,HE.push(n))}var rN=re(O({},fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{xu(n.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function iN(n){let e=n[Dt]??Object.create(sN);return e.lView=n,e}var sN=re(O({},fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Rr(n.lView);for(;e&&!zE(e[se]);)e=Rr(e);e&&kw(e)},consumerOnSignalRead(){this.lView[Dt]=this}});function zE(n){return n.type!==2}var oN=100;function qE(n,e=!0,t=0){let r=n[fn],i=r.rendererFactory,s=!1;s||i.begin?.();try{aN(n,t)}catch(o){throw e&&$E(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function aN(n,e){let t=Bw();try{SI(!0),pf(n,e);let r=0;for(;Nu(n);){if(r===oN)throw new L(103,!1);r++,pf(n,1)}}finally{SI(t)}}function cN(n,e,t,r){let i=e[z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[fn].inlineEffectRunner?.flush(),jf(e);let c=!0,u=null,d=null;s||(zE(n)?(d=eN(e),u=_c(d)):N_()===null?(c=!1,d=iN(e),u=_c(d)):e[Dt]&&(sh(e[Dt]),e[Dt]=null));try{Ow(e),pR(n.bindingStartIndex),t!==null&&NE(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let I=n.preOrderCheckHooks;I!==null&&Jc(e,I,null)}else{let I=n.preOrderHooks;I!==null&&Xc(e,I,0,null),Nh(e,0)}if(o||uN(e),GE(e,0),n.contentQueries!==null&&BE(n,e),!s)if(f){let I=n.contentCheckHooks;I!==null&&Jc(e,I)}else{let I=n.contentHooks;I!==null&&Xc(e,I,1),Nh(e,1)}wM(n,e);let g=n.components;g!==null&&KE(e,g,0);let _=n.viewQuery;if(_!==null&&ff(2,_,r),!s)if(f){let I=n.viewCheckHooks;I!==null&&Jc(e,I)}else{let I=n.viewHooks;I!==null&&Xc(e,I,2),Nh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Mh]){for(let I of e[Mh])I();e[Mh]=null}s||(e[z]&=-73)}catch(f){throw s||xu(e),f}finally{d!==null&&(rh(d,u),c&&nN(d)),Bf()}}function GE(n,e){for(let t=fE(n);t!==null;t=pE(t))for(let r=Ct;r<t.length;r++){let i=t[r];WE(i,e)}}function uN(n){for(let e=fE(n);e!==null;e=pE(e)){if(!(e[z]&du.HasTransplantedViews))continue;let t=e[lu];for(let r=0;r<t.length;r++){let i=t[r];kw(i)}}}function lN(n,e,t){let r=tr(e,n);WE(r,t)}function WE(n,e){Lf(n)&&pf(n,e)}function pf(n,e){let r=n[se],i=n[z],s=n[Dt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ih(s)),o||=!1,s&&(s.dirty=!1),n[z]&=-9217,o)cN(r,n,r.template,n[Gt]);else if(i&8192){GE(n,1);let c=r.components;c!==null&&KE(n,c,1)}}function KE(n,e,t){for(let r=0;r<e.length;r++)lN(n,e[r],t)}function ap(n,e){let t=Bw()?64:1088;for(n[fn].changeDetectionScheduler?.notify(e);n;){n[z]|=t;let r=Rr(n);if(Kh(n)&&!r)return n;n=r}return null}var Pr=class{get rootNodes(){let e=this._lView,t=e[se];return _u(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return(this._lView[z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(In(e)){let t=e[uu],r=t?t.indexOf(this):-1;r>-1&&(lf(e,r),su(t,r))}this._attachedToViewContainer=!1}EE(this._lView[se],this._lView)}onDestroy(e){Fw(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){Yh(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,qE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Kh(this._lView),t=this._lView[Vi];t!==null&&!e&&tp(t,this._lView),IE(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Kh(this._lView),r=this._lView[Vi];r!==null&&!t&&wE(r,this._lView),Yh(this._lView)}},cp=(()=>{class n{static{this.__NG_ELEMENT_ID__=fN}}return n})(),dN=cp,hN=class extends dN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ZM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Pr(i)}};function fN(){return pN(ft(),De())}function pN(n,e){return n.type&4?new hN(e,n,Pu(n,e)):null}var Jq=new RegExp(`^(\\d+)*(${JR}|${ZR})*(.*)`);var gN=()=>null;function $I(n,e){return gN(n,e)}var ji=class{},Lu=new j("",{providedIn:"root",factory:()=>!1});var QE=new j(""),YE=new j(""),gf=class{},Iu=class{};function mN(n){let e=Error(`No component factory found for ${dt(n)}.`);return e[yN]=n,e}var yN="ngComponent";var mf=class{resolveComponentFactory(e){throw mN(e)}},Bi=class{static{this.NULL=new mf}},$i=class{},ir=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>vN()}}return n})();function vN(){let n=De(),e=ft(),t=tr(e.index,n);return(Zn(t)?t:n)[He]}var _N=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})();function yf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=gI(i,c);else if(s==2){let u=c,d=e[++o];r=gI(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var wu=class extends Bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Sr(e);return new Co(t,this.ngModule)}};function HI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Jn.None;e?t.push({propName:o,templateName:r,isSignal:(c&Jn.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function IN(n){let e=n.toLowerCase();return e==="svg"?XA:e==="math"?eR:null}var Co=class extends Iu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=HI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return HI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=xA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof bt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Jh(e,o):e,u=c.get($i,null);if(u===null)throw new L(407,!1);let d=c.get(_N,null),f=c.get(ji,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?CM(_,r,this.componentDef.encapsulation,c):_E(_,I,IN(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;A!==null&&(R=Jf(A,c,!0));let V=ip(0,null,null,1,0,null,null,null,null,null,null),G=ku(null,V,null,M,null,null,g,_,c,null,R);jf(G);let H,ee,Te=null;try{let W=this.componentDef,D,m=null;W.findHostDirectiveDefs?(D=[],m=new Map,W.findHostDirectiveDefs(W,D,m),D.push(W)):D=[W];let y=wN(G,A);Te=EN(y,A,W,D,G,g,_),ee=Pw(V,pn),A&&bN(_,W,A,r),t!==void 0&&TN(ee,this.ngContentSelectors,t),H=CN(Te,W,D,m,G,[SN]),op(V,G,null)}catch(W){throw Te!==null&&af(Te),af(G),W}finally{Bf()}return new vf(this.componentType,H,Pu(ee,G),G,ee)}finally{he(s)}}},vf=class extends gf{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Pr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;sp(s[se],s,i,e,t),this.previousInputValues.set(e,t);let o=tr(this._tNode.index,s);ap(o,1)}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wN(n,e){let t=n[se],r=pn;return n[r]=e,Fu(t,r,2,"#host",null)}function EN(n,e,t,r,i,s,o){let c=i[se];DN(r,n,e,o);let u=null;e!==null&&(u=Jf(e,i[Fi]));let d=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let g=ku(i,kE(t),null,f,i[n.index],n,s,d,null,null,u);return c.firstCreatePass&&hf(c,n,r.length-1),Vu(i,g),i[n.index]=g}function DN(n,e,t,r){for(let i of n)e.mergedAttrs=wo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yf(e,e.mergedAttrs,!0),t!==null&&SE(r,t,e))}function CN(n,e,t,r,i,s){let o=ft(),c=i[se],u=Tt(o,i);LE(c,i,o,t,null,r);for(let f=0;f<t.length;f++){let g=o.directiveStart+f,_=Ui(i,c,g,o);xr(_,i)}UE(c,i,o),u&&xr(u,i);let d=Ui(i,c,o.directiveStart+o.componentOffset,o);if(n[Gt]=i[Gt]=d,s!==null)for(let f of s)f(d,e);return xE(c,o,i),d}function bN(n,e,t,r){if(r)zh(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=PA(e.selectors[0]);i&&zh(n,t,i),s&&s.length>0&&TE(n,t,s.join(" "))}}function TN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function SN(){let n=ft();qf(De()[se],n)}var No=(()=>{class n{static{this.__NG_ELEMENT_ID__=AN}}return n})();function AN(){let n=ft();return MN(n,De())}var RN=No,ZE=class extends RN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gf(this._hostTNode,this._hostLView);if(Zw(e)){let t=pu(e,this._hostLView),r=fu(e),i=t[se].data[r+8];return new Tr(i,t)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=$I(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,BI(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!QA(e),c;if(o)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Co(Sr(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?d:this.parentInjector).get(bt,null);M&&(s=M)}let f=Sr(u.componentType??{}),g=$I(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,c,BI(this._hostTNode,g)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(nR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ct],d=new ZE(u,u[Lt],u[ct]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return JM(o,i,s,r),e.attachToViewContainerRef(),lw(Fh(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=lf(this._lContainer,t);r&&(su(Fh(this._lContainer),t),EE(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=lf(this._lContainer,t);return r&&su(Fh(this._lContainer),t)!=null?new Pr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function zI(n){return n[uu]}function Fh(n){return n[uu]||(n[uu]=[])}function MN(n,e){let t,r=e[n.index];return In(r)?t=r:(t=jE(r,e,null,n),e[n.index]=t,Vu(e,t)),xN(t,e,n,r),new ZE(t,n,e)}function NN(n,e){let t=n[He],r=t.createComment(""),i=Tt(e,n),s=CE(t,i);return vu(t,s,r,hM(t,i),!1),r}var xN=kN,PN=()=>!1;function ON(n,e,t){return PN(n,e,t)}function kN(n,e,t,r){if(n[Ar])return;let i;t.type&8?i=Kt(r):i=NN(e,t),n[Ar]=i}var qI=new Set;function xo(n){qI.has(n)||(qI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function FN(n){return typeof n=="function"&&n[ln]!==void 0}function Po(n,e){xo("NgSignals");let t=$_(n),r=t[ln];return e?.equal&&(r.equal=e.equal),t.set=i=>oh(r,i),t.update=i=>H_(r,i),t.asReadonly=VN.bind(t),t}function VN(){let n=this[ln];if(n.readonlyFn===void 0){let e=()=>this();e[ln]=n,n.readonlyFn=e}return n.readonlyFn}function JE(n){return FN(n)&&typeof n.set=="function"}function LN(n){return Object.getPrototypeOf(n.prototype).constructor}function St(n){let e=LN(n.type),t=!0,r=[n];for(;e;){let i;if(Xn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Kc(n.inputs),o.inputTransforms=Kc(n.inputTransforms),o.declaredInputs=Kc(n.declaredInputs),o.outputs=Kc(n.outputs);let c=i.hostBindings;c&&HN(n,c);let u=i.viewQuery,d=i.contentQueries;if(u&&BN(n,u),d&&$N(n,d),UN(n,i),XS(n.outputs,i.outputs),Xn(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(n),c===St&&(t=!1)}}e=Object.getPrototypeOf(e)}jN(r)}function UN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function jN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wo(i.hostAttrs,t=wo(t,i.hostAttrs))}}function Kc(n){return n===Pi?{}:n===Et?[]:n}function BN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $N(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function HN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var er=class{},bo=class{};var _f=class extends er{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wu(this);let s=vw(e);this._bootstrapComponents=vE(s.bootstrap),this._r3Injector=oE(e,t,[{provide:er,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},If=class extends bo{constructor(e){super(),this.moduleType=e}create(e){return new _f(this.moduleType,e,[])}};var Eu=class extends er{constructor(e){super(),this.componentFactoryResolver=new wu(this),this.instance=null;let t=new Eo([...e.providers,{provide:er,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver}],e.parent||Ff(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function up(n,e,t=null){return new Eu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function XE(n){return qN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function qN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Hi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function GN(n,e,t,r){let i=Hi(n,e,t);return Hi(n,e+1,r)||i}function WN(n){return(n.flags&32)===32}function KN(n,e,t,r,i,s,o,c,u){let d=e.consts,f=Fu(e,n,4,o||null,c||null);VE(e,t,f,hu(d,u)),qf(e,f);let g=f.tView=ip(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function QN(n,e,t,r,i,s,o,c,u,d){let f=t+pn,g=e.firstCreatePass?KN(f,e,n,r,i,s,o,c,u):e.data[f];Mo(g,!1);let _=YN(e,n,g,t);Hf()&&np(e,n,_,g),xr(_,n);let I=jE(_,n,_,g);return n[f]=I,Vu(n,I),ON(I,g,n),Vf(g)&&PE(e,n,g),u!=null&&OE(n,g,d),g}function Uu(n,e,t,r,i,s,o,c){let u=De(),d=yt(),f=hu(d.consts,s);return QN(u,d,n,e,t,r,i,f,o,c),Uu}var YN=ZN;function ZN(n,e,t,r){return zf(!0),e[He].createComment("")}var vo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(vo||{}),JN=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})(),GI=class n{constructor(){this.ngZone=k(ve),this.scheduler=k(ji),this.errorHandler=k(gn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[vo.EarlyRead,vo.Write,vo.MixedReadWrite,vo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}};function ju(n,e,t,r){let i=De(),s=Uf();if(Hi(i,s,e)){let o=yt(),c=$f();BM(c,i,n,e,t,r)}return ju}function XN(n,e,t,r,i,s){let o=fR(),c=GN(n,o,t,i);return $w(2),c?e+ru(t)+r+ru(i)+s:Yi}function Qc(n,e){return n<<17|e<<2}function Or(n){return n>>17&32767}function ex(n){return(n&2)==2}function tx(n,e){return n&131071|e<<17}function wf(n){return n|2}function zi(n){return(n&131068)>>2}function Vh(n,e){return n&-131069|e<<2}function nx(n){return(n&1)===1}function Ef(n){return n|1}function rx(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Or(o),u=zi(o);n[r]=t;let d=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||Ao(g,f)>0)&&(d=!0)}else f=t;if(i)if(u!==0){let _=Or(n[c+1]);n[r+1]=Qc(_,c),_!==0&&(n[_+1]=Vh(n[_+1],r)),n[c+1]=tx(n[c+1],r)}else n[r+1]=Qc(c,0),c!==0&&(n[c+1]=Vh(n[c+1],r)),c=r;else n[r+1]=Qc(u,0),c===0?c=r:n[u+1]=Vh(n[u+1],r),u=r;d&&(n[r+1]=wf(n[r+1])),WI(n,f,r,!0),WI(n,f,r,!1),ix(e,f,n,r,s),o=Qc(c,u),s?e.classBindings=o:e.styleBindings=o}function ix(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ao(s,e)>=0&&(t[r+1]=Ef(t[r+1]))}function WI(n,e,t,r){let i=n[t+1],s=e===null,o=r?Or(i):zi(i),c=!1;for(;o!==0&&(c===!1||s);){let u=n[o],d=n[o+1];sx(u,e)&&(c=!0,n[o+1]=r?Ef(d):wf(d)),o=r?Or(d):zi(d)}c&&(n[t+1]=r?wf(i):Ef(i))}function sx(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ao(n,e)>=0:!1}function Oo(n,e,t){let r=De(),i=Uf();if(Hi(r,i,e)){let s=yt(),o=$f();FE(s,o,r,n,e,r[He],t,!1)}return Oo}function KI(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";sp(n,t,s[o],o,r)}function Bu(n,e){return ox(n,e,null,!0),Bu}function ox(n,e,t,r){let i=De(),s=yt(),o=$w(2);if(s.firstUpdatePass&&cx(s,n,o,r),e!==Yi&&Hi(i,o,e)){let c=s.data[Ki()];fx(s,c,i,i[He],n,i[o+1]=px(e,t),r,o)}}function ax(n,e){return e>=n.expandoStartIndex}function cx(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ki()],o=ax(n,t);gx(s,r)&&e===null&&!o&&(e=!1),e=ux(i,s,e,r),rx(i,s,e,t,o,r)}}function ux(n,e,t,r){let i=vR(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Lh(null,n,e,t,r),t=To(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Lh(i,n,e,t,r),s===null){let u=lx(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Lh(null,n,e,u[1],r),u=To(u,e.attrs,r),dx(n,e,r,u))}else s=hx(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function lx(n,e,t){let r=t?e.classBindings:e.styleBindings;if(zi(r)!==0)return n[Or(r)]}function dx(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Or(i)]=r}function hx(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=To(r,o,t)}return To(r,e.attrs,t)}function Lh(n,e,t,r,i){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],r=To(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function To(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),_A(n,o,t?!0:e[++s]))}return n===void 0?null:n}function fx(n,e,t,r,i,s,o,c){if(!(e.type&3))return;let u=n.data,d=u[c+1],f=nx(d)?QI(u,e,t,i,zi(d),o):void 0;if(!Du(f)){Du(s)||ex(d)&&(s=QI(u,null,t,i,c,o));let g=xw(Ki(),t);_M(r,o,g,i,s)}}function QI(n,e,t,r,i,s){let o=e===null,c;for(;i>0;){let u=n[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,_=t[i+1];_===Yi&&(_=g?Et:void 0);let I=g?Ah(_,r):f===r?_:void 0;if(d&&!Du(I)&&(I=Ah(u,r)),Du(I)&&(c=I,o))return c;let A=n[i+1];i=o?Or(A):zi(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Ah(u,r))}return c}function Du(n){return n!==void 0}function px(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=dt(Xf(n)))),n}function gx(n,e){return(n.flags&(e?8:16))!==0}function mx(n,e,t,r,i,s){let o=e.consts,c=hu(o,i),u=Fu(e,n,2,r,c);return VE(e,t,u,hu(o,s)),u.attrs!==null&&yf(u,u.attrs,!1),u.mergedAttrs!==null&&yf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ce(n,e,t,r){let i=De(),s=yt(),o=pn+n,c=i[He],u=s.firstCreatePass?mx(o,s,i,e,t,r):s.data[o],d=yx(s,i,u,c,e,n);i[o]=d;let f=Vf(u);return Mo(u,!0),SE(c,d,u),!WN(u)&&Hf()&&np(s,i,d,u),iR()===0&&xr(d,i),sR(),f&&(PE(s,i,u),xE(s,u,i)),r!==null&&OE(i,u),Ce}function Re(){let n=ft();jw()?dR():(n=n.parent,Mo(n,!1));let e=n;cR(e)&&uR(),oR();let t=yt();return t.firstCreatePass&&(qf(t,n),Sw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&CR(e)&&KI(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bR(e)&&KI(t,e,De(),e.stylesWithoutHost,!1),Re}function Fe(n,e,t,r){return Ce(n,e,t,r),Re(),Fe}var yx=(n,e,t,r,i,s)=>(zf(!0),_E(r,i,IR()));function eD(){return De()}var Cu="en-US";var vx=Cu;function _x(n){typeof n=="string"&&(vx=n.toLowerCase().replace(/_/g,"-"))}var Ix=(n,e,t)=>{};function Zt(n,e,t,r){let i=De(),s=yt(),o=ft();return tD(s,i,i[He],o,n,e,r),Zt}function wx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[cu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function tD(n,e,t,r,i,s,o){let c=Vf(r),d=n.firstCreatePass&&GM(n),f=e[Gt],g=qM(e),_=!0;if(r.type&3||o){let M=Tt(r,e),R=o?o(M):M,V=g.length,G=o?ee=>o(Kt(ee[r.index])):r.index,H=null;if(!o&&c&&(H=wx(n,e,i,r.index)),H!==null){let ee=H.__ngLastListenerFn__||H;ee.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,_=!1}else{s=ZI(r,e,f,s),Ix(M,i,s);let ee=t.listen(R,i,s);g.push(s,ee),d&&d.push(i,G,V,V+1)}}else s=ZI(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let M=A.length;if(M)for(let R=0;R<M;R+=2){let V=A[R],G=A[R+1],Te=e[V][G].subscribe(s),W=g.length;g.push(s,Te),d&&d.push(i,r.index,W,-(W+1))}}}function YI(n,e,t,r){let i=he(null);try{return Ht(6,e,t),t(r)!==!1}catch(s){return $E(n,s),!1}finally{Ht(7,e,t),he(i)}}function ZI(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?tr(n.index,e):e;ap(o,5);let c=YI(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=YI(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function nD(n){let e=hR();return tR(e,pn+n)}function we(n,e=""){let t=De(),r=yt(),i=n+pn,s=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],o=Ex(r,t,s,e,n);t[i]=o,Hf()&&np(r,t,o,s),Mo(s,!1)}var Ex=(n,e,t,r,i)=>(zf(!0),nM(e[He],r));function lp(n,e,t,r,i){let s=De(),o=XN(s,n,e,t,r,i);return o!==Yi&&WM(s,Ki(),o),lp}function Zi(n,e,t){JE(e)&&(e=e());let r=De(),i=Uf();if(Hi(r,i,e)){let s=yt(),o=$f();FE(s,o,r,n,e,r[He],t,!1)}return Zi}function ko(n,e){let t=JE(n);return t&&n.set(e),t}function Ji(n,e){let t=De(),r=yt(),i=ft();return tD(r,t,t[He],i,n,e),Ji}function Dx(n,e,t){let r=yt();if(r.firstCreatePass){let i=Xn(n);Df(t,r.data,r.blueprint,i,!0),Df(e,r.data,r.blueprint,i,!1)}}function Df(n,e,t,r,i){if(n=at(n),Array.isArray(n))for(let s=0;s<n.length;s++)Df(n[s],e,t,r,i);else{let s=yt(),o=De(),c=ft(),u=ki(n)?n:at(n.provide),d=Cw(n),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(ki(n)||!n.multi){let I=new Nr(d,i,fe),A=jh(u,e,i?f:f+_,g);A===-1?(ef(gu(c,o),s,u),Uh(s,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)):(t[A]=I,o[A]=I)}else{let I=jh(u,e,f+_,g),A=jh(u,e,f,f+_),M=I>=0&&t[I],R=A>=0&&t[A];if(i&&!R||!i&&!M){ef(gu(c,o),s,u);let V=Tx(i?bx:Cx,t.length,i,r,d);!i&&R&&(t[A].providerFactory=V),Uh(s,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(V),o.push(V)}else{let V=rD(t[i?A:I],d,!i&&r);Uh(s,n,I>-1?I:A,V)}!i&&r&&R&&t[A].componentProviders++}}}function Uh(n,e,t,r){let i=ki(e),s=BA(e);if(i||s){let u=(s?at(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(t);f===-1?d.push(t,[r,u]):d[f+1].push(r,u)}else d.push(t,u)}}}function rD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jh(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Cx(n,e,t,r){return Cf(this.multi,[])}function bx(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Ui(t,t[se],this.providerFactory.index,r);s=c.slice(0,o),Cf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Cf(i,s);return s}function Cf(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Tx(n,e,t,r,i){let s=new Nr(n,t,fe);return s.multi=[],s.index=e,s.componentProviders=0,rD(s,i,r&&!t),s}function sr(n,e=[]){return t=>{t.providersResolver=(r,i)=>Dx(r,i?i(n):n,e)}}var Sx=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ww(!1,t.type),i=r.length>0?up([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(ne(bt))})}}return n})();function Xi(n){xo("NgStandalone"),n.getStandaloneInjector=e=>e.get(Sx).getOrCreateStandaloneInjector(n)}var yn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},iD=new yn("18.2.13");var $u=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var sD=new j("");function Lr(n){return!!n&&typeof n.then=="function"}function oD(n){return!!n&&typeof n.subscribe=="function"}var aD=new j(""),cD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=k(aD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Lr(s))t.push(s);else if(oD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dp=new j("");function Ax(){B_(()=>{throw new L(600,!1)})}function Rx(n){return n.isBoundToModule}var Mx=10;function Nx(n,e,t){try{let r=t();return Lr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Ur=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(zR),this.afterRenderManager=k(JN),this.zonelessEnabled=k(Lu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=k(Qi).hasPendingTasks.pipe(te(t=>!t)),this._injector=k(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Iu;if(!this._injector.get(cD).done){let _=!i&&yw(t),I=!1;throw new L(405,I)}let o;i?o=t:o=this._injector.get(Bi).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=Rx(o)?void 0:this._injector.get(er),u=r||o.selector,d=o.create(ht.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(sD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),eu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new L(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get($i,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Mx;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)xx(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Nu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;eu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(dp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function eu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xx(n,e,t,r){if(!t&&!Nu(n))return;qE(n,e,t&&!r?0:1)}var bf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hp=(()=>{class n{compileModuleSync(t){return new If(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=vw(t),s=vE(i.declarations).reduce((o,c)=>{let u=Sr(c);return u&&o.push(new Co(u)),o},[]);return new bf(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Px=(()=>{class n{constructor(){this.zone=k(ve),this.changeDetectionScheduler=k(ji),this.applicationRef=k(Ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ox=new j("",{factory:()=>!1});function uD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(re(O({},dD()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:Oi,multi:!0,useFactory:()=>{let r=k(Px,{optional:!0});return()=>r.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{let r=k(kx);return()=>{r.initialize()}}},e===!0?{provide:QE,useValue:!0}:[],{provide:YE,useValue:t??aE}]}function lD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=uD({ngZoneFactory:()=>{let i=dD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&xo("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yt([{provide:Ox,useValue:!0},{provide:Lu,useValue:!1},r])}function dD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var kx=(()=>{class n{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=k(ve),this.pendingTasks=k(Qi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fx=(()=>{class n{constructor(){this.appRef=k(Ur),this.taskService=k(Qi),this.ngZone=k(ve),this.zonelessEnabled=k(Lu),this.disableScheduling=k(QE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(YE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof of||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?PI:uE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Vx(){return typeof $localize<"u"&&$localize.locale||Cu}var fp=new j("",{providedIn:"root",factory:()=>k(fp,X.Optional|X.SkipSelf)||Vx()});var Tf=new j("");function Yc(n){return!n.moduleRef}function Lx(n){let e=Yc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{Yc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(gn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Yc(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Tf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Tf);o.add(s),n.moduleRef.onDestroy(()=>{eu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return Nx(r,t,()=>{let s=e.get(cD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(fp,Cu);if(_x(o||Cu),Yc(n)){let c=e.get(Ur);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return Ux(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Ux(n,e){let t=n.injector.get(Ur);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}var tu=null;function jx(n=[],e){return ht.create({name:e,providers:[{provide:Au,useValue:"platform"},{provide:Tf,useValue:new Set([()=>tu=null])},...n]})}function Bx(n=[]){if(tu)return tu;let e=jx(n);return tu=e,Ax(),$x(e),e}function $x(n){n.get(Yf,null)?.forEach(t=>t())}var jr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Hx}}return n})();function Hx(n){return zx(ft(),De(),(n&16)===16)}function zx(n,e,t){if(Mu(n)&&!t){let r=tr(n.index,e);return new Pr(r,r)}else if(n.type&175){let r=e[Wt];return new Pr(r,e)}return null}var Sf=class{constructor(){}supports(e){return XE(e)}create(e){return new Af(e)}},qx=(n,e)=>e,Af=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qx}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<JI(r,i,s)?t:r,c=JI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,A=I+_;f<=A&&A<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-d}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!XE(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,zN(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Rf(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new bu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rf=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},bu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Mf,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function XI(){return new pp([new Sf])}var pp=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:XI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XI()),deps:[[n,new uw,new ut]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function hD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Bx(r),s=[uD({}),{provide:ji,useExisting:Fx},...t||[]],o=new Eu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Lx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Fo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Vo(n,e){xo("NgSignals");let t=L_(n);return e?.equal&&(t[ln].equal=e.equal),t}function Dn(n){let e=he(null);try{return n()}finally{he(e)}}var mD=null;function Cn(){return mD}function yD(n){mD??=n}var Hu=class{};var At=new j(""),vD=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(Kx),providedIn:"platform"})}}return n})();var Kx=(()=>{class n extends vD{constructor(){super(),this._doc=k(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cn().getBaseHref(this._doc)}onPopState(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function _D(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function fD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function $r(n){return n&&n[0]!=="?"?"?"+n:n}var qu=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(ID),providedIn:"root"})}}return n})(),Qx=new j(""),ID=(()=>{class n extends qu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _D(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+$r(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(vD),ne(Qx,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lo=(()=>{class n{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Jx(fD(pD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$r(r))}normalize(t){return n.stripTrailingSlash(Zx(this._basePath,pD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=$r}static{this.joinWithSlash=_D}static{this.stripTrailingSlash=fD}static{this.\u0275fac=function(r){return new(r||n)(ne(qu))}}static{this.\u0275prov=B({token:n,factory:()=>Yx(),providedIn:"root"})}}return n})();function Yx(){return new Lo(ne(qu))}function Zx(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function pD(n){return n.replace(/\/index.html$/,"")}function Jx(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function wD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var gp=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ED=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),gD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);gD(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(fe(No),fe(cp),fe(pp))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function gD(n,e){n.context.$implicit=e.item}var Uo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=kr({})}}return n})(),DD="browser",Xx="server";function mp(n){return n===Xx}var zu=class{};var _p=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ip=class n extends _p{static makeCurrent(){yD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=tP();return t==null?null:nP(t)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wD(document.cookie,e)}},jo=null;function tP(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}function nP(n){return new URL(n,document.baseURI).pathname}var rP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),wp=new j(""),SD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ne(wp),ne(ve))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Gu=class{constructor(e){this._doc=e}},yp="ng-app-id",AD=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mp(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${yp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(yp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(yp,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ne(At),ne(Qf),ne(Zf,8),ne(nr))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dp=/%COMP%/g,RD="%COMP%",iP=`_nghost-${RD}`,sP=`_ngcontent-${RD}`,oP=!0,aP=new j("",{providedIn:"root",factory:()=>oP});function cP(n){return sP.replace(Dp,n)}function uP(n){return iP.replace(Dp,n)}function MD(n,e){return e.map(t=>t.replace(Dp,n))}var CD=(()=>{class n{constructor(t,r,i,s,o,c,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=mp(c),this.defaultRenderer=new Bo(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r=re(O({},r),{encapsulation:qt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Wu?i.applyToHost(t):i instanceof $o&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case qt.Emulated:s=new Wu(u,d,r,this.appId,f,o,c,g);break;case qt.ShadowDom:return new Ep(u,d,t,r,o,c,this.nonce,g);default:s=new $o(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ne(SD),ne(AD),ne(Qf),ne(aP),ne(At),ne(nr),ne(ve),ne(Zf))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Bo=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(vp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=vp[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=vp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(t,r,i&mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Cn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ep=class extends Bo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=MD(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$o=class extends Bo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?MD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends $o{constructor(e,t,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,t,r,s,o,c,u,d),this.contentAttr=cP(d),this.hostAttr=uP(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},lP=(()=>{class n extends Gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ne(At))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),TD=["alt","control","meta","shift"],dP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},fP=(()=>{class n extends Gu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),TD.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=dP[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TD.forEach(o=>{if(o!==i){let c=hP[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ne(At))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function ND(n,e){return hD(O({rootComponent:n},pP(e)))}function pP(n){return{appProviders:[..._P,...n?.providers??[]],platformProviders:vP}}function gP(){Ip.makeCurrent()}function mP(){return new gn}function yP(){return mE(document),document}var vP=[{provide:nr,useValue:DD},{provide:Yf,useValue:gP,multi:!0},{provide:At,useFactory:yP,deps:[]}];var _P=[{provide:Au,useValue:"root"},{provide:gn,useFactory:mP,deps:[]},{provide:wp,useClass:lP,multi:!0,deps:[At,ve,nr]},{provide:wp,useClass:fP,multi:!0,deps:[At]},CD,AD,SD,{provide:$i,useExisting:CD},{provide:zu,useClass:rP,deps:[]},[]];var xD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ne(At))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $D=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(fe(ir),fe(En))}}static{this.\u0275dir=ke({type:n})}}return n})(),tl=(()=>{class n extends $D{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,features:[St]})}}return n})(),Qo=new j(""),wP={provide:Qo,useExisting:Qt(()=>bp),multi:!0},bp=(()=>{class n extends tl{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Zt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[sr([wP]),St]})}}return n})(),EP={provide:Qo,useExisting:Qt(()=>nl),multi:!0};function DP(){let n=Cn()?Cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var CP=new j(""),nl=(()=>{class n extends $D{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!DP())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(fe(ir),fe(En),fe(CP,8))}}static{this.\u0275dir=ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Zt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[sr([EP]),St]})}}return n})();function bP(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Tp=new j(""),HD=new j("");function TP(n){return bP(n.value)?{required:!0}:null}function PD(n){return null}function zD(n){return n!=null}function qD(n){return Lr(n)?Ne(n):n}function GD(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function WD(n,e){return e.map(t=>t(n))}function SP(n){return!n.validate}function KD(n){return n.map(e=>SP(e)?e:t=>e.validate(t))}function AP(n){if(!n)return null;let e=n.filter(zD);return e.length==0?null:function(t){return GD(WD(t,e))}}function Sp(n){return n!=null?AP(KD(n)):null}function RP(n){if(!n)return null;let e=n.filter(zD);return e.length==0?null:function(t){let r=WD(t,e).map(qD);return Eh(r).pipe(te(GD))}}function Ap(n){return n!=null?RP(KD(n)):null}function OD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MP(n){return n._rawValidators}function NP(n){return n._rawAsyncValidators}function Cp(n){return n?Array.isArray(n)?n:[n]:[]}function Qu(n,e){return Array.isArray(n)?n.includes(e):n===e}function kD(n,e){let t=Cp(e);return Cp(n).forEach(i=>{Qu(t,i)||t.push(i)}),t}function FD(n,e){return Cp(e).filter(t=>!Qu(n,t))}var Yu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ap(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ns=class extends Yu{get formDirective(){return null}get path(){return null}},Ko=class extends Yu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},m4=re(O({},xP),{"[class.ng-submitted]":"isSubmitted"}),QD=(()=>{class n extends Zu{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(fe(Ko,2))}}static{this.\u0275dir=ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[St]})}}return n})(),YD=(()=>{class n extends Zu{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(fe(ns,10))}}static{this.\u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[St]})}}return n})();var Ho="VALID",Ku="INVALID",es="PENDING",zo="DISABLED",rs=class{},Ju=class extends rs{constructor(e,t){super(),this.value=e,this.source=t}},Go=class extends rs{constructor(e,t){super(),this.pristine=e,this.source=t}},Wo=class extends rs{constructor(e,t){super(),this.touched=e,this.source=t}},ts=class extends rs{constructor(e,t){super(),this.status=e,this.source=t}};function ZD(n){return(rl(n)?n.validators:n)||null}function PP(n){return Array.isArray(n)?Sp(n):n||null}function JD(n,e){return(rl(e)?e.asyncValidators:n)||null}function OP(n){return Array.isArray(n)?Ap(n):n||null}function rl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function kP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function FP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Xu=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vo(()=>this.statusReactive()),this.statusReactive=Po(void 0),this._pristine=Vo(()=>this.pristineReactive()),this.pristineReactive=Po(!0),this._touched=Vo(()=>this.touchedReactive()),this.touchedReactive=Po(!1),this._events=new Qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ho}get invalid(){return this.status===Ku}get pending(){return this.status==es}get disabled(){return this.status===zo}get enabled(){return this.status!==zo}get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FD(e,this._rawAsyncValidators))}hasValidator(e){return Qu(this._rawValidators,e)}hasAsyncValidator(e){return Qu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wo(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Go(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Go(!0,r))}markAsPending(e={}){this.status=es;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ts(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zo,this.errors=null,this._forEachChild(i=>{i.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ju(this.value,r)),this._events.next(new ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ho,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ho||this.status===es)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ju(this.value,t)),this._events.next(new ts(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zo:Ho}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=es,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=qD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ts(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?zo:this.errors?Ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(es)?es:this._anyControlsHaveStatus(Ku)?Ku:Ho}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Go(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wo(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OP(this._rawAsyncValidators)}},el=class extends Xu{constructor(e,t,r){super(ZD(t),JD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FP(this,!0,e),Object.keys(e).forEach(r=>{kP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rp=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Mp}),Mp="always";function VP(n,e){return[...e.path,n]}function XD(n,e,t=Mp){eC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),UP(n,e),BP(n,e),jP(n,e),LP(n,e)}function VD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function LP(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function eC(n,e){let t=MP(n);e.validator!==null?n.setValidators(OD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=NP(n);e.asyncValidator!==null?n.setAsyncValidators(OD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();VD(e._rawValidators,i),VD(e._rawAsyncValidators,i)}function UP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&tC(n,e)})}function jP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&tC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function tC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BP(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $P(n,e){n==null,eC(n,e)}function HP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function zP(n){return Object.getPrototypeOf(n.constructor)===tl}function qP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===nl?t=s:zP(s)?r=s:i=s}),i||r||t||null}var WP={provide:ns,useExisting:Qt(()=>Np)},qo=Promise.resolve(),Np=(()=>{class n extends ns{get submitted(){return Dn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Vo(()=>this.submittedReactive()),this.submittedReactive=Po(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new el({},Sp(t),Ap(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qo.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),XD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qo.then(()=>{let r=this._findContainer(t.path),i=new el({});$P(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qo.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){qo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),qP(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(fe(Tp,10),fe(HD,10),fe(Rp,8))}}static{this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Zt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([WP]),St]})}}return n})();function LD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function UD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var KP=class extends Xu{constructor(e=null,t,r){super(ZD(t),JD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(UD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QP={provide:Ko,useExisting:Qt(()=>xp)},jD=Promise.resolve(),xp=(()=>{class n extends Ko{constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new KP,this._registered=!1,this.name="",this.update=new Oe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GP(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),HP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){jD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Fo(r);jD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?VP(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(fe(ns,9),fe(Tp,10),fe(HD,10),fe(Qo,10),fe(jr,8),fe(Rp,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sr([QP]),St,Vr]})}}return n})(),nC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var YP={provide:Qo,useExisting:Qt(()=>il),multi:!0};function rC(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function ZP(n){return n.split(":")[0]}var il=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=rC(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=ZP(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Zt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[sr([YP]),St]})}}return n})(),iC=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(rC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(fe(En),fe(ir),fe(il,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),JP={provide:Qo,useExisting:Qt(()=>sC),multi:!0};function BD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function XP(n){return n.split(":")[0]}var sC=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=XP(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Zt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[sr([JP]),St]})}}return n})(),oC=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(BD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(BD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(fe(En),fe(ir),fe(sC,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var eO=(()=>{class n{constructor(){this._validator=PD}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):PD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,features:[Vr]})}}return n})();var tO={provide:Tp,useExisting:Qt(()=>Pp),multi:!0};var Pp=(()=>{class n extends eO{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fo,this.createValidator=t=>TP}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ju("required",i._enabled?"":null)},inputs:{required:"required"},features:[sr([tO]),St]})}}return n})();var nO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=kr({})}}return n})();var aC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rp,useValue:t.callSetDisabledState??Mp}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=kr({imports:[nO]})}}return n})();var uC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},iO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(t[f],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new kp;let _=s<<2|c>>4;if(r.push(_),d!==64){let I=c<<4&240|d>>2;if(r.push(I),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},kp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sO=function(n){let e=uC(n);return lC.encodeByteArray(e,!0)},Yo=function(n){return sO(n).replace(/\./g,"")},Vp=function(n){try{return lC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aO=()=>oO().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vp(n[1]);return e&&JSON.parse(e)},ol=()=>{try{return aO()||cO()||uO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Lp=n=>{var e,t;return(t=(e=ol())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dC=n=>{let e=Lp(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Up=()=>{var n;return(n=ol())===null||n===void 0?void 0:n.config},jp=n=>{var e;return(e=ol())===null||e===void 0?void 0:e[`_${n}`]};var sl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yo(JSON.stringify(t)),Yo(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function lO(){var n;let e=(n=ol())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){let n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vC(){return!lO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bp(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var dO="FirebaseError",vt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new vt(i,c,r)}};function hO(n,e){return n.replace(fO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fO=/\{\$([^}]+)}/g;function IC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(cC(s)&&cC(o)){if(!Hr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function cC(n){return n!==null&&typeof n=="object"}function Zo(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wC(n,e){let t=new Fp(n,e);return t.subscribe.bind(t)}var Fp=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Op),i.error===void 0&&(i.error=Op),i.complete===void 0&&(i.complete=Op);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Op(){}var _4=4*60*60*1e3;function Tn(n){return n&&n._delegate?n._delegate:n}var Rt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zr="[DEFAULT]";var $p=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new sl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gO(n){return n===zr?void 0:n}function mO(n){return n.instantiationMode==="EAGER"}var al=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $p(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var yO=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),vO={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},_O=ae.INFO,IO={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},wO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=IO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=wO,this._userLogHandler=null,yO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var EO=(n,e)=>e.some(t=>n instanceof t),EC,DC;function DO(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CC=new WeakMap,zp=new WeakMap,bC=new WeakMap,Hp=new WeakMap,Gp=new WeakMap;function bO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Jt(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&CC.set(t,n)}).catch(()=>{}),Gp.set(e,n),e}function TO(n){if(zp.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});zp.set(n,e)}var qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TC(n){qp=n(qp)}function SO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(cl(this),e,...t);return bC.set(r,e.sort?e.sort():[e]),Jt(r)}:CO().includes(n)?function(...e){return n.apply(cl(this),e),Jt(CC.get(this))}:function(...e){return Jt(n.apply(cl(this),e))}}function AO(n){return typeof n=="function"?SO(n):(n instanceof IDBTransaction&&TO(n),EO(n,DO())?new Proxy(n,qp):n)}function Jt(n){if(n instanceof IDBRequest)return bO(n);if(Hp.has(n))return Hp.get(n);let e=AO(n);return e!==n&&(Hp.set(n,e),Gp.set(e,n)),e}var cl=n=>Gp.get(n);function AC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Jt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Jt(o.result),u.oldVersion,u.newVersion,Jt(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var RO=["get","getKey","getAll","getAllKeys","count"],MO=["put","add","delete","clear"],Wp=new Map;function SC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=MO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RO.includes(t)))return;let s=function(o,...c){return E(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]})};return Wp.set(e,s),s}TC(n=>re(O({},n),{get:(e,t,r)=>SC(e,t)||n.get(e,t,r),has:(e,t)=>!!SC(e,t)||n.has(e,t)}));var Qp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NO(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function NO(n){let e=n.getComponent();return e?.type==="VERSION"}var Yp="@firebase/app",RC="0.10.13";var Sn=new or("@firebase/app"),xO="@firebase/app-compat",PO="@firebase/analytics-compat",OO="@firebase/analytics",kO="@firebase/app-check-compat",FO="@firebase/app-check",VO="@firebase/auth",LO="@firebase/auth-compat",UO="@firebase/database",jO="@firebase/data-connect",BO="@firebase/database-compat",$O="@firebase/functions",HO="@firebase/functions-compat",zO="@firebase/installations",qO="@firebase/installations-compat",GO="@firebase/messaging",WO="@firebase/messaging-compat",KO="@firebase/performance",QO="@firebase/performance-compat",YO="@firebase/remote-config",ZO="@firebase/remote-config-compat",JO="@firebase/storage",XO="@firebase/storage-compat",ek="@firebase/firestore",tk="@firebase/vertexai-preview",nk="@firebase/firestore-compat",rk="firebase",ik="10.14.1";var Zp="[DEFAULT]",sk={[Yp]:"fire-core",[xO]:"fire-core-compat",[OO]:"fire-analytics",[PO]:"fire-analytics-compat",[FO]:"fire-app-check",[kO]:"fire-app-check-compat",[VO]:"fire-auth",[LO]:"fire-auth-compat",[UO]:"fire-rtdb",[jO]:"fire-data-connect",[BO]:"fire-rtdb-compat",[$O]:"fire-fn",[HO]:"fire-fn-compat",[zO]:"fire-iid",[qO]:"fire-iid-compat",[GO]:"fire-fcm",[WO]:"fire-fcm-compat",[KO]:"fire-perf",[QO]:"fire-perf-compat",[YO]:"fire-rc",[ZO]:"fire-rc-compat",[JO]:"fire-gcs",[XO]:"fire-gcs-compat",[ek]:"fire-fst",[nk]:"fire-fst-compat",[tk]:"fire-vertex","fire-js":"fire-js",[rk]:"fire-js-all"};var Jo=new Map,ok=new Map,Jp=new Map;function MC(n,e){try{n.container.addComponent(e)}catch(t){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cr(n){let e=n.name;if(Jp.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,n);for(let t of Jo.values())MC(t,n);for(let t of ok.values())MC(t,n);return!0}function ea(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function An(n){return n.settings!==void 0}var ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new bn("app","Firebase",ak);var Xp=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}};var ur=ik;function ul(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ar.create("bad-app-name",{appName:String(i)});if(t||(t=Up()),!t)throw ar.create("no-options");let s=Jo.get(i);if(s){if(Hr(t,s.options)&&Hr(r,s.config))return s;throw ar.create("duplicate-app",{appName:i})}let o=new al(i);for(let u of Jp.values())o.addComponent(u);let c=new Xp(t,r,o);return Jo.set(i,c),c}function is(n=Zp){let e=Jo.get(n);if(!e&&n===Zp&&Up())return ul();if(!e)throw ar.create("no-app",{appName:n});return e}function ll(){return Array.from(Jo.values())}function ze(n,e,t){var r;let i=(r=sk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(c.join(" "));return}cr(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ck="firebase-heartbeat-database",uk=1,Xo="firebase-heartbeat-store",Kp=null;function OC(){return Kp||(Kp=AC(ck,uk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xo)}catch(t){console.warn(t)}}}}).catch(n=>{throw ar.create("idb-open",{originalErrorMessage:n.message})})),Kp}function lk(n){return E(this,null,function*(){try{let t=(yield OC()).transaction(Xo),r=yield t.objectStore(Xo).get(kC(n));return yield t.done,r}catch(e){if(e instanceof vt)Sn.warn(e.message);else{let t=ar.create("idb-get",{originalErrorMessage:e?.message});Sn.warn(t.message)}}})}function NC(n,e){return E(this,null,function*(){try{let r=(yield OC()).transaction(Xo,"readwrite");yield r.objectStore(Xo).put(e,kC(n)),yield r.done}catch(t){if(t instanceof vt)Sn.warn(t.message);else{let r=ar.create("idb-set",{originalErrorMessage:t?.message});Sn.warn(r.message)}}})}function kC(n){return`${n.name}!${n.options.appId}`}var dk=1024,hk=30*24*60*60*1e3,eg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=hk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sn.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xC(),{heartbeatsToSend:r,unsentEntries:i}=fk(this._heartbeatsCache.heartbeats),s=Yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Sn.warn(t),""}})}};function xC(){return new Date().toISOString().substring(0,10)}function fk(n,e=dk){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PC(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var tg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Bp()?_C().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PC(n){return Yo(JSON.stringify({version:2,heartbeats:n})).length}function pk(n){cr(new Rt("platform-logger",e=>new Qp(e),"PRIVATE")),cr(new Rt("heartbeat",e=>new eg(e),"PRIVATE")),ze(Yp,RC,n),ze(Yp,RC,"esm2017"),ze("fire-js","")}pk("");var gk="firebase",mk="10.14.1";ze(gk,mk,"app");var Gr=new yn("ANGULARFIRE2_VERSION");function hl(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ta=(n,e)=>{let t=e?[e]:ll(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},os=class{constructor(){return ta(yk)}},yk="app-check";function ss(){}var dl=class{zone;delegate;constructor(e,t=vh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},ng=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),t.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},as=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dl(Zone.current)),this.insideAngular=t.run(()=>new dl(Zone.current,yh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ne(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fl(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function vk(n){return fl().ngZone.runOutsideAngular(()=>n())}function qr(n){return fl().ngZone.run(()=>n())}function _k(n){return Ik(fl())(n)}function Ik(n){return function(t){return t=t.lift(new ng(n.ngZone)),t.pipe(Gn(n.outsideAngular),qn(n.insideAngular))}}var wk=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qr(()=>n.apply(void 0,r))},na=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss))),r[s]=wk(r[s],t));let i=vk(()=>n.apply(this,r));if(!e)if(i instanceof ce){let s=fl();return i.pipe(Gn(s.outsideAngular),qn(s.insideAngular))}else return qr(()=>i);return i instanceof ce?i.pipe(_k):i instanceof Promise?qr(()=>new Promise((s,o)=>i.then(c=>qr(()=>s(c)),c=>qr(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:qr(()=>i)};var Rn=class{constructor(e){return e}},Wr=class{constructor(){return ll()}};function Ek(n){return n&&n.length===1?n[0]:new Rn(is())}var rg=new j("angularfire2._apps"),Dk={provide:Rn,useFactory:Ek,deps:[[new ut,rg]]},Ck={provide:Wr,deps:[[new ut,rg]]};function bk(n){return(e,t)=>{let r=t.get(nr);ze("angularfire",Gr.full,"core"),ze("angularfire",Gr.full,"app"),ze("angular",iD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Rn(i)}}function FC(n,...e){return Yt([Dk,Ck,{provide:rg,useFactory:bk(n),multi:!0,deps:[ve,ht,as,...e]}])}function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JC=ZC,XC=new bn("auth","Firebase",ZC());var _l=new or("@firebase/auth");function Tk(n,...e){_l.logLevel<=ae.WARN&&_l.warn(`Auth (${ur}): ${n}`,...e)}function gl(n,...e){_l.logLevel<=ae.ERROR&&_l.error(`Auth (${ur}): ${n}`,...e)}function dr(n,...e){throw Dg(n,...e)}function Qr(n,...e){return Dg(n,...e)}function eb(n,e,t){let r=Object.assign(Object.assign({},JC()),{[e]:t});return new bn("auth","Firebase",r).create(e,{appName:n.name})}function Kr(n){return eb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dg(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XC.create(n,...e)}function q(n,e,...t){if(!n)throw Dg(e,...t)}function Mn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw gl(e),new Error(e)}function hr(n,e){n||Mn(e)}function ag(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Sk(){return VC()==="http:"||VC()==="https:"}function VC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sk()||gC()||"connection"in navigator)?navigator.onLine:!0}function Rk(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Yr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hr(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||mC()}get(){return Ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cg(n,e){hr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Il=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Nk=new Yr(3e4,6e4);function bg(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function us(s,o,c,u){return E(this,arguments,function*(n,e,t,r,i={}){return tb(n,i,()=>E(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Zo(Object.assign({key:n.config.apiKey},f)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return pC()||(I.referrerPolicy="no-referrer"),Il.fetch()(nb(n,n.config.apiHost,t,g),I)}))})}function tb(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Mk),e);try{let i=new cg(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw pl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw pl(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eb(n,f,d);dr(n,f)}}catch(i){if(i instanceof vt)throw i;dr(n,"network-request-failed",{message:String(i)})}})}function xk(s,o,c,u){return E(this,arguments,function*(n,e,t,r,i={}){let d=yield us(n,e,t,r,i);return"mfaPendingCredential"in d&&dr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function nb(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Cg(n.config,i):`${n.config.apiScheme}://${i}`}var cg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),Nk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Qr(n,e,r);return i.customData._tokenResponse=t,i}function Pk(n,e){return E(this,null,function*(){return us(n,"POST","/v1/accounts:delete",e)})}function rb(n,e){return E(this,null,function*(){return us(n,"POST","/v1/accounts:lookup",e)})}function ra(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tg(n,e=!1){return E(this,null,function*(){let t=Tn(n),r=yield t.getIdToken(e),i=Sg(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ra(ig(i.auth_time)),issuedAtTime:ra(ig(i.iat)),expirationTime:ra(ig(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ig(n){return Number(n)*1e3}function Sg(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vp(t);return i?JSON.parse(i):(gl("Failed to decode base64 JWT payload"),null)}catch(i){return gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LC(n){let e=Sg(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sa(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vt&&Ok(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ok({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ug=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var oa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wl(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield sa(n,rb(t,{idToken:r}));q(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ib(s.providerUserInfo):[],c=kk(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new oa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function Ag(n){return E(this,null,function*(){let e=Tn(n);yield wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ib(n){return n.map(e=>{var{providerId:t}=e,r=_h(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fk(n,e){return E(this,null,function*(){let t=yield tb(n,{},()=>E(this,null,function*(){let r=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=nb(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Il.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Vk(n,e){return E(this,null,function*(){return us(n,"POST","/v2/accounts:revokeToken",bg(n,e))})}var ia=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=LC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Fk(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Mn("not implemented")}};function lr(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var cs=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=_h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ug(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield sa(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Tg(this,e)}reload(){return Ag(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield wl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(An(this.auth.app))return Promise.reject(Kr(this.auth));let e=yield this.getIdToken();return yield sa(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,d,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=t.createdAt)!==null&&d!==void 0?d:void 0,G=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:ee,isAnonymous:Te,providerData:W,stsTokenManager:D}=t;q(H&&D,e,"internal-error");let m=ia.fromJSON(this.name,D);q(typeof H=="string",e,"internal-error"),lr(g,e.name),lr(_,e.name),q(typeof ee=="boolean",e,"internal-error"),q(typeof Te=="boolean",e,"internal-error"),lr(I,e.name),lr(A,e.name),lr(M,e.name),lr(R,e.name),lr(V,e.name),lr(G,e.name);let y=new n({uid:H,auth:e,email:_,emailVerified:ee,displayName:g,isAnonymous:Te,photoURL:A,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:V,lastLoginAt:G});return W&&Array.isArray(W)&&(y.providerData=W.map(w=>Object.assign({},w))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new ia;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ib(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ia;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var UC=new Map;function Nn(n){hr(n instanceof Function,"Expected a class definition");let e=UC.get(n);return e?(hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UC.set(n,e),e)}var Lk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),lg=Lk;function ml(n,e,t){return`firebase:${n}:${e}:${t}`}var El=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=ml("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(Nn(lg),e,r);let i=(yield Promise.all(t.map(d=>E(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Nn(lg),o=ml(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=yield d._get(o);if(f){let g=cs._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(d=>E(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,e,r))})}};function jC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(db(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sb(n=Ge()){return/firefox\//i.test(n)}function ob(n=Ge()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(n=Ge()){return/crios\//i.test(n)}function cb(n=Ge()){return/iemobile/i.test(n)}function ub(n=Ge()){return/android/i.test(n)}function lb(n=Ge()){return/blackberry/i.test(n)}function db(n=Ge()){return/webos/i.test(n)}function Rg(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Uk(n=Ge()){var e;return Rg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jk(){return yC()&&document.documentMode===10}function hb(n=Ge()){return Rg(n)||ub(n)||db(n)||lb(n)||/windows phone/i.test(n)||cb(n)}function fb(n,e=[]){let t;switch(n){case"Browser":t=jC(Ge());break;case"Worker":t=`${jC(Ge())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ur}/${r}`}var dg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Bk(t){return E(this,arguments,function*(n,e={}){return us(n,"GET","/v2/passwordPolicy",bg(n,e))})}var $k=6,hg=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:$k,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var fg=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dl(this),this.idTokenSubscription=new Dl(this),this.beforeStateQueue=new dg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nn(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield El.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield rb(this,{idToken:e}),r=yield cs._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(An(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield wl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Rk()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(An(this.app))return Promise.reject(Kr(this));let t=e?Tn(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return An(this.app)?Promise.reject(Kr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return An(this.app)?Promise.reject(Kr(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Nn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield Bk(this),t=new hg(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Vk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Nn(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=yield El.create(this,[Nn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Tk(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Mg(n){return Tn(n)}var Dl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ng={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hk(n){Ng=n}function zk(n){return Ng.loadJS(n)}function qk(){return Ng.gapiScript}function pb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function xg(n,e){let t=ea(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Hr(s,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function Gk(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Nn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Pg(n,e,t){let r=Mg(n);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=gb(e),{host:o,port:c}=Wk(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Kk()}function gb(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Wk(n){let e=gb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:BC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:BC(o)}}}function BC(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Kk(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Cl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,t){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}};function sg(n,e){return E(this,null,function*(){return xk(n,"POST","/v1/accounts:signInWithIdp",bg(n,e))})}var bl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var pg=class extends bl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var aa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield cs._fromIdTokenResponse(e,r,i),o=$C(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=$C(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function $C(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var gg=class n extends vt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function mb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(n,s,e,r):s})}function Qk(n,e,t=!1){return E(this,null,function*(){let r=yield sa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return aa._forOperation(n,"link",r)})}function Yk(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(An(r.app))return Promise.reject(Kr(r));let i="reauthenticate";try{let s=yield sa(n,mb(r,i,e,n),t);q(s.idToken,r,"internal-error");let o=Sg(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(n.uid===c,r,"user-mismatch"),aa._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&dr(r,"user-mismatch"),s}})}function Zk(n,e,t=!1){return E(this,null,function*(){if(An(n.app))return Promise.reject(Kr(n));let r="signIn",i=yield mb(n,r,e),s=yield aa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Og(n,e,t,r){return Tn(n).onIdTokenChanged(e,t,r)}function kg(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}var Tl="__sak";var Sl=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tl,"1"),this.storage.removeItem(Tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Jk=1e3,Xk=10,e1=(()=>{class n extends Sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);jk()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Xk):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield Hn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield Hn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield Hn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),yb=e1;var t1=(()=>{class n extends Sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Fg=t1;function n1(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var r1=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>E(this,null,function*(){return f(r.origin,o)})),d=yield n1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function vb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var mg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=vb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Xt(){return window}function i1(n){Xt().location.href=n}function _b(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}function s1(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o1(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function a1(){return _b()?self:null}var Ib="firebaseLocalStorageDb",c1=1,Al="firebaseLocalStorage",wb="fbase_key",Zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ml(n,e){return n.transaction([Al],e?"readwrite":"readonly").objectStore(Al)}function u1(){let n=indexedDB.deleteDatabase(Ib);return new Zr(n).toPromise()}function yg(){let n=indexedDB.open(Ib,c1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Al,{keyPath:wb})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Al)?e(r):(r.close(),yield u1(),e(yield yg()))}))})}function HC(n,e,t){return E(this,null,function*(){let r=Ml(n,!0).put({[wb]:e,value:t});return new Zr(r).toPromise()})}function l1(n,e){return E(this,null,function*(){let t=Ml(n,!1).get(e),r=yield new Zr(t).toPromise();return r===void 0?null:r.value})}function zC(n,e){let t=Ml(n,!0).delete(e);return new Zr(t).toPromise()}var d1=800,h1=3,f1=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield yg(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>h1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return _b()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=r1._getInstance(a1()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield s1(),!this.activeServiceWorker)return;this.sender=new mg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield yg();return yield HC(t,Tl,"1"),yield zC(t,Tl),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>HC(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>l1(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>zC(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=Ml(s,!1).getAll();return new Zr(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),d1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Eb=f1;var pW=pb("rcb"),gW=new Yr(3e4,6e4);function p1(n,e){return e?Nn(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ca=class extends Cl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sg(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function g1(n){return Zk(n.auth,new ca(n),n.bypassAuthState)}function m1(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),Yk(t,new ca(n),n.bypassAuthState)}function y1(n){return E(this,null,function*(){let{auth:e,user:t}=n;return q(t,e,"internal-error"),Qk(t,new ca(n),n.bypassAuthState)})}var vg=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g1;case"linkViaPopup":case"linkViaRedirect":return y1;case"reauthViaPopup":case"reauthViaRedirect":return m1;default:dr(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mW=new Yr(2e3,1e4);var v1="pendingRedirect",yl=new Map,_g=class n extends vg{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=yl.get(this.auth._key());if(!e){try{let r=(yield _1(this.resolver,this.auth))?yield Hn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Hn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Hn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function _1(n,e){return E(this,null,function*(){let t=E1(e),r=w1(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function I1(n,e){yl.set(n._key(),e)}function w1(n){return Nn(n._redirectPersistence)}function E1(n){return ml(v1,n.config.apiKey,n.name)}function D1(n,e,t=!1){return E(this,null,function*(){if(An(n.app))return Promise.reject(Kr(n));let r=Mg(n),i=p1(r,e),o=yield new _g(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var C1=10*60*1e3,Ig=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Db(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C1&&this.cachedEventUids.clear(),this.cachedEventUids.has(qC(e))}saveEventToCache(e){this.cachedEventUids.add(qC(e)),this.lastProcessedEventTime=Date.now()}};function qC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Db({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function b1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(n);default:return!1}}function T1(t){return E(this,arguments,function*(n,e={}){return us(n,"GET","/v1/projects",e)})}var S1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A1=/^https?/;function R1(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield T1(n);for(let t of e)try{if(M1(t))return}catch{}dr(n,"unauthorized-domain")})}function M1(n){let e=ag(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!A1.test(t))return!1;if(S1.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var N1=new Yr(3e4,6e4);function GC(){let n=Xt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function x1(n){return new Promise((e,t)=>{var r,i,s;function o(){GC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GC(),t(Qr(n,"network-request-failed"))},timeout:N1.get()})}if(!((i=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xt().gapi)===null||s===void 0)&&s.load)o();else{let c=pb("iframefcb");return Xt()[c]=()=>{gapi.load?o():t(Qr(n,"network-request-failed"))},zk(`${qk()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw vl=null,e})}var vl=null;function P1(n){return vl=vl||x1(n),vl}var O1=new Yr(5e3,15e3),k1="__/auth/iframe",F1="emulator/auth/iframe",V1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U1(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Cg(e,F1):`https://${n.config.authDomain}/${k1}`,r={apiKey:e.apiKey,appName:n.name,v:ur},i=L1.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Zo(r).slice(1)}`}function j1(n){return E(this,null,function*(){let e=yield P1(n),t=Xt().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:U1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V1,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Qr(n,"network-request-failed"),c=Xt().setTimeout(()=>{s(o)},O1.get());function u(){Xt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var B1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$1=500,H1=600,z1="_blank",q1="http://localhost",Rl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function G1(n,e,t,r=$1,i=H1){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},B1),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ge().toLowerCase();t&&(c=ab(d)?z1:t),sb(d)&&(e=e||q1,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(Uk(d)&&c!=="_self")return W1(e||"",c),new Rl(null);let g=window.open(e||"",c,f);q(g,n,"popup-blocked");try{g.focus()}catch{}return new Rl(g)}function W1(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var K1="__/auth/handler",Q1="emulator/auth/handler",Y1=encodeURIComponent("fac");function WC(n,e,t,r,i,s){return E(this,null,function*(){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ur,eventId:i};if(e instanceof bl){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",IC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof pg){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),d=u?`#${Y1}=${encodeURIComponent(u)}`:"";return`${Z1(n)}?${Zo(c).slice(1)}${d}`})}function Z1({config:n}){return n.emulator?Cg(n,Q1):`https://${n.authDomain}/${K1}`}var og="webStorageSupport",wg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fg,this._completeRedirectFn=D1,this._overrideRedirectResult=I1}_openPopup(e,t,r,i){return E(this,null,function*(){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield WC(e,t,r,ag(),i);return G1(e,o,vb())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield WC(e,t,r,ag(),i);return i1(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield j1(e),r=new Ig(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(og,{type:og},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[og];o!==void 0&&t(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hb()||ob()||Rg()}},Cb=wg;var KC="@firebase/auth",QC="1.7.9";var Eg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function J1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X1(n){cr(new Rt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(n)},d=new fg(r,i,s,u);return Gk(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cr(new Rt("auth-internal",e=>{let t=Mg(e.getProvider("auth").getImmediate());return(r=>new Eg(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(KC,QC,J1(n)),ze(KC,QC,"esm2017")}var eF=5*60,tF=jp("authIdTokenMaxAge")||eF,YC=null,nF=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tF)return;let i=t?.token;YC!==i&&(YC=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vg(n=is()){let e=ea(n,"auth");if(e.isInitialized())return e.getImmediate();let t=xg(n,{popupRedirectResolver:Cb,persistence:[Eb,yb,Fg]}),r=jp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nF(s.toString());kg(t,o,()=>o(t.currentUser)),Og(t,c=>o(c))}}let i=Lp("auth");return i&&Pg(t,`http://${i}`),t}function rF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hk({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Qr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",rF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X1("Browser");var bb="auth",ua=class{constructor(e){return e}},la=class{constructor(){return ta(bb)}};var Lg=new j("angularfire2.auth-instances");function ZF(n,e){let t=hl(bb,n,e);return t&&new ua(t)}function JF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ua(r)}}var XF={provide:la,deps:[[new ut,Lg]]},eV={provide:ua,useFactory:ZF,deps:[[new ut,Lg],Rn]};function Tb(n,...e){return ze("angularfire",Gr.full,"auth"),Yt([eV,XF,{provide:Lg,useFactory:JF(n),multi:!0,deps:[ve,ht,as,Wr,[new ut,os],...e]}])}var Sb=na(Vg,!0);var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rb={};var fr,Ug;(function(){var n;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(w,C,T){for(var v=Array(arguments.length-2),an=2;an<arguments.length;an++)v[an-2]=arguments[an];return m.prototype[C].apply(w,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var w=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)w[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)w[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+w[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+w[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+w[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+w[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,w=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(w[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,w),C=0;break}}else for(;T<m;)if(w[C++]=D[T++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var w=0;32>w;w+=8)D[y++]=this.g[m]>>>w&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],w=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;w&&T==m||(y[C]=T,w=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(d(-D));for(var m=[],y=1,w=0;D>=y;w++)m[w]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),w=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=d(Math.pow(m,T)),w=w.j(T).add(d(v))):(w=w.j(y),w=w.add(d(v)))}return w}var g=u(0),_=u(1),I=u(16777216);n=o.prototype,n.m=function(){if(M(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var w=this.i(y);D+=(0<=w?w:4294967296+w)*m,m*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,w="";;){var C=ee(y,m).g;y=V(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,A(y))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=V(this,D),M(D)?-1:A(D)?0:1};function R(D){for(var m=D.g.length,y=[],w=0;w<m;w++)y[w]=~D.g[w];return new o(y,~D.h).add(_)}n.abs=function(){return M(this)?R(this):this},n.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0,C=0;C<=m;C++){var T=w+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);w=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function V(D,m){return D.add(R(m))}n.j=function(D){if(A(this)||A(D))return g;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],w=0;w<2*m;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<D.g.length;C++){var T=this.i(w)>>>16,v=this.i(w)&65535,an=D.i(C)>>>16,Gs=D.i(C)&65535;y[2*w+2*C]+=v*Gs,G(y,2*w+2*C),y[2*w+2*C+1]+=T*Gs,G(y,2*w+2*C+1),y[2*w+2*C+1]+=v*an,G(y,2*w+2*C+1),y[2*w+2*C+2]+=T*an,G(y,2*w+2*C+2)}for(w=0;w<m;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=m;w<2*m;w++)y[w]=0;return new o(y,0)};function G(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function H(D,m){this.g=D,this.h=m}function ee(D,m){if(A(m))throw Error("division by zero");if(A(D))return new H(g,g);if(M(D))return m=ee(R(D),m),new H(R(m.g),R(m.h));if(M(m))return m=ee(D,R(m)),new H(R(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,w=m;0>=w.l(D);)y=Te(y),w=Te(w);var C=W(y,1),T=W(w,1);for(w=W(w,2),y=W(y,2);!A(w);){var v=T.add(w);0>=v.l(D)&&(C=C.add(y),T=v),w=W(w,1),y=W(y,1)}return m=V(D,C.j(m)),new H(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=d(y),v=T.j(m);M(v)||0<v.l(D);)y-=w,T=d(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),D=V(D,v)}return new H(C,D)}n.A=function(D){return ee(this,D).h},n.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)&D.i(w);return new o(y,this.h&D.h)},n.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)|D.i(w);return new o(y,this.h|D.h)},n.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)^D.i(w);return new o(y,this.h^D.h)};function Te(D){for(var m=D.g.length+1,y=[],w=0;w<m;w++)y[w]=D.i(w)<<1|D.i(w-1)>>>31;return new o(y,D.h)}function W(D,m){var y=m>>5;m%=32;for(var w=D.g.length-y,C=[],T=0;T<w;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ug=Rb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,fr=Rb.Integer=o}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var Nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={};var jg,tV,ls,Bg,da,xl,$g,Hg,zg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nl=="object"&&Nl];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return l.prototype[b].apply(p,x)}}function M(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let x=0;x<S;x++)a[b+x]=p[x]}else a.push(p)}}class V{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function G(a){return/^[\s\xa0]*$/.test(a)}function H(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ee(a){return ee[" "](a),a}ee[" "]=function(){};var Te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function W(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Rd;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class an{constructor(){this.h=this.g=null}add(l,h){let p=Gs.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Gs=new V(()=>new V0,a=>a.reset());class V0{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ws,Ks=!1,Rd=new an,Sv=()=>{let a=c.Promise.resolve(void 0);Ws=()=>{a.then(L0)}};var L0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var l=Gs;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Ks=!1};function Un(){this.s=this.s,this.C=this.C}Un.prototype.s=!1,Un.prototype.ma=function(){this.s||(this.s=!0,this.N())},Un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var U0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function Qs(a,l){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Te){e:{try{ee(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:j0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Qs.aa.h.call(this)}}A(Qs,Je);var j0={2:"touch",3:"pen",4:"mouse"};Qs.prototype.h=function(){Qs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ys="closure_listenable_"+(1e6*Math.random()|0),B0=0;function $0(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++B0,this.da=this.fa=!1}function Xa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ec(a){this.src=a,this.g={},this.h=0}ec.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=Nd(a,l,p,b);return-1<x?(l=a[x],h||(l.fa=!1)):(l=new $0(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function Md(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(Xa(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Nd(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var xd="closure_lm_"+(1e6*Math.random()|0),Pd={};function Av(a,l,h,p,b){if(p&&p.once)return Mv(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)Av(a,l[S],h,p,b);return null}return h=Vd(h),a&&a[Ys]?a.K(l,h,d(p)?!!p.capture:!!p,b):Rv(a,l,h,!1,p,b)}function Rv(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var x=d(b)?!!b.capture:!!b,_e=kd(a);if(_e||(a[xd]=_e=new ec(a)),h=_e.add(l,h,p,x,S),h.proxy)return h;if(p=H0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)U0||(b=x),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(xv(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function H0(){function a(h){return l.call(a.src,a.listener,h)}let l=z0;return a}function Mv(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)Mv(a,l[S],h,p,b);return null}return h=Vd(h),a&&a[Ys]?a.L(l,h,d(p)?!!p.capture:!!p,b):Rv(a,l,h,!0,p,b)}function Nv(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)Nv(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=Vd(h),a&&a[Ys]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=Nd(S,h,p,b),-1<h&&(Xa(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=kd(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Nd(l,h,p,b)),(h=-1<a?l[a]:null)&&Od(h))}function Od(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Ys])Md(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(xv(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=kd(l))?(Md(h,a),h.h==0&&(h.src=null,l[xd]=null)):Xa(a)}}}function xv(a){return a in Pd?Pd[a]:Pd[a]="on"+a}function z0(a,l){if(a.da)a=!0;else{l=new Qs(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Od(a),a=h.call(p,l)}return a}function kd(a){return a=a[xd],a instanceof ec?a:null}var Fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vd(a){return typeof a=="function"?a:(a[Fd]||(a[Fd]=function(l){return a.handleEvent(l)}),a[Fd])}function Xe(){Un.call(this),this.i=new ec(this),this.M=this,this.F=null}A(Xe,Un),Xe.prototype[Ys]=!0,Xe.prototype.removeEventListener=function(a,l,h,p){Nv(this,a,l,h,p)};function st(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Je(l,a);else if(l instanceof Je)l.target=l.target||a;else{var b=l;l=new Je(p,a),w(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var x=l.g=h[S];b=tc(x,p,!0,l)&&b}if(x=l.g=a,b=tc(x,p,!0,l)&&b,b=tc(x,p,!1,l)&&b,h)for(S=0;S<h.length;S++)x=l.g=h[S],b=tc(x,p,!1,l)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Xa(h[p]);delete a.g[l],a.h--}}this.F=null},Xe.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Xe.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function tc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var x=l[S];if(x&&!x.da&&x.capture==h){var _e=x.listener,Ke=x.ha||x.src;x.fa&&Md(a.i,x),b=_e.call(Ke,p)!==!1&&b}}return b&&!p.defaultPrevented}function Pv(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Ov(a){a.g=Pv(()=>{a.g=null,a.i&&(a.i=!1,Ov(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class q0 extends Un{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Ov(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(a){Un.call(this),this.h=a,this.g={}}A(Zs,Un);var kv=[];function Fv(a){W(a.g,function(l,h){this.g.hasOwnProperty(h)&&Od(l)},a),a.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),Fv(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ld=c.JSON.stringify,G0=c.JSON.parse,W0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Ud(){}Ud.prototype.h=null;function Vv(a){return a.h||(a.h=a.i())}function Lv(){}var Js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jd(){Je.call(this,"d")}A(jd,Je);function Bd(){Je.call(this,"c")}A(Bd,Je);var vr={},Uv=null;function nc(){return Uv=Uv||new Xe}vr.La="serverreachability";function jv(a){Je.call(this,vr.La,a)}A(jv,Je);function Xs(a){let l=nc();st(l,new jv(l))}vr.STAT_EVENT="statevent";function Bv(a,l){Je.call(this,vr.STAT_EVENT,a),this.stat=l}A(Bv,Je);function ot(a){let l=nc();st(l,new Bv(l,a))}vr.Ma="timingevent";function $v(a,l){Je.call(this,vr.Ma,a),this.size=l}A($v,Je);function eo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function K0(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var x="",_e=S.split("&"),Ke=0;Ke<_e.length;Ke++){var ge=_e[Ke].split("=");if(1<ge.length){var et=ge[0];ge=ge[1];var tt=et.split("_");x=2<=tt.length&&tt[1]=="type"?x+(et+"="+ge+"&"):x+(et+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+x})}function Q0(a,l,h,p,b,S,x){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+x})}function ui(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+Z0(a,h)+(p?" "+p:"")})}function Y0(a,l){a.info(function(){return"TIMEOUT: "+l})}to.prototype.info=function(){};function Z0(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return Ld(h)}catch{return l}}var rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$d;function ic(){}A(ic,Ud),ic.prototype.g=function(){return new XMLHttpRequest},ic.prototype.i=function(){return{}},$d=new ic;function jn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zv}function zv(){this.i=null,this.g="",this.h=!1}var qv={},Hd={};function zd(a,l,h){a.L=1,a.v=cc(cn(l)),a.m=h,a.P=!0,Gv(a,null)}function Gv(a,l){a.F=Date.now(),sc(a),a.A=cn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),o_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new zv,a.g=C_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new q0(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(kv[0]=b.toString()),b=kv);for(var S=0;S<b.length;S++){var x=Av(h,b[S],p||l.handleEvent,!1,l.h||l);if(!x)break;l.g[x.key]=x}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Xs(),K0(a.i,a.u,a.A,a.l,a.R,a.m)}jn.prototype.ca=function(a){a=a.target;let l=this.M;l&&un(a)==3?l.j():this.Y(a)},jn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=un(this.g);var l=this.g.Ba();let hi=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||f_(this.g)))){this.J||tt!=4||l==7||(l==8||0>=hi?Xs(3):Xs(2)),qd(this);var h=this.g.Z();this.X=h;t:if(Wv(this)){var p=f_(this.g);a="";var b=p.length,S=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),no(this);var x="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,Q0(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ke=this.g;if((_e=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_e)){var ge=_e;break t}}ge=null}if(h=ge)ui(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gd(this,h);else{this.o=!1,this.s=3,ot(12),_r(this),no(this);break e}}if(this.P){h=!0;let xt;for(;!this.J&&this.C<x.length;)if(xt=J0(this,x),xt==Hd){tt==4&&(this.s=4,ot(14),h=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==qv){this.s=4,ot(15),ui(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else ui(this.i,this.l,xt,null),Gd(this,xt);if(Wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||x.length!=0||this.h.h||(this.s=1,ot(16),h=!1),this.o=this.o&&h,!h)ui(this.i,this.l,x,"[Invalid Chunked Response]"),_r(this),no(this);else if(0<x.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Jd(et),et.M=!0,ot(11))}}else ui(this.i,this.l,x,null),Gd(this,x);tt==4&&_r(this),this.o&&!this.J&&(tt==4?I_(this.j,this):(this.o=!1,sc(this)))}else gS(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),_r(this),no(this)}}}catch{}finally{}};function Wv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function J0(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Hd:(h=Number(l.substring(h,p)),isNaN(h)?qv:(p+=1,p+h>l.length?Hd:(l=l.slice(p,p+h),a.C=p+h,l)))}jn.prototype.cancel=function(){this.J=!0,_r(this)};function sc(a){a.S=Date.now()+a.I,Kv(a,a.I)}function Kv(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=eo(_(a.ba,a),l)}function qd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Y0(this.i,this.A),this.L!=2&&(Xs(),ot(17)),_r(this),this.s=2,no(this)):Kv(this,this.S-a)};function no(a){a.j.G==0||a.J||I_(a.j,a)}function _r(a){qd(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Fv(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Gd(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||Wd(h.h,a))){if(!a.K&&Wd(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)fc(h),dc(h);else break e;Zd(h),ot(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=eo(_(h.Za,h),6e3));if(1>=Zv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else wr(h,11)}else if((a.K||h.g==a)&&fc(h),!G(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let ge=b[l];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let et=ge[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=ge[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let hi=ge[5];hi!=null&&typeof hi=="number"&&0<hi&&(p=1.5*hi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let xt=a.g;if(xt){let gc=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var S=p.h;S.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Kd(S,S.h),S.h=null))}if(p.D){let Xd=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xd&&(p.ya=Xd,Ee(p.I,p.D,Xd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var x=a;if(p.qa=D_(p,p.J?p.ia:null,p.W),x.K){Jv(p.h,x);var _e=x,Ke=p.L;Ke&&(_e.I=Ke),_e.B&&(qd(_e),sc(_e)),p.g=x}else v_(p);0<h.i.length&&hc(h)}else ge[0]!="stop"&&ge[0]!="close"||wr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?wr(h,7):Yd(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}Xs(4)}catch{}}var X0=class{constructor(a,l){this.g=a,this.map=l}};function Qv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Zv(a){return a.h?1:a.g?a.g.size:0}function Wd(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Kd(a,l){a.g?a.g.add(l):a.h=l}function Jv(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Qv.prototype.cancel=function(){if(this.i=Xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Xv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return M(a.i)}function eS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function tS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function e_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=tS(a),p=eS(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nS(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ir(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ir){this.h=a.h,oc(this,a.j),this.o=a.o,this.g=a.g,ac(this,a.s),this.l=a.l;var l=a.i,h=new so;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),n_(this,h),this.m=a.m}else a&&(l=String(a).match(t_))?(this.h=!1,oc(this,l[1]||"",!0),this.o=ro(l[2]||""),this.g=ro(l[3]||"",!0),ac(this,l[4]),this.l=ro(l[5]||"",!0),n_(this,l[6]||"",!0),this.m=ro(l[7]||"")):(this.h=!1,this.i=new so(null,this.h))}Ir.prototype.toString=function(){var a=[],l=this.j;l&&a.push(io(l,r_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(io(l,r_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(io(h,h.charAt(0)=="/"?sS:iS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",io(h,aS)),a.join("")};function cn(a){return new Ir(a)}function oc(a,l,h){a.j=h?ro(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function ac(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function n_(a,l,h){l instanceof so?(a.i=l,cS(a.i,a.h)):(h||(l=io(l,oS)),a.i=new so(l,a.h))}function Ee(a,l,h){a.i.set(l,h)}function cc(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ro(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function io(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,rS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function rS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var r_=/[#\/\?@]/g,iS=/[#\?:]/g,sS=/[#\?]/g,oS=/[#\?@]/g,aS=/#/g;function so(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&nS(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=so.prototype,n.add=function(a,l){Bn(this),this.i=null,a=li(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function i_(a,l){Bn(a),l=li(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function s_(a,l){return Bn(a),l=li(a,l),a.g.has(l)}n.forEach=function(a,l){Bn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},n.na=function(){Bn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},n.V=function(a){Bn(this);let l=[];if(typeof a=="string")s_(this,a)&&(l=l.concat(this.g.get(li(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},n.set=function(a,l){return Bn(this),this.i=null,a=li(this,a),s_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},n.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function o_(a,l,h){i_(a,l),0<h.length&&(a.i=null,a.g.set(li(a,l),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),x=this.V(p);for(p=0;p<x.length;p++){var b=S;x[p]!==""&&(b+="="+encodeURIComponent(String(x[p]))),a.push(b)}}return this.i=a.join("&")};function li(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function cS(a,l){l&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(i_(this,p),o_(this,b,h))},a)),a.j=l}function uS(a,l){let h=new to;if(c.Image){let p=new Image;p.onload=I($n,h,"TestLoadImage: loaded",!0,l,p),p.onerror=I($n,h,"TestLoadImage: error",!1,l,p),p.onabort=I($n,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=I($n,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function lS(a,l){let h=new to,p=new AbortController,b=setTimeout(()=>{p.abort(),$n(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?$n(h,"TestPingServer: ok",!0,l):$n(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),$n(h,"TestPingServer: error",!1,l)})}function $n(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function dS(){this.g=new W0}function hS(a,l,h){let p=h||"";try{e_(a,function(b,S){let x=b;d(b)&&(x=Ld(b)),l.push(p+S+"="+encodeURIComponent(x))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function oo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(oo,Ud),oo.prototype.g=function(){return new uc(this.l,this.j)},oo.prototype.i=function(a){return function(){return a}}({});function uc(a,l){Xe.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(uc,Xe),n=uc.prototype,n.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,co(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function a_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?ao(this):co(this),this.readyState==3&&a_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ao(this))},n.Qa=function(a){this.g&&(this.response=a,ao(this))},n.ga=function(){this.g&&ao(this)};function ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,co(a)}n.setRequestHeader=function(a,l){this.u.append(a,l)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function c_(a){let l="";return W(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function Qd(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=c_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ee(a,l,h))}function Se(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,Xe);var fS=/^https?$/i,pS=["POST","PUT"];n=Se.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$d.g(),this.v=this.o?Vv(this.o):Vv($d),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){u_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pS,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of h)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){u_(this,S)}};function u_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,l_(a),lc(a)}function l_(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),lc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),Se.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?d_(this):this.bb())},n.bb=function(){d_(this)};function d_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||un(a)!=4||a.Z()!=2)){if(a.u&&un(a)==4)Pv(a.Ea,0,a);else if(st(a,"readystatechange"),un(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=x===0){var b=String(a.D).match(t_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!fS.test(b?b.toLowerCase():"")}h=p}if(h)st(a,"complete"),st(a,"success");else{a.m=6;try{var S=2<un(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",l_(a)}}finally{lc(a)}}}}function lc(a,l){if(a.g){h_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||st(a,"ready");try{h.onreadystatechange=p}catch{}}}function h_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function un(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),G0(l)}};function f_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gS(a){let l={};a=(a.g&&2<=un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(G(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}D(l,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function p_(a){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,a),this.cb=uo("retryDelaySeedMs",1e4,a),this.Wa=uo("forwardChannelMaxRetries",2,a),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Qv(a&&a.concurrentRequestLimit),this.Da=new dS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=p_.prototype,n.la=8,n.G=1,n.connect=function(a,l,h,p){ot(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=D_(this,null,this.W),hc(this)};function Yd(a){if(g_(a),a.G==3){var l=a.U++,h=cn(a.I);if(Ee(h,"SID",a.K),Ee(h,"RID",l),Ee(h,"TYPE","terminate"),lo(a,h),l=new jn(a,a.j,l),l.L=2,l.v=cc(cn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=C_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),sc(l)}E_(a)}function dc(a){a.g&&(Jd(a),a.g.cancel(),a.g=null)}function g_(a){dc(a),a.u&&(c.clearTimeout(a.u),a.u=null),fc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function hc(a){if(!Yv(a.h)&&!a.s){a.s=!0;var l=a.Ga;Ws||Sv(),Ks||(Ws(),Ks=!0),Rd.add(l,a),a.B=0}}function mS(a,l){return Zv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=eo(_(a.Ga,a,l),w_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new jn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=y_(this,b,l),h=cn(this.I),Ee(h,"RID",a),Ee(h,"CVER",22),this.D&&Ee(h,"X-HTTP-Session-Id",this.D),lo(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(c_(S)))+"&"+l:this.m&&Qd(h,this.m,S)),Kd(this.h,b),this.Ua&&Ee(h,"TYPE","init"),this.P?(Ee(h,"$req",l),Ee(h,"SID","null"),b.T=!0,zd(b,h,null)):zd(b,h,l),this.G=2}}else this.G==3&&(a?m_(this,a):this.i.length==0||Yv(this.h)||m_(this))};function m_(a,l){var h;l?h=l.l:h=a.U++;let p=cn(a.I);Ee(p,"SID",a.K),Ee(p,"RID",h),Ee(p,"AID",a.T),lo(a,p),a.m&&a.o&&Qd(p,a.m,a.o),h=new jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=y_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Kd(a.h,h),zd(h,p,l)}function lo(a,l){a.H&&W(a.H,function(h,p){Ee(l,p,h)}),a.l&&e_({},function(h,p){Ee(l,p,h)})}function y_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let x=["count="+h];S==-1?0<h?(S=b[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let _e=!0;for(let Ke=0;Ke<h;Ke++){let ge=b[Ke].g,et=b[Ke].map;if(ge-=S,0>ge)S=Math.max(0,b[Ke].g-100),_e=!1;else try{hS(et,x,"req"+ge+"_")}catch{p&&p(et)}}if(_e){p=x.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function v_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;Ws||Sv(),Ks||(Ws(),Ks=!0),Rd.add(l,a),a.v=0}}function Zd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=eo(_(a.Fa,a),w_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,__(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=eo(_(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),dc(this),__(this))};function Jd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function __(a){a.g=new jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=cn(a.qa);Ee(l,"RID","rpc"),Ee(l,"SID",a.K),Ee(l,"AID",a.T),Ee(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(l,"TO",a.ja),Ee(l,"TYPE","xmlhttp"),lo(a,l),a.m&&a.o&&Qd(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=cc(cn(l)),h.m=null,h.P=!0,Gv(h,a)}n.Za=function(){this.C!=null&&(this.C=null,dc(this),Zd(this),ot(19))};function fc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function I_(a,l){var h=null;if(a.g==l){fc(a),Jd(a),a.g=null;var p=2}else if(Wd(a.h,l))h=l.D,Jv(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=nc(),st(p,new $v(p,h)),hc(a)}else v_(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&mS(a,l)||p==2&&Zd(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:wr(a,5);break;case 4:wr(a,10);break;case 3:wr(a,6);break;default:wr(a,2)}}}function w_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function wr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Ir(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oc(p,"https"),cc(p),b?uS(p.toString(),h):lS(p.toString(),h)}else ot(2);a.G=0,a.l&&a.l.sa(l),E_(a),g_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function E_(a){if(a.G=0,a.ka=[],a.l){let l=Xv(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function D_(a,l,h){var p=h instanceof Ir?cn(h):new Ir(h);if(p.g!="")l&&(p.g=l+"."+p.g),ac(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new Ir(null);p&&oc(S,p),l&&(S.g=l),b&&ac(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&Ee(p,h,l),Ee(p,"VER",a.la),lo(a,p),p}function C_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Se(new oo({eb:h})):new Se(a.pa),l.Ha(a.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function b_(){}n=b_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pc(){}pc.prototype.g=function(a,l){return new pt(a,l)};function pt(a,l){Xe.call(this),this.g=new p_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!G(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!G(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new di(this)}A(pt,Xe),pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Yd(this.g)},pt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ld(a),a=h);l.i.push(new X0(l.Ya++,a)),l.G==3&&hc(l)},pt.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,pt.aa.N.call(this)};function T_(a){jd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(T_,jd);function S_(){Bd.call(this),this.status=1}A(S_,Bd);function di(a){this.g=a}A(di,b_),di.prototype.ua=function(){st(this.g,"a")},di.prototype.ta=function(a){st(this.g,new T_(a))},di.prototype.sa=function(a){st(this.g,new S_)},di.prototype.ra=function(){st(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,zg=xn.createWebChannelTransport=function(){return new pc},Hg=xn.getStatEventTarget=function(){return nc()},$g=xn.Event=vr,xl=xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,da=xn.ErrorCode=rc,Hv.COMPLETE="complete",Bg=xn.EventType=Hv,Lv.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,ls=xn.WebChannel=Lv,tV=xn.FetchXmlHttpFactory=oo,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,jg=xn.XhrIo=Se}).apply(typeof Nl<"u"?Nl:typeof self<"u"?self:typeof window<"u"?window:{});var Mb="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Ps="10.14.0";var ti=new or("@firebase/firestore");function ha(){return ti.logLevel}function F(n,...e){if(ti.logLevel<=ae.DEBUG){let t=e.map(Ty);ti.debug(`Firestore (${Ps}): ${n}`,...t)}}function kn(n,...e){if(ti.logLevel<=ae.ERROR){let t=e.map(Ty);ti.error(`Firestore (${Ps}): ${n}`,...t)}}function Is(n,...e){if(ti.logLevel<=ae.WARN){let t=e.map(Ty);ti.warn(`Firestore (${Ps}): ${n}`,...t)}}function Ty(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n="Unexpected state"){let e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+n;throw kn(e),new Error(e)}function Me(n,e){n||Y()}function de(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Fl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(We.UNAUTHENTICATED))}shutdown(){}},Zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Jg=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new On;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new On,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new On)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Fl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new We(e)}},Xg=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},em=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Xg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new tm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nV(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var rm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=nV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function ws(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Mt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Mt(0,0))}static max(){return new n(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(),r===void 0?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ue=class n extends Vl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},rV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class n extends Vl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return rV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var $=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};var im=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};im.UNKNOWN_ID=-1;function iV(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Mt(t+1,0):new Mt(t,r));return new ni(i,$.empty(),e)}function sV(n){return new ni(n.readTime,n.key,-1)}var ni=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Z.min(),$.empty(),-1)}static max(){return new n(Z.max(),$.empty(),-1)}};function oV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var aV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sy(n){return E(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==aV)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var N=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;t(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function cV(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ma(n){return n.name==="IndexedDbTransactionError"}var cT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ad(n){return n==null}function Ll(n){return n===0&&1/n==-1/0}var uV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],g3=[...uV,"documentOverlays"],lV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dV=lV,hV=[...dV,"indexConfiguration","indexState","indexEntries"];var m3=[...hV,"globals"];function Nb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cd(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fV(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,r,i,s){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ul(this.data.getIterator())}getIteratorFrom(e){return new Ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ul=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jr=class n{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new n([])}unionWith(e){let t=new rt(Ut.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var jl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var it=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jl("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};it.EMPTY_BYTE_STRING=new it("");var pV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(n){if(Me(!!n),typeof n=="string"){let e=0,t=pV.exec(n);if(Me(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pr(n){return typeof n=="string"?it.fromBase64String(n):it.fromUint8Array(n)}function Ay(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ry(n){let e=n.mapValue.fields.__previous_value__;return Ay(e)?Ry(e):e}function _a(n){let e=Fn(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}var om=class{constructor(e,t,r,i,s,o,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Bl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ay(n)?4:lT(n)?9007199254740991:uT(n)?10:11:Y()}function rn(n,e){if(n===e)return!0;let t=ri(n);if(t!==ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _a(n).isEqual(_a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Fn(i.timestampValue),c=Fn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return pr(i.bytesValue).isEqual(pr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),c=be(s.doubleValue);return o===c?Ll(o)===Ll(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return ws(n.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Nb(o)!==Nb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!rn(o[u],c[u])))return!1;return!0}(n,e);default:return Y()}}function Ia(n,e){return(n.values||[]).find(t=>rn(t,e))!==void 0}function Es(n,e){if(n===e)return 0;let t=ri(n),r=ri(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return xb(n.timestampValue,e.timestampValue);case 4:return xb(_a(n),_a(e));case 5:return me(n.stringValue,e.stringValue);case 6:return function(s,o){let c=pr(s),u=pr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=me(c[d],u[d]);if(f!==0)return f}return me(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=me(be(s.latitude),be(o.latitude));return c!==0?c:me(be(s.longitude),be(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Pb(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,M=me(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:Pb(I,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pl.mapValue&&o===Pl.mapValue)return 0;if(s===Pl.mapValue)return 1;if(o===Pl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=me(u[g],f[g]);if(_!==0)return _;let I=Es(c[u[g]],d[f[g]]);if(I!==0)return I}return me(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Y()}}function xb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=Fn(n),r=Fn(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function Pb(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Es(t[i],r[i]);if(s)return s}return me(t.length,r.length)}function Ds(n){return am(n)}function am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Fn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=am(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${am(t.fields[o])}`;return i+"}"}(n.mapValue):Y()}function cm(n){return!!n&&"integerValue"in n}function My(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qg(n){return!!n&&"mapValue"in n}function uT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return cd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=pa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cd(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(pa(this.value))}};var jt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,t){this.position=e,this.inclusive=t}};function Fb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),t.key):r=Es(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rn(n.position[t],e.position[t]))return!1;return!0}var bs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var $l=class{},qe=class n extends $l{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lm(e,t,r):t==="array-contains"?new fm(e,r):t==="in"?new pm(e,r):t==="not-in"?new gm(e,r):t==="array-contains-any"?new mm(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dm(e,r):new hm(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Es(t,this.value)):t!==null&&ri(this.value)===ri(t)&&this.matchesComparison(Es(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class n extends $l{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return dT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function dT(n){return n.op==="and"}function hT(n){return mV(n)&&dT(n)}function mV(n){for(let e of n.filters)if(e instanceof sn)return!1;return!0}function um(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+Ds(n.value);if(hT(n))return n.filters.map(e=>um(e)).join(",");{let e=n.filters.map(t=>um(t)).join(",");return`${n.op}(${e})`}}function fT(n,e){return n instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(n,e):n instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&fT(o,i.filters[c]),!0):!1}(n,e):void Y()}function pT(n){return n instanceof qe?function(t){return`${t.field.canonicalString()} ${t.op} ${Ds(t.value)}`}(n):n instanceof sn?function(t){return t.op.toString()+" {"+t.getFilters().map(pT).join(" ,")+"}"}(n):"Filter"}var lm=class extends qe{constructor(e,t,r){super(e,t,r),this.key=$.fromName(r.referenceValue)}matches(e){let t=$.comparator(e.key,this.key);return this.matchesComparison(t)}},dm=class extends qe{constructor(e,t){super(e,"in",t),this.keys=gT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hm=class extends qe{constructor(e,t){super(e,"not-in",t),this.keys=gT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function gT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$.fromName(r.referenceValue))}var fm=class extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return My(t)&&Ia(t.arrayValue,this.value)}},pm=class extends qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ia(this.value.arrayValue,t)}},gm=class extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ia(this.value.arrayValue,t)}},mm=class extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!My(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ia(this.value.arrayValue,r))}};var ym=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Lb(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ym(n,e,t,r,i,s,o)}function Ny(n){let e=de(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>um(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ds(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ds(r)).join(",")),e.ue=t}return e.ue}function xy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vb(n.startAt,e.startAt)&&Vb(n.endAt,e.endAt)}function vm(n){return $.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ts=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function yV(n,e,t,r,i,s,o,c){return new Ts(n,e,t,r,i,s,o,c)}function mT(n){return new Ts(n)}function Ub(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vV(n){return n.collectionGroup!==null}function ga(n){let e=de(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new rt(Ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bs(s,r))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new bs(Ut.keyField(),r))}return e.ce}function nn(n){let e=de(n);return e.le||(e.le=_V(e,ga(n))),e.le}function _V(n,e){if(n.limitType==="F")return Lb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new bs(i.field,s)});let t=n.endAt?new Cs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cs(n.startAt.position,n.startAt.inclusive):null;return Lb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _m(n,e,t){return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ud(n,e){return xy(nn(n),nn(e))&&n.limitType===e.limitType}function yT(n){return`${Ny(nn(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pT(i)).join(", ")}]`),ad(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ds(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ds(i)).join(",")),`Target(${r})`}(nn(n))}; limitType=${n.limitType})`}function ld(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of ga(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=Fb(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,ga(r),i)||r.endAt&&!function(o,c,u){let d=Fb(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,ga(r),i))}(n,e)}function IV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vT(n){return(e,t)=>{let r=!1;for(let i of ga(n)){let s=wV(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wV(n,e,t){let r=n.field.isKeyField()?$.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Es(u,d):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var gr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cd(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return fV(this.inner)}size(){return this.innerSize}};var EV=new xe($.comparator);function mr(){return EV}var _T=new xe($.comparator);function fa(...n){let e=_T;for(let t of n)e=e.insert(t.key,t);return e}function DV(n){let e=_T;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xr(){return ma()}function IT(){return ma()}function ma(){return new gr(n=>n.toString(),(n,e)=>n.isEqual(e))}var v3=new xe($.comparator),CV=new rt($.comparator);function pe(...n){let e=CV;for(let t of n)e=e.add(t);return e}var bV=new rt(me);function TV(){return bV}function SV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(e)?"-0":e}}function AV(n){return{integerValue:""+n}}var Ss=class{constructor(){this._=void 0}};function RV(n,e,t){return n instanceof wa?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ay(s)&&(s=Ry(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof As?wT(n,e):n instanceof Rs?ET(n,e):function(i,s){let o=NV(i,s),c=jb(o)+jb(i.Pe);return cm(o)&&cm(i.Pe)?AV(c):SV(i.serializer,c)}(n,e)}function MV(n,e,t){return n instanceof As?wT(n,e):n instanceof Rs?ET(n,e):t}function NV(n,e){return n instanceof Ea?function(r){return cm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var wa=class extends Ss{},As=class extends Ss{constructor(e){super(),this.elements=e}};function wT(n,e){let t=DT(e);for(let r of n.elements)t.some(i=>rn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Rs=class extends Ss{constructor(e){super(),this.elements=e}};function ET(n,e){let t=DT(e);for(let r of n.elements)t=t.filter(i=>!rn(i,r));return{arrayValue:{values:t}}}var Ea=class extends Ss{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function jb(n){return be(n.integerValue||n.doubleValue)}function DT(n){return My(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof As&&i instanceof As||r instanceof Rs&&i instanceof Rs?ws(r.elements,i.elements,rn):r instanceof Ea&&i instanceof Ea?rn(r.Pe,i.Pe):r instanceof wa&&i instanceof wa}(n.transform,e.transform)}var ya=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Da=class{};function CT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Im(n.key,ya.none()):new Ca(n.key,n.data,ya.none());{let t=n.data,r=Pn.empty(),i=new rt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(n.key,r,new Jr(i.toArray()),ya.none())}}function PV(n,e,t){n instanceof Ca?function(i,s,o){let c=i.value.clone(),u=$b(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ms?function(i,s,o){if(!kl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=$b(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function va(n,e,t,r){return n instanceof Ca?function(s,o,c,u){if(!kl(s.precondition,o))return c;let d=s.value.clone(),f=Hb(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ms?function(s,o,c,u){if(!kl(s.precondition,o))return c;let d=Hb(s.fieldTransforms,u,o),f=o.data;return f.setAll(bT(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,c){return kl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function Bb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(s,o)=>xV(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ca=class extends Da{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ms=class extends Da{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $b(n,e,t){let r=new Map;Me(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,MV(o,c,t[i]))}return r}function Hb(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,RV(s,o,e))}return r}var Im=class extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var wm=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&PV(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=va(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=va(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=IT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=CT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(t,r)=>Bb(t,r))&&ws(this.baseMutations,e.baseMutations,(t,r)=>Bb(t,r))}};var Em=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ve,le;function TT(n){if(n===void 0)return kn("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ve.OK:return P.OK;case Ve.CANCELLED:return P.CANCELLED;case Ve.UNKNOWN:return P.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return P.INTERNAL;case Ve.UNAVAILABLE:return P.UNAVAILABLE;case Ve.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ve.NOT_FOUND:return P.NOT_FOUND;case Ve.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ve.ABORTED:return P.ABORTED;case Ve.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ve.DATA_LOSS:return P.DATA_LOSS;default:return Y()}}(le=Ve||(Ve={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var zb=null;function OV(){return new TextEncoder}var kV=new fr([4294967295,4294967295],0);function qb(n){let e=OV().encode(n),t=new Ug;return t.update(e),new Uint8Array(t.digest())}function Gb(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,s],0)]}var Cm=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ei(`Invalid padding: ${t}`);if(r<0)throw new ei(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ei(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ei(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=fr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare(kV)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=qb(e),[r,i]=Gb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=qb(e),[r,i]=Gb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ei=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Hl=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ba.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Z.min(),i,new xe(me),mr(),pe())}},ba=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var ms=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},zl=class{constructor(e,t){this.targetId=e,this.me=t}},ql=class{constructor(e,t,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Gl=class{constructor(){this.fe=0,this.ge=Kb(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),t=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new ba(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Kb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},bm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=mr(),this.qe=Wb(),this.Qe=new xe(me)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(vm(s))if(r===0){let o=new $(s.path);this.Ue(t,o,jt.newNoDocument(o,Z.min()))}else Me(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}zb?.et(function(f,g,_,I,A){var M,R,V,G,H,ee;let Te={localCacheCount:f,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},W=g.unchangedNames;return W&&(Te.bloomFilter={applied:A===0,hashCount:(M=W?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(V=(R=W?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(ee=(H=W?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Te}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=pr(r).toUint8Array()}catch(u){if(u instanceof jl)return Is("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Cm(o,i,s)}catch(u){return Is(u instanceof ei?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&vm(c.target)){let u=new $(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,jt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Hl(e,t,this.Qe,this.ke,r);return this.ke=mr(),this.qe=Wb(),this.Qe=new xe(me),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Gl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new rt(me),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Wb(){return new xe($.comparator)}function Kb(){return new xe($.comparator)}var FV={asc:"ASCENDING",desc:"DESCENDING"},VV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LV={and:"AND",or:"OR"},Tm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Sm(n,e){return n.useProto3Json||ad(e)?e:{value:e}}function UV(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ys(n){return Me(!!n),Z.fromTimestamp(function(t){let r=Fn(t);return new Mt(r.seconds,r.nanos)}(n))}function BV(n,e){return Am(n,e).canonicalString()}function Am(n,e){let t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ST(n){let e=Ue.fromString(n);return Me(xT(e)),e}function Gg(n,e){let t=ST(e);if(t.get(1)!==n.databaseId.projectId)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(RT(t))}function AT(n,e){return BV(n.databaseId,e)}function $V(n){let e=ST(n);return e.length===4?Ue.emptyPath():RT(e)}function Qb(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RT(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function HV(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Me(f===void 0||typeof f=="string"),it.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array),it.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){let f=d.code===void 0?P.UNKNOWN:TT(d.code);return new U(f,d.message||"")}(o);t=new ql(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Gg(n,r.document.name),s=ys(r.document.updateTime),o=r.document.createTime?ys(r.document.createTime):Z.min(),c=new Pn({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new ms(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Gg(n,r.document),s=r.readTime?ys(r.readTime):Z.min(),o=jt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new ms([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Gg(n,r.document),s=r.removedTargetIds||[];t=new ms([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Dm(i,s),c=r.targetId;t=new zl(c,o)}}return t}function zV(n,e){return{documents:[AT(n,e.path)]}}function qV(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AT(n,i);let s=function(d){if(d.length!==0)return NT(sn.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(f=>function(_){return{field:hs(_.field),direction:KV(_.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Sm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function GV(n){let e=$V(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){let _=MT(g);return _ instanceof sn&&hT(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(_=>function(A){return new bs(fs(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,ad(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new Cs(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new Cs(I,_)}(t.endAt)),yV(e,i,o,s,c,"F",u,d)}function WV(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(t.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=fs(t.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=fs(t.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):n.fieldFilter!==void 0?function(t){return qe.create(fs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return sn.create(t.compositeFilter.filters.map(r=>MT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(n):Y()}function KV(n){return FV[n]}function QV(n){return VV[n]}function YV(n){return LV[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return Ut.fromServerFormat(n.fieldPath)}function NT(n){return n instanceof qe?function(t){if(t.op==="=="){if(kb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(Ob(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kb(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(Ob(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:QV(t.op),value:t.value}}}(n):n instanceof sn?function(t){let r=t.getFilters().map(i=>NT(i));return r.length===1?r[0]:{compositeFilter:{op:YV(t.op),filters:r}}}(n):Y()}function xT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ta=class n{constructor(e,t,r,i,s=Z.min(),o=Z.min(),c=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Rm=class{constructor(e){this.ct=e}};function ZV(n){let e=GV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_m(e,e.limit,"L"):e}var Wl=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ll(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Fn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(pr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?lT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):uT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Y()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(be(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),$.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Wl.vt=new Wl;var Mm=class{constructor(){this.un=new Nm}addToCollectionParentIndex(e,t){return this.un.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(ni.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}},Nm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rt(Ue.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ue.comparator)).toArray()}};var _3=new Uint8Array(0);var en=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);var Sa=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var xm=class{constructor(){this.changes=new gr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pm=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Om=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&va(r.mutation,i,Jr.empty(),Mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=Xr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fa();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Xr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=mr(),o=ma(),c=function(){return ma()}();return t.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ms)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),va(f.mutation,d,f.mutation.getFieldMask(),Mt.now())):o.set(d.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),t.forEach((d,f)=>{var g;return c.set(d,new Pm(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=ma(),i=new xe((o,c)=>o-c),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let f=r.get(u)||Jr.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||pe()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=IT();f.forEach(_=>{if(!s.has(_)){let I=CT(t.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):N.resolve(Xr()),c=-1,u=s;return o.next(d=>N.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,pe())).next(f=>({batchId:c,changes:DV(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(r=>{let i=fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=fa();return this.indexManager.getCollectionParents(e,s).next(c=>N.forEach(c,u=>{let d=function(g,_){return new Ts(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,jt.newInvalidDocument(f)))});let c=fa();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&va(f.mutation,d,Jr.empty(),Mt.now()),ld(t,d)&&(c=c.insert(u,d))}),c})}};var km=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return N.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ys(i.createTime)}}(t)),N.resolve()}getNamedQuery(e,t){return N.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:ZV(i.bundledQuery),readTime:ys(i.readTime)}}(t)),N.resolve()}};var Fm=class{constructor(){this.overlays=new xe($.comparator),this.Ir=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xr();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),N.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){let i=Xr(),s=t.length+1,o=new $(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xe((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Xr(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Em(t,r));let s=this.Ir.get(t);s===void 0&&(s=pe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Vm=class{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,N.resolve()}};var Aa=class{constructor(){this.Tr=new rt(Le.Er),this.dr=new rt(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Le(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new $(new Ue([])),r=new Le(t,e),i=new Le(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new $(new Ue([])),r=new Le(t,e),i=new Le(t,e+1),s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Le(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $.comparator(e.key,t.key)||me(e.wr,t.wr)}static Ar(e,t){return me(e.wr,t.wr)||$.comparator(e.key,t.key)}};var Lm=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new rt(Le.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wm(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Le(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,t){return N.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(me);return t.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Le(new $(s),0),c=new rt(me);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),N.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(t.mutations,i=>{let s=new Le(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Le(t,0),i=this.br.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Um=class{constructor(e){this.Mr=e,this.docs=function(){return new xe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let r=mr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=mr(),o=t.path,c=new $(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||oV(sV(f),r)<=0||(i.has(f.key)||ld(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Y()}Or(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jm(this)}getSize(e){return N.resolve(this.size)}},jm=class extends xm{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Bm=class{constructor(e){this.persistence=e,this.Nr=new gr(t=>Ny(t),xy),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Aa,this.targetCount=0,this.kr=Sa.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),N.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.Kn(t),N.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),N.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this.Br.containsKey(t))}};var $m=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new cT(0),this.Kr=!1,this.Kr=!0,this.$r=new Vm,this.referenceDelegate=e(this),this.Ur=new Bm(this),this.indexManager=new Mm,this.remoteDocumentCache=function(i){return new Um(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Rm(t),this.Gr=new km(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Lm(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new Hm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Hm=class extends sm{constructor(e){super(),this.currentSequenceNumber=e}},zm=class n{constructor(e){this.persistence=e,this.Jr=new Aa,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),N.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Z.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return N.or([()=>N.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var qm=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=pe(),i=pe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Gm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vC()?8:cV(Ge())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Gm;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ha()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(ha()<=ae.DEBUG&&F("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ha()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nn(t))):N.resolve())}Yi(e,t){if(Ub(t))return N.resolve(null);let r=nn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_m(t,null,"F"),r=nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,c);return this.ns(t,d,o,u.readTime)?this.Yi(e,_m(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return Ub(t)||i.isEqual(Z.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?N.resolve(null):(ha()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(t)),this.rs(e,o,t,iV(i,-1)).next(c=>c))})}ts(e,t){let r=new rt(vT(e));return t.forEach((i,s)=>{ld(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ha()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ds(t)),this.Ji.getDocumentsMatchingQuery(e,t,ni.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Km=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new xe(me),this._s=new gr(s=>Ny(s),xy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Om(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function JV(n,e,t,r){return new Km(n,e,t,r)}function PT(n,e){return E(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=pe();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function OT(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function XV(n,e){let t=de(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,g)=>{let _=i.get(g);if(!_)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(it.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(g,I),function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,I,f)&&c.push(t.Ur.updateTargetData(s,I))});let u=mr(),d=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(eL(s,o,e.documentUpdates).next(f=>{u=f.Ps,d=f.Is})),!r.isEqual(Z.min())){let f=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.os=i,s))}function eL(n,e,t){let r=pe(),i=pe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=mr();return t.forEach((c,u)=>{let d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function tL(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Ta(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Qm(n,e,t){return E(this,null,function*(){let r=de(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ma(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Yb(n,e,t){let r=de(n),i=Z.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){let g=de(u),_=g._s.get(f);return _!==void 0?N.resolve(g.os.get(_)):g.Ur.getTargetData(d,f)}(r,o,nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Z.min(),t?s:pe())).next(c=>(nL(r,IV(e),c),{documents:c,Ts:s})))}function nL(n,e,t){let r=n.us.get(e)||Z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Kl=class{constructor(){this.activeTargetIds=TV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ym=class{constructor(){this.so=new Kl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Zm=class{_o(e){}shutdown(){}};var Ql=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ol=null;function Wg(){return Ol===null?Ol=function(){return 268435456+Math.round(2147483648*Math.random())}():Ol++,"0x"+Ol.toString(16)}var rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Jm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nt="WebChannelConnection",Xm=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=Wg(),u=this.xo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,u,d,i).then(f=>(F("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Is("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=rL[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=Wg();return new Promise((o,c)=>{let u=new jg;u.setWithCredentials(!0),u.listenOnce(Bg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case da.NO_ERROR:let f=u.getResponseJson();F(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case da.TIMEOUT:F(nt,`RPC '${e}' ${s} timed out`),c(new U(P.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:let g=u.getStatus();if(F(nt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(V)>=0?V:P.UNKNOWN}(I.status);c(new U(A,I.message))}else c(new U(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(P.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{F(nt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);F(nt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=Wg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zg(),c=Hg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=s.join("");F(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new Jm({Io:R=>{I?F(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(F(nt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),F(nt,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),M=(R,V,G)=>{R.listen(V,H=>{try{G(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return M(g,ls.EventType.OPEN,()=>{I||(F(nt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(g,ls.EventType.CLOSE,()=>{I||(I=!0,F(nt,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(g,ls.EventType.ERROR,R=>{I||(I=!0,Is(nt,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new U(P.UNAVAILABLE,"The operation could not be completed")))}),M(g,ls.EventType.MESSAGE,R=>{var V;if(!I){let G=R.data[0];Me(!!G);let H=G,ee=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(ee){F(nt,`RPC '${e}' stream ${i} received error:`,ee);let Te=ee.status,W=function(y){let w=Ve[y];if(w!==void 0)return TT(w)}(Te),D=ee.message;W===void 0&&(W=P.INTERNAL,D="Unknown error status: "+Te+" with message "+ee.message),I=!0,A.So(new U(W,D)),g.close()}else F(nt,`RPC '${e}' stream ${i} received:`,G),A.bo(G)}}),M(c,$g.STAT_EVENT,R=>{R.stat===xl.PROXY?F(nt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xl.NOPROXY&&F(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Kg(){return typeof document<"u"?document:null}function kT(n){return new Tm(n,!0)}var Yl=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ey=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Yl(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(kn(t.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new U(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ty=class extends ey{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=HV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ys(o.readTime):Z.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Qb(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=vm(u)?{documents:zV(s,u)}:{query:qV(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=jV(s,o.resumeToken);let d=Sm(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Z.min())>0){c.readTime=UV(s,o.snapshotVersion.toTimestamp());let d=Sm(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let r=WV(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Qb(this.serializer),t.removeTarget=e,this.a_(t)}};var ny=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Am(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(P.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Am(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(P.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ry=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kn(t),this.D_=!1):F("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iy=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>E(this,null,function*(){xa(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let d=de(u);d.L_.add(4),yield Na(d),d.q_.set("Unknown"),d.L_.delete(4),yield dd(d)})}(this))}))}),this.q_=new ry(r,i)}};function dd(n){return E(this,null,function*(){if(xa(n))for(let e of n.B_)yield e(!0)})}function Na(n){return E(this,null,function*(){for(let e of n.B_)yield e(!1)})}function FT(n,e){let t=de(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fy(t)?ky(t):Os(t).r_()&&Oy(t,e))}function Py(n,e){let t=de(n),r=Os(t);t.N_.delete(e),r.r_()&&VT(t,e),t.N_.size===0&&(r.r_()?r.o_():xa(t)&&t.q_.set("Unknown"))}function Oy(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Os(n).A_(e)}function VT(n,e){n.Q_.xe(e),Os(n).R_(e)}function ky(n){n.Q_=new bm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Os(n).start(),n.q_.v_()}function Fy(n){return xa(n)&&!Os(n).n_()&&n.N_.size>0}function xa(n){return de(n).L_.size===0}function LT(n){n.Q_=void 0}function iL(n){return E(this,null,function*(){n.q_.set("Online")})}function sL(n){return E(this,null,function*(){n.N_.forEach((e,t)=>{Oy(n,e)})})}function oL(n,e){return E(this,null,function*(){LT(n),Fy(n)?(n.q_.M_(e),ky(n)):n.q_.set("Unknown")})}function aL(n,e,t){return E(this,null,function*(){if(n.q_.set("Online"),e instanceof ql&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zb(n,r)}else if(e instanceof ms?n.Q_.Ke(e):e instanceof zl?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Z.min()))try{let r=yield OT(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(it.EMPTY_BYTE_STRING,f.snapshotVersion)),VT(s,u);let g=new Ta(f.target,u,d,f.sequenceNumber);Oy(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Zb(n,r)}})}function Zb(n,e,t){return E(this,null,function*(){if(!Ma(e))throw e;n.L_.add(1),yield Na(n),n.q_.set("Offline"),t||(t=()=>OT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield dd(n)}))})}function Jb(n,e){return E(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=xa(t);t.L_.add(3),yield Na(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield dd(t)})}function cL(n,e){return E(this,null,function*(){let t=de(n);e?(t.L_.delete(2),yield dd(t)):e||(t.L_.add(2),yield Na(t),t.q_.set("Unknown"))})}function Os(n){return n.K_||(n.K_=function(t,r,i){let s=de(t);return s.w_(),new ty(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:iL.bind(null,n),Ro:sL.bind(null,n),mo:oL.bind(null,n),d_:aL.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.K_.s_(),Fy(n)?ky(n):n.q_.set("Unknown")):(yield n.K_.stop(),LT(n))}))),n.K_}var sy=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function UT(n,e){if(kn("AsyncQueue",`${e}: ${n}`),Ma(n))return new U(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Zl=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$.comparator(t.key,r.key):(t,r)=>$.comparator(t.key,r.key),this.keyedMap=fa(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Jl=class{constructor(){this.W_=new xe($.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ns=class n{constructor(e,t,r,i,s,o,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,Zl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var oy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ay=class{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=de(t),s=i.queries;i.queries=Xb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(P.ABORTED,"Firestore shutting down"))}};function Xb(){return new gr(n=>yT(n),ud)}function uL(n,e){return E(this,null,function*(){let t=de(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new oy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=UT(o,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Vy(t)})}function lL(n,e){return E(this,null,function*(){let t=de(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function dL(n,e){let t=de(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Vy(t)}function hL(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Vy(n){n.Y_.forEach(e=>{e.next()})}var cy,eT;(eT=cy||(cy={})).ea="default",eT.Cache="cache";var uy=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cy.Cache}};var Xl=class{constructor(e){this.key=e}},ed=class{constructor(e){this.key=e}},ly=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=vT(e),this.Ra=new Zl(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Jl,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let _=i.get(f),I=ld(this.query,g)?g:null,A=!!_&&this.mutatedKeys.has(_.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;_&&I?_.data.isEqual(I.data)?A!==M&&(r.track({type:3,doc:I}),R=!0):this.ga(_,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(c=!0)):!_&&I?(r.track({type:0,doc:I}),R=!0):_&&!I&&(r.track({type:1,doc:_}),R=!0,(u||d)&&(c=!0)),R&&(I?(o=o.add(I),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,g)=>function(I,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return M(I)-M(A)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Ns(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new ed(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Xl(r))}),t}ba(e){this.Ta=e.Ts,this.da=pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dy=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hy=class{constructor(e){this.key=e,this.va=!1}},fy=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gr(c=>yT(c),ud),this.Ma=new Map,this.xa=new Set,this.Oa=new xe($.comparator),this.Na=new Map,this.La=new Aa,this.Ba={},this.ka=new Map,this.qa=Sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function fL(n,e,t=!0){return E(this,null,function*(){let r=zT(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield jT(r,e,t,!0),i})}function pL(n,e){return E(this,null,function*(){let t=zT(n);yield jT(t,e,!0,!1)})}function jT(n,e,t,r){return E(this,null,function*(){let i=yield tL(n.localStore,nn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield gL(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&FT(n.remoteStore,i),c})}function gL(n,e,t,r,i){return E(this,null,function*(){n.Ka=(g,_,I)=>function(M,R,V,G){return E(this,null,function*(){let H=R.view.ma(V);H.ns&&(H=yield Yb(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,H)));let ee=G&&G.targetChanges.get(R.targetId),Te=G&&G.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(H,M.isPrimaryClient,ee,Te);return nT(M,R.targetId,W.wa),W.snapshot})}(n,g,_,I);let s=yield Yb(n.localStore,e,!0),o=new ly(e,s.Ts),c=o.ma(s.documents),u=ba.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(c,n.isPrimaryClient,u);nT(n,t,d.wa);let f=new dy(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function mL(n,e,t){return E(this,null,function*(){let r=de(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ud(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Py(r.remoteStore,i.targetId),py(r,i.targetId)}).catch(Sy))):(py(r,i.targetId),yield Qm(r.localStore,i.targetId,!0))})}function yL(n,e){return E(this,null,function*(){let t=de(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Py(t.remoteStore,r.targetId))})}function BT(n,e){return E(this,null,function*(){let t=de(n);try{let r=yield XV(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Me(o.va):i.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),yield HT(t,r,e)}catch(r){yield Sy(r)}})}function tT(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=de(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&Vy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vL(n,e,t){return E(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new xe($.comparator);o=o.insert(s,jt.newNoDocument(s,Z.min()));let c=pe().add(s),u=new Hl(Z.min(),new Map,new xe(me),o,c);yield BT(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ly(r)}else yield Qm(r.localStore,e,!1).then(()=>py(r,e,t)).catch(Sy)})}function py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||$T(n,r)})}function $T(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Py(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Ly(n))}function nT(n,e,t){for(let r of t)r instanceof Xl?(n.La.addReference(r.key,e),_L(n,r)):r instanceof ed?(F("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||$T(n,r.key)):Y()}function _L(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.xa.add(r),Ly(n))}function Ly(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new $(Ue.fromString(e)),r=n.qa.next();n.Na.set(r,new hy(t)),n.Oa=n.Oa.insert(t,r),FT(n.remoteStore,new Ta(nn(mT(t.path)),r,"TargetPurposeLimboResolution",cT.oe))}}function HT(n,e,t){return E(this,null,function*(){let r=de(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=qm.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return E(this,null,function*(){let f=de(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(d,_=>N.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>N.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Ma(g))throw g;F("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,M)}}})}(r.localStore,s))})}function IL(n,e){return E(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield PT(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(P.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield HT(t,r.hs)}})}function wL(n,e){let t=de(n),r=t.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function zT(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vL.bind(null,e),e.Ca.d_=dL.bind(null,e.eventManager),e.Ca.$a=hL.bind(null,e.eventManager),e}var rT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=kT(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return JV(this.persistence,new Wm,t.initialUser,this.serializer)}Ga(t){return new $m(zm.Zr,this.serializer)}Wa(t){return new Ym}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var EL=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=IL.bind(null,this.syncEngine),yield cL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ay}()}createDatastore(t){let r=kT(t.databaseInfo.databaseId),i=function(o){return new Xm(o)}(t.databaseInfo);return function(o,c,u,d){return new ny(o,c,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new iy(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>tT(this.syncEngine,r,0),function(){return Ql.D()?new Ql:new Zm}())}createSyncEngine(t,r){return function(s,o,c,u,d,f,g){let _=new fy(s,o,c,u,d,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(s){return E(this,null,function*(){let o=de(s);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Na(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var gy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var my=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=UT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Qg(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield PT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function iT(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield DL(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Jb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Jb(e.remoteStore,i)),n._onlineComponents=e})}function DL(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qg(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),yield Qg(n,new rT)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Qg(n,new rT);return n._offlineComponents})}function CL(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield iT(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield iT(n,new EL))),n._onlineComponents})}function bL(n){return E(this,null,function*(){let e=yield CL(n),t=e.eventManager;return t.onListen=fL.bind(null,e.syncEngine),t.onUnlisten=mL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yL.bind(null,e.syncEngine),t})}function TL(n,e,t={}){let r=new On;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,c,u,d){let f=new gy({next:_=>{f.Za(),o.enqueueAndForget(()=>lL(s,g)),_.fromCache&&u.source==="server"?d.reject(new U(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new uy(c,f,{includeMetadataChanges:!0,_a:!0});return uL(s,g)}(yield bL(n),n.asyncQueue,e,t,r)})),r.promise}function qT(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sT=new Map;function SL(n,e,t){if(!t)throw new U(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AL(n,e,t,r){if(e===!0&&r===!0)throw new U(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oT(n){if($.isDocumentKey(n))throw new U(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RL(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y()}function yy(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=RL(n);throw new U(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var td=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ra=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new td({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new td(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yg;switch(r.type){case"firstParty":return new em(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=sT.get(t);r&&(F("ComponentProvider","Removing Datastore"),sT.delete(t),r.terminate())}(this),Promise.resolve()}};function GT(n,e,t,r={}){var i;let s=(n=yy(n,Ra))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=We.MOCK_USER;else{c=hC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new U(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(d)}n._authCredentials=new Zg(new Fl(c,u))}}var nd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xs=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},vs=class n extends nd{constructor(e,t,r){super(e,t,mT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xs(this.firestore,null,new $(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function WT(n,e,...t){if(n=Tn(n),SL("collection","path",e),n instanceof Ra){let r=Ue.fromString(e,...t);return oT(r),new vs(n,null,r)}{if(!(n instanceof xs||n instanceof vs))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return oT(r),new vs(n.firestore,null,r)}}var rd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Yl(this,"async_queue_retry"),this.Vu=()=>{let r=Kg();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new On;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ma(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=sy.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var id=class extends Ra{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new rd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rd(e),this._firestoreClient=void 0,yield e}})}};function Uy(n,e){let t=typeof n=="object"?n:is(),r=typeof n=="string"?n:e||"(default)",i=ea(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=dC("firestore");s&&GT(i,...s)}return i}function ML(n){if(n._terminated)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NL(n),n._firestoreClient}function NL(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,d,f){return new om(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qT(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new my(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var vy=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(it.fromBase64String(e))}catch(t){throw new U(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _y=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var Iy=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var xL=new RegExp("[~\\*/\\[\\]]");function PL(n,e,t){if(e.search(xL)>=0)throw aT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw aT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function aT(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(P.INVALID_ARGUMENT,c+n+u)}var od=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(KT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wy=class extends od{data(){return super.data()}};function KT(n,e){return typeof e=="string"?PL(n,e):e instanceof sd?e._internalPath:e._delegate._internalPath}function OL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ey=class{convertValue(e,t="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return cd(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new Iy(s)}convertGeoPoint(e){return new _y(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ry(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){let t=Fn(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);Me(xT(r));let i=new Bl(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(t)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var gs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dy=class extends od{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(KT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_s=class extends Dy{data(e={}){return super.data(e)}},Cy=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _s(this._firestore,this._userDataWriter,r.key,r,new gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new _s(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new _s(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:kL(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function kL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var by=class extends Ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new vy(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xs(this.firestore,null,t)}};function Pa(n){n=yy(n,nd);let e=yy(n.firestore,id),t=ML(e),r=new by(e);return OL(n._query),TL(t,n._query).then(i=>new Cy(e,r,n,i))}(function(e,t=!0){(function(i){Ps=i})(ur),cr(new Rt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new id(new Jg(r.getProvider("auth-internal")),new nm(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new U(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ze(Mb,"4.7.3",e),ze(Mb,"4.7.3","esm2017")})();var ii=class{constructor(e){return e}},QT="firestore",jy=class{constructor(){return ta(QT)}};var By=new j("angularfire2.firestore-instances");function FL(n,e){let t=hl(QT,n,e);return t&&new ii(t)}function VL(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ii(r)}}var LL={provide:jy,deps:[[new ut,By]]},UL={provide:ii,useFactory:FL,deps:[[new ut,By],Rn]};function YT(n,...e){return ze("angularfire",Gr.full,"fst"),Yt([UL,LL,{provide:By,useFactory:VL(n),multi:!0,deps:[ve,ht,as,Wr,[new ut,la],[new ut,os],...e]}])}var $y=na(WT,!0);function $L(n,e){if(n&1&&(Ce(0,"li"),we(1),Re()),n&2){let t=e.$implicit;rr(),lp(" ",t.name," - ",t.zusage," ")}}function HL(n,e){if(n&1&&(Ce(0,"div")(1,"ul"),Uu(2,$L,2,2,"li",1),Re()()),n&2){let t=e.$implicit;rr(2),Oo("ngForOf",t.personen)}}var hd=class n{constructor(e){this.firestore=e}guestId=null;guest={pin:null,name:"",essen:"",pikant:!1,zusage:!1};guests$=[];ngOnInit(){this.loadGuests(this.firestore)}loadGuests(e){return E(this,null,function*(){let t=yield Pa($y(e,"guests"));this.guests$=t.docs.map(r=>O({id:r.id},r.data())),console.log(this.guests$),this.guests$.forEach(r=>E(this,null,function*(){let i=$y(this.firestore,`guests/${r.id}/essen`);yield Pa(i).catch(o=>console.log(r.id,"essen",o));let s=yield Pa(i);r.essen=s.docs.map(o=>O({id:o.id},o.data())),console.log(r.id,r.essen)}))})}submitForm(){return E(this,null,function*(){alert("Danke f\xFCr deine R\xFCckmeldung!")})}static \u0275fac=function(t){return new(t||n)(fe(ii))};static \u0275cmp=qi({type:n,selectors:[["app-guest-form"]],standalone:!0,features:[Xi],decls:15,vars:6,consts:[["form","ngForm"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","8px",3,"ngSubmit"],["type","text","name","pin","placeholder","PIN (4 stelliger Code)","required","",3,"ngModelChange","ngModel"],["type","checkbox","name","zusage","placeholder","Zusagen?",3,"ngModelChange","ngModel"],["type","text","name","essen","placeholder","Gericht",3,"ngModelChange","ngModel"],["name","food","required","",3,"ngModelChange","ngModel"],["value","true"],["value","false"],["type","submit",3,"disabled"]],template:function(t,r){if(t&1){let i=eD();Uu(0,HL,3,1,"div",1),Ce(1,"form",2,0),Zt("ngSubmit",function(){return Gi(i),Wi(r.submitForm())}),Ce(3,"input",3),Ji("ngModelChange",function(o){return Gi(i),ko(r.guest.pin,o)||(r.guest.pin=o),Wi(o)}),Re(),Ce(4,"span"),we(5,"Zusage? "),Ce(6,"input",4),Ji("ngModelChange",function(o){return Gi(i),ko(r.guest.zusage,o)||(r.guest.zusage=o),Wi(o)}),Re()(),Ce(7,"input",5),Ji("ngModelChange",function(o){return Gi(i),ko(r.guest.essen,o)||(r.guest.essen=o),Wi(o)}),Re(),Ce(8,"select",6),Ji("ngModelChange",function(o){return Gi(i),ko(r.guest.pikant,o)||(r.guest.pikant=o),Wi(o)}),Ce(9,"option",7),we(10,"Pikant"),Re(),Ce(11,"option",8),we(12,"S\xFC\xDF"),Re()(),Ce(13,"button",9),we(14,"Abschicken"),Re()()}if(t&2){let i=nD(2);Oo("ngForOf",r.guests$),rr(3),Zi("ngModel",r.guest.pin),rr(3),Zi("ngModel",r.guest.zusage),rr(),Zi("ngModel",r.guest.essen),rr(),Zi("ngModel",r.guest.pikant),rr(5),Oo("disabled",i.invalid)}},dependencies:[Uo,ED,aC,nC,iC,oC,nl,bp,il,QD,YD,Pp,xp,Np],encapsulation:2})};var ks=class n{title="Hochzeit Meissner-Klein";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qi({type:n,selectors:[["app-root"]],standalone:!0,features:[Xi],decls:47,vars:0,consts:[[1,"base-container"],[1,"base-outer",2,"background-image","url('bg_1.png')"],[1,"base-center",2,"background-image","url('bg_4.png')"],[1,"pacifico-regular"]],template:function(t,r){t&1&&(Ce(0,"div",0),Fe(1,"div",1),Ce(2,"div",2)(3,"h1",3),we(4,"Willkommen -"),Fe(5,"br"),we(6," sch\xF6n, dass du da bist!"),Re(),Ce(7,"p"),we(8," Wir freuen uns sehr, "),Fe(9,"br"),we(10,"diesen besonderen Tag "),Fe(11,"br"),we(12,"mit unseren liebsten Menschen zu feiern "),Fe(13,"br"),we(14,"\u2013 und du bist ein Teil davon! "),Re(),Ce(15,"p"),we(16," Auf dieser Seite haben wir "),Fe(17,"br"),we(18,"alle wichtigen Informationen rund "),Fe(19,"br"),we(20,"um unsere Hochzeit zusammengestellt: "),Fe(21,"br"),we(22,"den groben Ablauf, "),Fe(23,"br"),we(24,"den Ort, "),Fe(25,"br"),we(26,"sowie Hinweise zur Anreise. "),Re(),Ce(27,"p"),we(28," Nimm dir gerne einen Moment Zeit, dich umzuschauen. "),Re(),Ce(29,"p"),we(30," Weiter unten findest du die M\xF6glichkeit "),Fe(31,"br"),we(32,"zu- bzw. abzusagen, sowie anzugeben, "),Fe(33,"br"),we(34,"welches Essen du mitbringen m\xF6chtest. "),Re(),Ce(35,"p"),we(36," Wir freuen uns schon jetzt "),Fe(37,"br"),we(38,"auf einen unvergesslichen Tag mit euch allen! "),Re(),Ce(39,"p")(40,"b"),we(41,"Herzliche Gr\xFC\xDFe"),Re(),Fe(42,"br"),we(43," Sanna und Benjamin "),Re(),Ce(44,"div"),Fe(45,"app-guest-form"),Re()(),Fe(46,"div",1),Re())},dependencies:[Uo,hd],styles:[".base-container[_ngcontent-%COMP%]{background-color:#fff;height:100%;display:flex;flex-direction:row}@media screen and (min-device-width: 720px){.base-outer[_ngcontent-%COMP%]{width:75%}}.base-outer[_ngcontent-%COMP%]{background-size:contain;background-color:#00c0ff2e;opacity:.4}.base-center[_ngcontent-%COMP%]{width:100%;background-color:#ffecc6ad;display:flex;flex-direction:column;align-items:center;background-size:contain;padding:0 20px 45px 120px;text-align:center;background-repeat:repeat-y;overflow-y:auto}@media screen and (max-device-width: 720px){.base-center[_ngcontent-%COMP%]{padding-left:180px}}@media screen and (max-device-width: 530px){.base-center[_ngcontent-%COMP%]{padding-left:120px}}"]})};var J="primary",Ya=Symbol("RouteTitle"),Wy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Bs(n){return new Wy(n)}function zL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!on(n[t],e[t]))return!1;return!0}function on(n,e){let t=n?Ky(n):void 0,r=e?Ky(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!i0(n[i],e[i]))return!1;return!0}function Ky(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function i0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function s0(n){return n.length>0?n[n.length-1]:null}function yr(n){return Ih(n)?n:Lr(n)?Ne(Promise.resolve(n)):Q(n)}var GL={exact:a0,subset:c0},o0={exact:WL,subset:KL,ignored:()=>!0};function ZT(n,e,t){return GL[t.paths](n.root,e.root,t.matrixParams)&&o0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function WL(n,e){return on(n,e)}function a0(n,e,t){if(!oi(n.segments,e.segments)||!gd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!a0(n.children[r],e.children[r],t))return!1;return!0}function KL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>i0(n[t],e[t]))}function c0(n,e,t){return u0(n,e,e.segments,t)}function u0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!oi(i,t)||e.hasChildren()||!gd(i,t,r))}else if(n.segments.length===t.length){if(!oi(n.segments,t)||!gd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!c0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!oi(n.segments,i)||!gd(n.segments,i,r)||!n.children[J]?!1:u0(n.children[J],e,s,r)}}function gd(n,e,t){return e.every((r,i)=>o0[t](n[i].parameters,r.parameters))}var Ln=class{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){return ZL.serialize(this)}},ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return md(this)}},si=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Bs(this.parameters),this._parameterMap}toString(){return d0(this)}};function QL(n,e){return oi(n,e)&&n.every((t,r)=>on(t.parameters,e[r].parameters))}function oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var Iv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new ja,providedIn:"root"})}}return n})(),ja=class{parse(e){let t=new Yy(e);return new Ln(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Oa(e.root,!0)}`,r=eU(e.queryParams),i=typeof e.fragment=="string"?`#${JL(e.fragment)}`:"";return`${t}${r}${i}`}},ZL=new ja;function md(n){return n.segments.map(e=>d0(e)).join("/")}function Oa(n,e){if(!n.hasChildren())return md(n);if(e){let t=n.children[J]?Oa(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${Oa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YL(n,(r,i)=>i===J?[Oa(n.children[J],!1)]:[`${i}:${Oa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${md(n)}/${t[0]}`:`${md(n)}/(${t.join("//")})`}}function l0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fd(n){return l0(n).replace(/%3B/gi,";")}function JL(n){return encodeURI(n)}function Qy(n){return l0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yd(n){return decodeURIComponent(n)}function JT(n){return yd(n.replace(/\+/g,"%20"))}function d0(n){return`${Qy(n.path)}${XL(n.parameters)}`}function XL(n){return Object.entries(n).map(([e,t])=>`;${Qy(e)}=${Qy(t)}`).join("")}function eU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${fd(t)}=${fd(i)}`).join("&"):`${fd(t)}=${fd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tU=/^[^\/()?;#]+/;function Hy(n){let e=n.match(tU);return e?e[0]:""}var nU=/^[^\/()?;=#]+/;function rU(n){let e=n.match(nU);return e?e[0]:""}var iU=/^[^=?&#]+/;function sU(n){let e=n.match(iU);return e?e[0]:""}var oU=/^[^&#]+/;function aU(n){let e=n.match(oU);return e?e[0]:""}var Yy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new ye(e,t)),r}parseSegment(){let e=Hy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new si(yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Hy(this.remaining);i&&(r=i,this.capture(r))}e[yd(t)]=yd(r)}parseQueryParam(e){let t=sU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=aU(this.remaining);o&&(r=o,this.capture(r))}let i=JT(t),s=JT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[J]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function h0(n){return n.segments.length>0?new ye([],{[J]:n}):n}function f0(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=f0(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ye(n.segments,e);return cU(t)}function cU(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new ye(n.segments.concat(e.segments),e.children)}return n}function Ba(n){return n instanceof Ln}function uU(n,e,t=null,r=null){let i=p0(n);return g0(i,e,t,r)}function p0(n){let e;function t(s){let o={};for(let u of s.children){let d=t(u);o[u.outlet]=d}let c=new ye(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=h0(r);return e??i}function g0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return zy(i,i,i,t,r);let s=lU(e);if(s.toRoot())return zy(i,i,new ye([],{}),t,r);let o=dU(s,i,n),c=o.processChildren?Va(o.segmentGroup,o.index,s.commands):y0(o.segmentGroup,o.index,s.commands);return zy(i,o.segmentGroup,c,t,r)}function vd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function $a(n){return typeof n=="object"&&n!=null&&n.outlets}function zy(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;n===e?o=t:o=m0(n,e,t);let c=h0(f0(o));return new Ln(c,s,i)}function m0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=m0(s,e,t)}),new ye(n.segments,r)}var _d=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vd(r[0]))throw new L(4003,!1);let i=r.find($a);if(i&&i!==s0(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _d(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new _d(t,e,r)}var Ls=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function dU(n,e,t){if(n.isAbsolute)return new Ls(e,!0,0);if(!t)return new Ls(e,!1,NaN);if(t.parent===null)return new Ls(t,!0,0);let r=vd(n.commands[0])?0:1,i=t.segments.length-1+r;return hU(t,i,n.numberOfDoubleDots)}function hU(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ls(r,!1,i-s)}function fU(n){return $a(n[0])?n[0].outlets:{[J]:n}}function y0(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return Va(n,e,t);let r=pU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[J]=new ye(n.segments.slice(r.pathIndex),n.children),Va(s,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?Zy(n,e,t):r.match?Va(n,0,i):Zy(n,e,t)}function Va(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=fU(t),i={};if(Object.keys(r).some(s=>s!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let s=Va(n.children[J],e,t);return new ye(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=y0(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(n.segments,i)}}function pU(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if($a(c))break;let u=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!e0(u,d,o))return s;r+=2}else{if(!e0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if($a(s)){let u=gU(s.outlets);return new ye(r,u)}if(i===0&&vd(t[0])){let u=n.segments[e];r.push(new si(u.path,XT(t[0]))),i++;continue}let o=$a(s)?s.outlets[J]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&vd(c)?(r.push(new si(o,XT(c))),i+=2):(r.push(new si(o,{})),i++)}return new ye(r,{})}function gU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Zy(new ye([],{}),0,r))}),e}function XT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function e0(n,e,t){return n==t.path&&on(e,t.parameters)}var La="imperative",Ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ze||{}),Nt=class{constructor(e,t){this.id=e,this.url=t}},Ha=class extends Nt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends Nt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(It||{}),Jy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Jy||{}),Vn=class extends Nt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends Nt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},za=class extends Nt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Id=class extends Nt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xy=class extends Nt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ev=class extends Nt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tv=class extends Nt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends Nt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iv=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sv=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ov=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},av=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cv=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qa=class{},$s=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function mU(n,e){return n.providers&&!n._injector&&(n._injector=up(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bt(n){return n.outlet||J}function yU(n,e){let t=n.filter(r=>Bt(r)===e);return t.push(...n.filter(r=>Bt(r)!==e)),t}function Za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var uv=class{get injector(){return Za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Sd(this.rootInjector),this.attachRef=null}},Sd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ne(bt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=lv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=lv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dv(e,this._root).map(t=>t.value)}};function lv(n,e){if(n===e.value)return e;for(let t of e.children){let r=lv(n,t);if(r)return r}return null}function dv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=dv(n,t);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Vs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ed=class extends wd{constructor(e,t){super(e),this.snapshot=t,wv(this,e)}toString(){return this.snapshot.toString()}};function v0(n){let e=vU(n),t=new Ye([new si("",{})]),r=new Ye({}),i=new Ye({}),s=new Ye({}),o=new Ye(""),c=new Hs(t,r,s,o,i,J,n,e.root);return c.snapshot=e.root,new Ed(new _t(c,[]),e)}function vU(n){let e={},t={},r={},i="",s=new Us([],e,r,i,t,J,n,null,{});return new Cd("",new _t(s,[]))}var Hs=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(d=>d[Ya]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Bs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Bs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&I0(i)&&(r.resolve[Ya]=i.title),r}var Us=class{get title(){return this.data?.[Ya]}constructor(e,t,r,i,s,o,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Cd=class extends wd{constructor(e,t){super(t),this.url=e,wv(this,t)}toString(){return _0(this._root)}};function wv(n,e){e.value._routerState=n,e.children.forEach(t=>wv(n,t))}function _0(n){let e=n.children.length>0?` { ${n.children.map(_0).join(", ")} } `:"";return`${n.value}${e}`}function qy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,on(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),on(e.params,t.params)||n.paramsSubject.next(t.params),qL(e.url,t.url)||n.urlSubject.next(t.url),on(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hv(n,e){let t=on(n.params,e.params)&&QL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hv(n.parent,e.parent))}function I0(n){return typeof n.title=="string"||n.title===null}var _U=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=k(Sd),this.location=k(No),this.changeDetector=k(jr),this.inputBinder=k(Ev,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fv(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vr]})}}return n})(),fv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hs?this.route:e===Sd?this.childContexts:this.parent.get(e,t)}},Ev=new j("");function IU(n,e,t){let r=Ga(n,e._root,t?t._root:void 0);return new Ed(r,e)}function Ga(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=wU(n,e,t);return new _t(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ga(n,c)),o}}let r=EU(e.value),i=e.children.map(s=>Ga(n,s));return new _t(r,i)}}function wU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ga(n,r,i);return Ga(n,r)})}function EU(n){return new Hs(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Wa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},w0="ngNavigationCancelingError";function bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ba(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=E0(!1,It.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function E0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[w0]=!0,t.cancellationCode=e,t}function DU(n){return D0(n)&&Ba(n.url)}function D0(n){return!!n&&n[w0]}var CU=(n,e,t,r)=>te(i=>(new pv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),pv=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),qy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Vs(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Vs(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ov(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(qy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),qy(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Td=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},js=class{constructor(e,t){this.component=e,this.route=t}};function bU(n,e,t){let r=n._root,i=e?e._root:null;return ka(r,i,t,[r.value])}function TU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!nw(n)?n:e.get(n):r}function ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vs(e);return n.children.forEach(o=>{SU(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Ua(c,t.getContext(o),i)),i}function SU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=AU(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Td(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ka(n,e,c?c.children:null,r,i):ka(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new js(c.outlet.component,o))}else o&&Ua(e,c,i),i.canActivateChecks.push(new Td(r)),s.component?ka(n,null,c?c.children:null,r,i):ka(n,null,t,r,i);return i}function AU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(n.url,e.url)||!on(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(n,e)||!on(n.queryParams,e.queryParams);case"paramsChange":default:return!hv(n,e)}}function Ua(n,e,t){let r=Vs(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ua(o,e.children.getContext(s),t):Ua(o,null,t):Ua(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new js(e.outlet.component,i)):t.canDeactivateChecks.push(new js(null,i)):t.canDeactivateChecks.push(new js(null,i))}function Ja(n){return typeof n=="function"}function RU(n){return typeof n=="boolean"}function MU(n){return n&&Ja(n.canLoad)}function NU(n){return n&&Ja(n.canActivate)}function xU(n){return n&&Ja(n.canActivateChild)}function PU(n){return n&&Ja(n.canDeactivate)}function OU(n){return n&&Ja(n.canMatch)}function C0(n){return n instanceof dn||n?.name==="EmptyError"}var pd=Symbol("INITIAL_VALUE");function zs(){return kt(n=>zc(n.map(e=>e.pipe(hn(1),Th(pd)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===pd)return pd;if(t===!1||kU(t))return t}return!0}),Ot(e=>e!==pd),hn(1)))}function kU(n){return Ba(n)||n instanceof Wa}function FU(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Q(re(O({},t),{guardsResult:!0})):VU(o,r,i,n).pipe(Be(c=>c&&RU(c)?LU(r,s,n,e):Q(c)),te(c=>re(O({},t),{guardsResult:c})))})}function VU(n,e,t,r){return Ne(n).pipe(Be(i=>HU(i.component,i.route,t,e,r)),$t(i=>i!==!0,!0))}function LU(n,e,t,r){return Ne(e).pipe(bi(i=>Ci(jU(i.route.parent,r),UU(i.route,r),$U(n,i.path,t),BU(n,i.route,t))),$t(i=>i!==!0,!0))}function UU(n,e){return n!==null&&e&&e(new av(n)),Q(!0)}function jU(n,e){return n!==null&&e&&e(new sv(n)),Q(!0)}function BU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>qc(()=>{let o=Za(e)??t,c=qs(s,o),u=NU(c)?c.canActivate(e,n):vn(o,()=>c(e,n));return yr(u).pipe($t())}));return Q(i).pipe(zs())}function $U(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TU(o)).filter(o=>o!==null).map(o=>qc(()=>{let c=o.guards.map(u=>{let d=Za(o.node)??t,f=qs(u,d),g=xU(f)?f.canActivateChild(r,n):vn(d,()=>f(r,n));return yr(g).pipe($t())});return Q(c).pipe(zs())}));return Q(s).pipe(zs())}function HU(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(c=>{let u=Za(e)??i,d=qs(c,u),f=PU(d)?d.canDeactivate(n,e,t,r):vn(u,()=>d(n,e,t,r));return yr(f).pipe($t())});return Q(o).pipe(zs())}function zU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let c=qs(o,n),u=MU(c)?c.canLoad(e,t):vn(n,()=>c(e,t));return yr(u)});return Q(s).pipe(zs(),b0(r))}function b0(n){return hh($e(e=>{if(typeof e!="boolean")throw bd(n,e)}),te(e=>e===!0))}function qU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let c=qs(o,n),u=OU(c)?c.canMatch(e,t):vn(n,()=>c(e,t));return yr(u)});return Q(s).pipe(zs(),b0(r))}var Ka=class{constructor(e){this.segmentGroup=e||null}},Qa=class extends Error{constructor(e){super(),this.urlTree=e}};function Fs(n){return Di(new Ka(n))}function GU(n){return Di(new L(4e3,!1))}function WU(n){return Di(E0(!1,It.GuardRejected))}var gv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[J])return GU(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:I,data:A,title:M}=i,R=vn(s,()=>c({params:I,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:M}));if(R instanceof Ln)throw new Qa(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Qa(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ln(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},mv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KU(n,e,t,r,i){let s=T0(n,e,t);return s.matched?(r=mU(e,r),qU(r,e,t,i).pipe(te(o=>o===!0?s:O({},mv)))):Q(s)}function T0(n,e,t){if(e.path==="**")return QU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},mv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zL)(t,n,e);if(!i)return O({},mv);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QU(n){return{matched:!0,parameters:n.length>0?s0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function t0(n,e,t,r){return t.length>0&&JU(n,t,r)?{segmentGroup:new ye(e,ZU(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&XU(n,t,r)?{segmentGroup:new ye(n.segments,YU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function YU(n,e,t,r){let i={};for(let s of t)if(Ad(n,e,s)&&!r[Bt(s)]){let o=new ye([],{});i[Bt(s)]=o}return O(O({},r),i)}function ZU(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&Bt(r)!==J){let i=new ye([],{});t[Bt(r)]=i}return t}function JU(n,e,t){return t.some(r=>Ad(n,e,r)&&Bt(r)!==J)}function XU(n,e,t){return t.some(r=>Ad(n,e,r))}function Ad(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ej(n,e,t){return e.length===0&&!n.children[t]}var yv=class{};function tj(n,e,t,r,i,s,o="emptyOnly"){return new vv(n,e,t,r,i,o,s).recognize()}var nj=31,vv=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new gv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=t0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new _t(r,t),s=new Cd("",i),o=uU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Us([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,t).pipe(te(r=>({children:r,rootSnapshot:t})),Wn(r=>{if(r instanceof Qa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ka?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(te(o=>o instanceof _t?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ne(s).pipe(bi(o=>{let c=r.children[o],u=yU(t,o);return this.processSegmentGroup(e,u,c,o,i)}),bh((o,c)=>(o.push(...c),o)),Kn(null),Ch(),Be(o=>{if(o===null)return Fs(r);let c=S0(o);return rj(c),Q(c)}))}processSegment(e,t,r,i,s,o,c){return Ne(t).pipe(bi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(Wn(d=>{if(d instanceof Ka)return Q(null);throw d}))),$t(u=>!!u),Wn(u=>{if(C0(u))return ej(r,i,s)?Q(new yv):Fs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return Bt(r)!==o&&(o===J||!Ad(i,s,r))?Fs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Fs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=T0(t,i,s);if(!u)return Fs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nj&&(this.allowRedirects=!1));let I=new Us(s,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,n0(i),Bt(i),i.component??i._loadedComponent??null,i,r0(i)),A=Dd(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Be(R=>this.processSegment(e,r,t,R.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=KU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new Us(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,n0(r),Bt(r),r.component??r._loadedComponent??null,r,r0(r)),M=Dd(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=t0(t,_,I,d);if(V.length===0&&R.hasChildren())return this.processChildren(f,d,R,A).pipe(te(H=>new _t(A,H)));if(d.length===0&&V.length===0)return Q(new _t(A,[]));let G=Bt(r)===s;return this.processSegment(f,d,R,V,G?J:s,!0,A).pipe(te(H=>new _t(A,H instanceof _t?[H]:[])))}))):Fs(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):zU(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe($e(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):WU(t))):Q({routes:[],injector:e})}};function rj(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function ij(n){let e=n.value.routeConfig;return e&&e.path===""}function S0(n){let e=[],t=new Set;for(let r of n){if(!ij(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=S0(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!t.has(r))}function n0(n){return n.data||{}}function r0(n){return n.resolve||{}}function sj(n,e,t,r,i,s){return Be(o=>tj(n,e,t,r,o.extractedUrl,i,s).pipe(te(({state:c,tree:u})=>re(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function oj(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of A0(u))o.add(d);let c=0;return Ne(o).pipe(bi(u=>s.has(u)?aj(u,r,n,e):(u.data=Dd(u,u.parent,n).resolve,Q(void 0))),$e(()=>c++),Ti(1),Be(u=>c===o.size?Q(t):mt))})}function A0(n){let e=n.children.map(t=>A0(t)).flat();return[n,...e]}function aj(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!I0(i)&&(s[Ya]=i.title),cj(s,n,e,r).pipe(te(o=>(n._resolvedData=o,n.data=Dd(n,n.parent,t).resolve,null)))}function cj(n,e,t,r){let i=Ky(n);if(i.length===0)return Q({});let s={};return Ne(i).pipe(Be(o=>uj(n[o],e,t,r).pipe($t(),$e(c=>{if(c instanceof Wa)throw bd(new ja,c);s[o]=c}))),Ti(1),Dh(s),Wn(o=>C0(o)?mt:Di(o)))}function uj(n,e,t,r){let i=Za(e)??r,s=qs(n,i),o=s.resolve?s.resolve(e,t):vn(i,()=>s(e,t));return yr(o)}function Gy(n){return kt(e=>{let t=n(e);return t?Ne(t).pipe(te(()=>e)):Q(e)})}var R0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[Ya]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(lj),providedIn:"root"})}}return n})(),lj=(()=>{class n extends R0{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ne(xD))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dv=new j("",{providedIn:"root",factory:()=>({})}),dj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=qi({type:n,selectors:[["ng-component"]],standalone:!0,features:[Xi],decls:1,vars:0,template:function(r,i){r&1&&Fe(0,"router-outlet")},dependencies:[_U],encapsulation:2})}}return n})();function Cv(n){let e=n.children&&n.children.map(Cv),t=e?re(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=dj),t}var bv=new j(""),hj=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(hp)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yr(t.loadComponent()).pipe(te(M0),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),mo(()=>{this.componentLoaders.delete(t)})),i=new _i(r,()=>new Qe).pipe(vi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=fj(r,this.compiler,t,this.onLoadEndListener).pipe(mo(()=>{this.childrenLoaders.delete(r)})),o=new _i(s,()=>new Qe).pipe(vi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fj(n,e,t,r){return yr(n.loadChildren()).pipe(te(M0),Be(i=>i instanceof bo||Array.isArray(i)?Q(i):Ne(e.compileModuleAsync(i))),te(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(bv,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cv),injector:s}}))}function pj(n){return n&&typeof n=="object"&&"default"in n}function M0(n){return pj(n)?n.default:n}var Tv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(gj),providedIn:"root"})}}return n})(),gj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mj=new j("");var yj=new j(""),vj=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=k(hj),this.environmentInjector=k(bt),this.urlSerializer=k(Iv),this.rootContexts=k(Sd),this.location=k(Lo),this.inputBindingEnabled=k(Ev,{optional:!0})!==null,this.titleStrategy=k(R0),this.options=k(Dv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Tv),this.createViewTransition=k(mj,{optional:!0}),this.navigationErrorHandler=k(yj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new rv(i)),r=i=>this.events.next(new iv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(re(O(O({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ye({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(s=>s.id!==0),te(s=>re(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kt(s=>{let o=!1,c=!1;return Q(s).pipe(kt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),mt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.rawUrl),g,Jy.IgnoredSameUrlNavigation)),u.resolve(!1),mt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(kt(g=>{let _=this.transitions?.getValue();return this.events.next(new Ha(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?mt:Promise.resolve(g)}),sj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=re(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Id(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:A,extras:M}=u,R=new Ha(g,this.urlSerializer.serialize(_),I,A);this.events.next(R);let V=v0(this.rootComponentType).snapshot;return this.currentTransition=s=re(O({},u),{targetSnapshot:V,urlAfterRedirects:_,extras:re(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Q(s)}else{let g="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Jy.IgnoredByUrlHandlingStrategy)),u.resolve(!1),mt}}),$e(u=>{let d=new Xy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),te(u=>(this.currentTransition=s=re(O({},u),{guards:bU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),FU(this.environmentInjector,u=>this.events.next(u)),$e(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw bd(this.urlSerializer,u.guardsResult);let d=new ev(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ot(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",It.GuardRejected),!1)),Gy(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe($e(d=>{let f=new tv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),kt(d=>{let f=!1;return Q(d).pipe(oj(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",It.NoDataFromResolver)}}))}),$e(d=>{let f=new nv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Gy(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe($e(_=>{f.component=_}),te(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return zc(d(u.targetSnapshot.root)).pipe(Kn(null),hn(1))}),Gy(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ne(f).pipe(te(()=>s)):Q(s)}),te(u=>{let d=IU(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=re(O({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),$e(()=>{this.events.next(new qa)}),CU(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hn(1),$e({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Sh(this.transitionAbortSubject.pipe($e(u=>{throw u}))),mo(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wn(u=>{if(c=!0,D0(u))this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),DU(u)?this.events.next(new $s(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new za(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=vn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Wa){let{message:g,cancellationCode:_}=bd(this.urlSerializer,f);this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new $s(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return mt}))}))}cancelNavigationTransition(t,r,i){let s=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _j(n){return n!==La}var Ij=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(wj),providedIn:"root"})}}return n})(),_v=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},wj=(()=>{class n extends _v{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),N0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(Ej),providedIn:"root"})}}return n})(),Ej=(()=>{class n extends N0{constructor(){super(...arguments),this.location=k(Lo),this.urlSerializer=k(Iv),this.options=k(Dv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Tv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ln,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=v0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ha)this.stateMemento=this.createStateMemento();else if(t instanceof ci)this.rawUrlTree=r.initialUrl;else if(t instanceof Id){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof qa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Vn&&(t.code===It.GuardRejected||t.code===It.NoDataFromResolver)?this.restoreHistory(r):t instanceof za?this.restoreHistory(r,!0):t instanceof ai&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ln?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fa||{});function Dj(n,e){n.events.pipe(Ot(t=>t instanceof ai||t instanceof Vn||t instanceof za||t instanceof ci),te(t=>t instanceof ai||t instanceof ci?Fa.COMPLETE:(t instanceof Vn?t.code===It.Redirect||t.code===It.SupersededByNewNavigation:!1)?Fa.REDIRECTING:Fa.FAILED),Ot(t=>t!==Fa.REDIRECTING),hn(1)).subscribe(()=>{e()})}function Cj(n){throw n}var bj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},x0=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k($u),this.stateManager=k(N0),this.options=k(Dv,{optional:!0})||{},this.pendingTasks=k(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(vj),this.urlSerializer=k(Iv),this.location=k(Lo),this.urlHandlingStrategy=k(Tv),this._events=new Qe,this.errorHandler=this.options.errorHandler||Cj,this.navigated=!1,this.routeReuseStrategy=k(Ij),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(bv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ev,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Vn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof $s){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_j(i.source)},o);this.scheduleNavigation(c,La,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Aj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=p0(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return g0(g,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ba(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,La,null,r)}navigate(t,r={skipLocationChange:!1}){return Sj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},bj):r===!1?i=O({},Tj):i=r,Ba(t))return ZT(this.currentUrlTree,t,i);let s=this.parseUrl(t);return ZT(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return Dj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function Aj(n){return!(n instanceof qa)&&!(n instanceof $s)}var Rj=new j("");function P0(n,...e){return Yt([{provide:bv,multi:!0,useValue:n},[],{provide:Hs,useFactory:Mj,deps:[x0]},{provide:dp,multi:!0,useFactory:Nj},e.map(t=>t.\u0275providers)])}function Mj(n){return n.routerState.root}function Nj(){let n=k(ht);return e=>{let t=n.get(Ur);if(e!==t.components[0])return;let r=n.get(x0),i=n.get(xj);n.get(Pj)===1&&r.initialNavigation(),n.get(Oj,null,X.Optional)?.setUpPreloading(),n.get(Rj,null,X.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xj=new j("",{factory:()=>new Qe}),Pj=new j("",{providedIn:"root",factory:()=>1});var Oj=new j("");var O0=[{path:"",component:ks}];var k0={production:!0,firebase:{apiKey:"AIzaSyAteh-tPQcqpzPTARPWABMCCnWxfFsMA1k",authDomain:"marriage-65c9a.firebaseapp.com",projectId:"marriage-65c9a",storageBucket:"marriage-65c9a.appspot.com",messagingSenderId:"936214382943",appId:"1:936214382943:web:5ec9f08cdc8044cc3c8eea"}};var F0=ul(k0.firebase);ND(ks,{providers:[lD({eventCoalescing:!0}),P0(O0),FC(()=>F0),YT(()=>Uy(F0)),Tb(()=>Sb())]}).then(()=>{console.log("Bootstrap erfolgreich")}).catch(n=>console.error("Bootstrap nicht erfolgreich",n));
