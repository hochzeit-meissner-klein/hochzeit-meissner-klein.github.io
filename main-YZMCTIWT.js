var YN=Object.create;var lg=Object.defineProperty,KN=Object.defineProperties,QN=Object.getOwnPropertyDescriptor,ZN=Object.getOwnPropertyDescriptors,JN=Object.getOwnPropertyNames,pE=Object.getOwnPropertySymbols,mE=Object.getPrototypeOf,yE=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable,ex=Reflect.get;var gE=(n,e,t)=>e in n?lg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$=(n,e)=>{for(var t in e||={})yE.call(e,t)&&gE(n,t,e[t]);if(pE)for(var t of pE(e))XN.call(e,t)&&gE(n,t,e[t]);return n},be=(n,e)=>KN(n,ZN(e));var vE=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var tx=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var nx=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of JN(e))!yE.call(n,i)&&i!==t&&lg(n,i,{get:()=>e[i],enumerable:!(r=QN(e,i))||r.enumerable});return n};var rx=(n,e,t)=>(t=n!=null?YN(mE(n)):{},nx(e||!n||!n.__esModule?lg(t,"default",{value:n,enumerable:!0}):t,n));var gi=(n,e,t)=>ex(mE(n),t,e);var S=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{c(t.next(l))}catch(h){i(h)}},o=l=>{try{c(t.throw(l))}catch(h){i(h)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((t=t.apply(n,e)).next())});var ZA=tx((aI,Ka)=>{"use strict";(function(n,e){typeof aI=="object"&&typeof Ka<"u"?Ka.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(aI,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(a){n=a}function r(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function i(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function s(a,d){return Object.prototype.hasOwnProperty.call(a,d)}function o(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var d;for(d in a)if(s(a,d))return!1;return!0}function c(a){return a===void 0}function l(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function h(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function y(a,d){var p=[],g,v=a.length;for(g=0;g<v;++g)p.push(d(a[g],g));return p}function _(a,d){for(var p in d)s(d,p)&&(a[p]=d[p]);return s(d,"toString")&&(a.toString=d.toString),s(d,"valueOf")&&(a.valueOf=d.valueOf),a}function E(a,d,p,g){return Me(a,d,p,g,!0).utc()}function C(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function A(a){return a._pf==null&&(a._pf=C()),a._pf}var V;Array.prototype.some?V=Array.prototype.some:V=function(a){var d=Object(this),p=d.length>>>0,g;for(g=0;g<p;g++)if(g in d&&a.call(this,d[g],g,d))return!0;return!1};function F(a){var d=null,p=!1,g=a._d&&!isNaN(a._d.getTime());if(g&&(d=A(a),p=V.call(d.parsedDateParts,function(v){return v!=null}),g=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&p),a._strict&&(g=g&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=g;else return g;return a._isValid}function H(a){var d=E(NaN);return a!=null?_(A(d),a):A(d).userInvalidated=!0,d}var J=e.momentProperties=[],X=!1;function me(a,d){var p,g,v,T=J.length;if(c(d._isAMomentObject)||(a._isAMomentObject=d._isAMomentObject),c(d._i)||(a._i=d._i),c(d._f)||(a._f=d._f),c(d._l)||(a._l=d._l),c(d._strict)||(a._strict=d._strict),c(d._tzm)||(a._tzm=d._tzm),c(d._isUTC)||(a._isUTC=d._isUTC),c(d._offset)||(a._offset=d._offset),c(d._pf)||(a._pf=A(d)),c(d._locale)||(a._locale=d._locale),T>0)for(p=0;p<T;p++)g=J[p],v=d[g],c(v)||(a[g]=v);return a}function Ge(a){me(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X===!1&&(X=!0,e.updateOffset(this),X=!1)}function Z(a){return a instanceof Ge||a!=null&&a._isAMomentObject!=null}function R(a){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}function I(a,d){var p=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,a),p){var g=[],v,T,k,Y=arguments.length;for(T=0;T<Y;T++){if(v="",typeof arguments[T]=="object"){v+=`
[`+T+"] ";for(k in arguments[0])s(arguments[0],k)&&(v+=k+": "+arguments[0][k]+", ");v=v.slice(0,-2)}else v=arguments[T];g.push(v)}R(a+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return d.apply(this,arguments)},d)}var D={};function M(a,d){e.deprecationHandler!=null&&e.deprecationHandler(a,d),D[a]||(R(d),D[a]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function N(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function P(a){var d,p;for(p in a)s(a,p)&&(d=a[p],N(d)?this[p]=d:this["_"+p]=d);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function b(a,d){var p=_({},a),g;for(g in d)s(d,g)&&(i(a[g])&&i(d[g])?(p[g]={},_(p[g],a[g]),_(p[g],d[g])):d[g]!=null?p[g]=d[g]:delete p[g]);for(g in a)s(a,g)&&!s(d,g)&&i(a[g])&&(p[g]=_({},p[g]));return p}function Qt(a){a!=null&&this.set(a)}var yr;Object.keys?yr=Object.keys:yr=function(a){var d,p=[];for(d in a)s(a,d)&&p.push(d);return p};var Fp={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function qi(a,d,p){var g=this._calendar[a]||this._calendar.sameElse;return N(g)?g.call(d,p):g}function Mt(a,d,p){var g=""+Math.abs(a),v=d-g.length,T=a>=0;return(T?p?"+":"":"-")+Math.pow(10,Math.max(0,v)).toString().substr(1)+g}var Wi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,uu={},kt={};function z(a,d,p,g){var v=g;typeof g=="string"&&(v=function(){return this[g]()}),a&&(kt[a]=v),d&&(kt[d[0]]=function(){return Mt(v.apply(this,arguments),d[1],d[2])}),p&&(kt[p]=function(){return this.localeData().ordinal(v.apply(this,arguments),a)})}function Vp(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Ki(a){var d=a.match(Wi),p,g;for(p=0,g=d.length;p<g;p++)kt[d[p]]?d[p]=kt[d[p]]:d[p]=Vp(d[p]);return function(v){var T="",k;for(k=0;k<g;k++)T+=N(d[k])?d[k].call(v,a):d[k];return T}}function to(a,d){return a.isValid()?(d=si(d,a.localeData()),uu[d]=uu[d]||Ki(d),uu[d](a)):a.localeData().invalidDate()}function si(a,d){var p=5;function g(v){return d.longDateFormat(v)||v}for(Yi.lastIndex=0;p>=0&&Yi.test(a);)a=a.replace(Yi,g),Yi.lastIndex=0,p-=1;return a}var Lp={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Up(a){var d=this._longDateFormat[a],p=this._longDateFormat[a.toUpperCase()];return d||!p?d:(this._longDateFormat[a]=p.match(Wi).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[a])}var no="Invalid date";function ro(){return this._invalidDate}var cu="%d",lu=/\d{1,2}/;function du(a){return this._ordinal.replace("%d",a)}var hu={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function gl(a,d,p,g){var v=this._relativeTime[p];return N(v)?v(a,d,p,g):v.replace(/%d/i,a)}function ml(a,d){var p=this._relativeTime[a>0?"future":"past"];return N(p)?p(d):p.replace(/%s/i,d)}var yl={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ft(a){return typeof a=="string"?yl[a]||yl[a.toLowerCase()]:void 0}function io(a){var d={},p,g;for(g in a)s(a,g)&&(p=Ft(g),p&&(d[p]=a[g]));return d}var fu={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function vl(a){var d=[],p;for(p in a)s(a,p)&&d.push({unit:p,priority:fu[p]});return d.sort(function(g,v){return g.priority-v.priority}),d}var _l=/\d/,Dt=/\d\d/,so=/\d{3}/,Qi=/\d{4}/,st=/[+-]?\d{6}/,ye=/\d\d?/,Zi=/\d\d\d\d?/,pu=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,gu=/\d{1,4}/,$n=/[+-]?\d{1,6}/,vr=/\d+/,Xi=/[+-]?\d+/,mu=/Z|[+-]\d\d:?\d\d/gi,oo=/Z|[+-]\d\d(?::?\d\d)?/gi,jp=/[+-]?\d+(\.\d{1,3})?/,_r=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,wr=/^[1-9]\d?/,ao=/^([1-9]\d|\d)/,Hn;Hn={};function q(a,d,p){Hn[a]=N(d)?d:function(g,v){return g&&p?p:d}}function yu(a,d){return s(Hn,a)?Hn[a](d._strict,d._locale):new RegExp(Ir(a))}function Ir(a){return cn(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,p,g,v,T){return p||g||v||T}))}function cn(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bt(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function _e(a){var d=+a,p=0;return d!==0&&isFinite(d)&&(p=bt(d)),p}var Er={};function Ue(a,d){var p,g=d,v;for(typeof a=="string"&&(a=[a]),l(d)&&(g=function(T,k){k[d]=_e(T)}),v=a.length,p=0;p<v;p++)Er[a[p]]=g}function ot(a,d){Ue(a,function(p,g,v,T){v._w=v._w||{},d(p,v._w,v,T)})}function wl(a,d,p){d!=null&&s(Er,a)&&Er[a](d,p._a,p,a)}function zn(a){return a%4===0&&a%100!==0||a%400===0}var tt=0,Tn=1,ln=2,Qe=3,Zt=4,Sn=5,dn=6,Il=7,vu=8;z("Y",0,0,function(){var a=this.year();return a<=9999?Mt(a,4):"+"+a}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),q("Y",Xi),q("YY",ye,Dt),q("YYYY",gu,Qi),q("YYYYY",$n,st),q("YYYYYY",$n,st),Ue(["YYYYY","YYYYYY"],tt),Ue("YYYY",function(a,d){d[tt]=a.length===2?e.parseTwoDigitYear(a):_e(a)}),Ue("YY",function(a,d){d[tt]=e.parseTwoDigitYear(a)}),Ue("Y",function(a,d){d[tt]=parseInt(a,10)});function Gn(a){return zn(a)?366:365}e.parseTwoDigitYear=function(a){return _e(a)+(_e(a)>68?1900:2e3)};var An=Dr("FullYear",!0);function El(){return zn(this.year())}function Dr(a,d){return function(p){return p!=null?(uo(this,a,p),e.updateOffset(this,d),this):br(this,a)}}function br(a,d){if(!a.isValid())return NaN;var p=a._d,g=a._isUTC;switch(d){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}function uo(a,d,p){var g,v,T,k,Y;if(!(!a.isValid()||isNaN(p))){switch(g=a._d,v=a._isUTC,d){case"Milliseconds":return void(v?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(v?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(v?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(v?g.setUTCHours(p):g.setHours(p));case"Date":return void(v?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}T=p,k=a.month(),Y=a.date(),Y=Y===29&&k===1&&!zn(T)?28:Y,v?g.setUTCFullYear(T,k,Y):g.setFullYear(T,k,Y)}}function Dl(a){return a=Ft(a),N(this[a])?this[a]():this}function bl(a,d){if(typeof a=="object"){a=io(a);var p=vl(a),g,v=p.length;for(g=0;g<v;g++)this[p[g].unit](a[p[g].unit])}else if(a=Ft(a),N(this[a]))return this[a](d);return this}function Bp(a,d){return(a%d+d)%d}var Ze;Array.prototype.indexOf?Ze=Array.prototype.indexOf:Ze=function(a){var d;for(d=0;d<this.length;++d)if(this[d]===a)return d;return-1};function co(a,d){if(isNaN(a)||isNaN(d))return NaN;var p=Bp(d,12);return a+=(d-p)/12,p===1?zn(a)?29:28:31-p%7%2}z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),z("MMMM",0,0,function(a){return this.localeData().months(this,a)}),q("M",ye,wr),q("MM",ye,Dt),q("MMM",function(a,d){return d.monthsShortRegex(a)}),q("MMMM",function(a,d){return d.monthsRegex(a)}),Ue(["M","MM"],function(a,d){d[Tn]=_e(a)-1}),Ue(["MMM","MMMM"],function(a,d,p,g){var v=p._locale.monthsParse(a,g,p._strict);v!=null?d[Tn]=v:A(p).invalidMonth=a});var _u="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wu=_r,$p=_r;function Cl(a,d){return a?r(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||qn).test(d)?"format":"standalone"][a.month()]:r(this._months)?this._months:this._months.standalone}function Tl(a,d){return a?r(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[qn.test(d)?"format":"standalone"][a.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Sl(a,d,p){var g,v,T,k=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)T=E([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(T,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(T,"").toLocaleLowerCase();return p?d==="MMM"?(v=Ze.call(this._shortMonthsParse,k),v!==-1?v:null):(v=Ze.call(this._longMonthsParse,k),v!==-1?v:null):d==="MMM"?(v=Ze.call(this._shortMonthsParse,k),v!==-1?v:(v=Ze.call(this._longMonthsParse,k),v!==-1?v:null)):(v=Ze.call(this._longMonthsParse,k),v!==-1?v:(v=Ze.call(this._shortMonthsParse,k),v!==-1?v:null))}function Iu(a,d,p){var g,v,T;if(this._monthsParseExact)return Sl.call(this,a,d,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(v=E([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(v,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(v,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(T="^"+this.months(v,"")+"|^"+this.monthsShort(v,""),this._monthsParse[g]=new RegExp(T.replace(".",""),"i")),p&&d==="MMMM"&&this._longMonthsParse[g].test(a))return g;if(p&&d==="MMM"&&this._shortMonthsParse[g].test(a))return g;if(!p&&this._monthsParse[g].test(a))return g}}function lo(a,d){if(!a.isValid())return a;if(typeof d=="string"){if(/^\d+$/.test(d))d=_e(d);else if(d=a.localeData().monthsParse(d),!l(d))return a}var p=d,g=a.date();return g=g<29?g:Math.min(g,co(a.year(),p)),a._isUTC?a._d.setUTCMonth(p,g):a._d.setMonth(p,g),a}function Eu(a){return a!=null?(lo(this,a),e.updateOffset(this,!0),this):br(this,"Month")}function Al(){return co(this.year(),this.month())}function Hp(a){return this._monthsParseExact?(s(this,"_monthsRegex")||Du.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=wu),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function zp(a){return this._monthsParseExact?(s(this,"_monthsRegex")||Du.call(this),a?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=$p),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function Du(){function a(ue,Re){return Re.length-ue.length}var d=[],p=[],g=[],v,T,k,Y;for(v=0;v<12;v++)T=E([2e3,v]),k=cn(this.monthsShort(T,"")),Y=cn(this.months(T,"")),d.push(k),p.push(Y),g.push(Y),g.push(k);d.sort(a),p.sort(a),g.sort(a),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Ml(a,d,p,g,v,T,k){var Y;return a<100&&a>=0?(Y=new Date(a+400,d,p,g,v,T,k),isFinite(Y.getFullYear())&&Y.setFullYear(a)):Y=new Date(a,d,p,g,v,T,k),Y}function es(a){var d,p;return a<100&&a>=0?(p=Array.prototype.slice.call(arguments),p[0]=a+400,d=new Date(Date.UTC.apply(null,p)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(a)):d=new Date(Date.UTC.apply(null,arguments)),d}function hn(a,d,p){var g=7+d-p,v=(7+es(a,0,g).getUTCDay()-d)%7;return-v+g-1}function fn(a,d,p,g,v){var T=(7+p-g)%7,k=hn(a,g,v),Y=1+7*(d-1)+T+k,ue,Re;return Y<=0?(ue=a-1,Re=Gn(ue)+Y):Y>Gn(a)?(ue=a+1,Re=Y-Gn(a)):(ue=a,Re=Y),{year:ue,dayOfYear:Re}}function Wn(a,d,p){var g=hn(a.year(),d,p),v=Math.floor((a.dayOfYear()-g-1)/7)+1,T,k;return v<1?(k=a.year()-1,T=v+qt(k,d,p)):v>qt(a.year(),d,p)?(T=v-qt(a.year(),d,p),k=a.year()+1):(k=a.year(),T=v),{week:T,year:k}}function qt(a,d,p){var g=hn(a,d,p),v=hn(a+1,d,p);return(Gn(a)-g+v)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),q("w",ye,wr),q("ww",ye,Dt),q("W",ye,wr),q("WW",ye,Dt),ot(["w","ww","W","WW"],function(a,d,p,g){d[g.substr(0,1)]=_e(a)});function Rl(a){return Wn(a,this._week.dow,this._week.doy).week}var Ye={dow:0,doy:6};function ho(){return this._week.dow}function ts(){return this._week.doy}function ns(a){var d=this.localeData().week(this);return a==null?d:this.add((a-d)*7,"d")}function Gp(a){var d=Wn(this,1,4).week;return a==null?d:this.add((a-d)*7,"d")}z("d",0,"do","day"),z("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),z("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),z("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),q("d",ye),q("e",ye),q("E",ye),q("dd",function(a,d){return d.weekdaysMinRegex(a)}),q("ddd",function(a,d){return d.weekdaysShortRegex(a)}),q("dddd",function(a,d){return d.weekdaysRegex(a)}),ot(["dd","ddd","dddd"],function(a,d,p,g){var v=p._locale.weekdaysParse(a,g,p._strict);v!=null?d.d=v:A(p).invalidWeekday=a}),ot(["d","e","E"],function(a,d,p,g){d[g]=_e(a)});function Nl(a,d){return typeof a!="string"?a:isNaN(a)?(a=d.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}function qp(a,d){return typeof a=="string"?d.weekdaysParse(a)%7||7:isNaN(a)?null:a}function bu(a,d){return a.slice(d,7).concat(a.slice(0,d))}var Wp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rs="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Yn=_r,Pl=_r,Ol=_r;function kl(a,d){var p=r(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return a===!0?bu(p,this._week.dow):a?p[a.day()]:p}function ai(a){return a===!0?bu(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Yp(a){return a===!0?bu(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Kp(a,d,p){var g,v,T,k=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)T=E([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(T,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(T,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(T,"").toLocaleLowerCase();return p?d==="dddd"?(v=Ze.call(this._weekdaysParse,k),v!==-1?v:null):d==="ddd"?(v=Ze.call(this._shortWeekdaysParse,k),v!==-1?v:null):(v=Ze.call(this._minWeekdaysParse,k),v!==-1?v:null):d==="dddd"?(v=Ze.call(this._weekdaysParse,k),v!==-1||(v=Ze.call(this._shortWeekdaysParse,k),v!==-1)?v:(v=Ze.call(this._minWeekdaysParse,k),v!==-1?v:null)):d==="ddd"?(v=Ze.call(this._shortWeekdaysParse,k),v!==-1||(v=Ze.call(this._weekdaysParse,k),v!==-1)?v:(v=Ze.call(this._minWeekdaysParse,k),v!==-1?v:null)):(v=Ze.call(this._minWeekdaysParse,k),v!==-1||(v=Ze.call(this._weekdaysParse,k),v!==-1)?v:(v=Ze.call(this._shortWeekdaysParse,k),v!==-1?v:null))}function Qp(a,d,p){var g,v,T;if(this._weekdaysParseExact)return Kp.call(this,a,d,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(v=E([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(v,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(v,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(v,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(T="^"+this.weekdays(v,"")+"|^"+this.weekdaysShort(v,"")+"|^"+this.weekdaysMin(v,""),this._weekdaysParse[g]=new RegExp(T.replace(".",""),"i")),p&&d==="dddd"&&this._fullWeekdaysParse[g].test(a))return g;if(p&&d==="ddd"&&this._shortWeekdaysParse[g].test(a))return g;if(p&&d==="dd"&&this._minWeekdaysParse[g].test(a))return g;if(!p&&this._weekdaysParse[g].test(a))return g}}function Kn(a){if(!this.isValid())return a!=null?this:NaN;var d=br(this,"Day");return a!=null?(a=Nl(a,this.localeData()),this.add(a-d,"d")):d}function Zp(a){if(!this.isValid())return a!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return a==null?d:this.add(a-d,"d")}function Jp(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var d=qp(a,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function is(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Cr.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Yn),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function fo(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Cr.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pl),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fl(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Cr.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ol),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Cr(){function a(Lt,xr){return xr.length-Lt.length}var d=[],p=[],g=[],v=[],T,k,Y,ue,Re;for(T=0;T<7;T++)k=E([2e3,1]).day(T),Y=cn(this.weekdaysMin(k,"")),ue=cn(this.weekdaysShort(k,"")),Re=cn(this.weekdays(k,"")),d.push(Y),p.push(ue),g.push(Re),v.push(Y),v.push(ue),v.push(Re);d.sort(a),p.sort(a),g.sort(a),v.sort(a),this._weekdaysRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Tr(){return this.hours()%12||12}function Vl(){return this.hours()||24}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Tr),z("k",["kk",2],0,Vl),z("hmm",0,0,function(){return""+Tr.apply(this)+Mt(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Tr.apply(this)+Mt(this.minutes(),2)+Mt(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+Mt(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+Mt(this.minutes(),2)+Mt(this.seconds(),2)});function po(a,d){z(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}po("a",!0),po("A",!1);function Xe(a,d){return d._meridiemParse}q("a",Xe),q("A",Xe),q("H",ye,ao),q("h",ye,wr),q("k",ye,wr),q("HH",ye,Dt),q("hh",ye,Dt),q("kk",ye,Dt),q("hmm",Zi),q("hmmss",pu),q("Hmm",Zi),q("Hmmss",pu),Ue(["H","HH"],Qe),Ue(["k","kk"],function(a,d,p){var g=_e(a);d[Qe]=g===24?0:g}),Ue(["a","A"],function(a,d,p){p._isPm=p._locale.isPM(a),p._meridiem=a}),Ue(["h","hh"],function(a,d,p){d[Qe]=_e(a),A(p).bigHour=!0}),Ue("hmm",function(a,d,p){var g=a.length-2;d[Qe]=_e(a.substr(0,g)),d[Zt]=_e(a.substr(g)),A(p).bigHour=!0}),Ue("hmmss",function(a,d,p){var g=a.length-4,v=a.length-2;d[Qe]=_e(a.substr(0,g)),d[Zt]=_e(a.substr(g,2)),d[Sn]=_e(a.substr(v)),A(p).bigHour=!0}),Ue("Hmm",function(a,d,p){var g=a.length-2;d[Qe]=_e(a.substr(0,g)),d[Zt]=_e(a.substr(g))}),Ue("Hmmss",function(a,d,p){var g=a.length-4,v=a.length-2;d[Qe]=_e(a.substr(0,g)),d[Zt]=_e(a.substr(g,2)),d[Sn]=_e(a.substr(v))});function Xp(a){return(a+"").toLowerCase().charAt(0)==="p"}var eg=/[ap]\.?m?\.?/i,Ll=Dr("Hours",!0);function Ul(a,d,p){return a>11?p?"pm":"PM":p?"am":"AM"}var Cu={calendar:Fp,longDateFormat:Lp,invalidDate:no,ordinal:cu,dayOfMonthOrdinalParse:lu,relativeTime:hu,months:_u,monthsShort:oi,week:Ye,weekdays:Wp,weekdaysMin:rs,weekdaysShort:xl,meridiemParse:eg},He={},ui={},Vt;function jl(a,d){var p,g=Math.min(a.length,d.length);for(p=0;p<g;p+=1)if(a[p]!==d[p])return p;return g}function Bl(a){return a&&a.toLowerCase().replace("_","-")}function ss(a){for(var d=0,p,g,v,T;d<a.length;){for(T=Bl(a[d]).split("-"),p=T.length,g=Bl(a[d+1]),g=g?g.split("-"):null;p>0;){if(v=ci(T.slice(0,p).join("-")),v)return v;if(g&&g.length>=p&&jl(T,g)>=p-1)break;p--}d++}return Vt}function $l(a){return!!(a&&a.match("^[^/\\\\]*$"))}function ci(a){var d=null,p;if(He[a]===void 0&&typeof Ka<"u"&&Ka&&Ka.exports&&$l(a))try{d=Vt._abbr,p=vE,p("./locale/"+a),Jt(d)}catch{He[a]=null}return He[a]}function Jt(a,d){var p;return a&&(c(d)?p=Mn(a):p=go(a,d),p?Vt=p:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Vt._abbr}function go(a,d){if(d!==null){var p,g=Cu;if(d.abbr=a,He[a]!=null)M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=He[a]._config;else if(d.parentLocale!=null)if(He[d.parentLocale]!=null)g=He[d.parentLocale]._config;else if(p=ci(d.parentLocale),p!=null)g=p._config;else return ui[d.parentLocale]||(ui[d.parentLocale]=[]),ui[d.parentLocale].push({name:a,config:d}),null;return He[a]=new Qt(b(g,d)),ui[a]&&ui[a].forEach(function(v){go(v.name,v.config)}),Jt(a),He[a]}else return delete He[a],null}function mo(a,d){if(d!=null){var p,g,v=Cu;He[a]!=null&&He[a].parentLocale!=null?He[a].set(b(He[a]._config,d)):(g=ci(a),g!=null&&(v=g._config),d=b(v,d),g==null&&(d.abbr=a),p=new Qt(d),p.parentLocale=He[a],He[a]=p),Jt(a)}else He[a]!=null&&(He[a].parentLocale!=null?(He[a]=He[a].parentLocale,a===Jt()&&Jt(a)):He[a]!=null&&delete He[a]);return He[a]}function Mn(a){var d;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vt;if(!r(a)){if(d=ci(a),d)return d;a=[a]}return ss(a)}function Hl(){return yr(He)}function Sr(a){var d,p=a._a;return p&&A(a).overflow===-2&&(d=p[Tn]<0||p[Tn]>11?Tn:p[ln]<1||p[ln]>co(p[tt],p[Tn])?ln:p[Qe]<0||p[Qe]>24||p[Qe]===24&&(p[Zt]!==0||p[Sn]!==0||p[dn]!==0)?Qe:p[Zt]<0||p[Zt]>59?Zt:p[Sn]<0||p[Sn]>59?Sn:p[dn]<0||p[dn]>999?dn:-1,A(a)._overflowDayOfYear&&(d<tt||d>ln)&&(d=ln),A(a)._overflowWeeks&&d===-1&&(d=Il),A(a)._overflowWeekday&&d===-1&&(d=vu),A(a).overflow=d),a}var zl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tu=/Z|[+-]\d\d(?::?\d\d)?/,li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],yo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vo=/^\/?Date\((-?\d+)/i,ql=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wl={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Qn(a){var d,p,g=a._i,v=zl.exec(g)||Gl.exec(g),T,k,Y,ue,Re=li.length,Lt=yo.length;if(v){for(A(a).iso=!0,d=0,p=Re;d<p;d++)if(li[d][1].exec(v[1])){k=li[d][0],T=li[d][2]!==!1;break}if(k==null){a._isValid=!1;return}if(v[3]){for(d=0,p=Lt;d<p;d++)if(yo[d][1].exec(v[3])){Y=(v[2]||" ")+yo[d][0];break}if(Y==null){a._isValid=!1;return}}if(!T&&Y!=null){a._isValid=!1;return}if(v[4])if(Tu.exec(v[4]))ue="Z";else{a._isValid=!1;return}a._f=k+(Y||"")+(ue||""),m(a)}else a._isValid=!1}function Yl(a,d,p,g,v,T){var k=[Kl(a),oi.indexOf(d),parseInt(p,10),parseInt(g,10),parseInt(v,10)];return T&&k.push(parseInt(T,10)),k}function Kl(a){var d=parseInt(a,10);return d<=49?2e3+d:d<=999?1900+d:d}function Ql(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Zl(a,d,p){if(a){var g=xl.indexOf(a),v=new Date(d[0],d[1],d[2]).getDay();if(g!==v)return A(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function _o(a,d,p){if(a)return Wl[a];if(d)return 0;var g=parseInt(p,10),v=g%100,T=(g-v)/100;return T*60+v}function Rt(a){var d=ql.exec(Ql(a._i)),p;if(d){if(p=Yl(d[4],d[3],d[2],d[5],d[6],d[7]),!Zl(d[1],p,a))return;a._a=p,a._tzm=_o(d[8],d[9],d[10]),a._d=es.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),A(a).rfc2822=!0}else a._isValid=!1}function Jl(a){var d=vo.exec(a._i);if(d!==null){a._d=new Date(+d[1]);return}if(Qn(a),a._isValid===!1)delete a._isValid;else return;if(Rt(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:e.createFromInputFallback(a)}e.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function Ar(a,d,p){return a??d??p}function di(a){var d=new Date(e.now());return a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function u(a){var d,p,g=[],v,T,k;if(!a._d){for(v=di(a),a._w&&a._a[ln]==null&&a._a[Tn]==null&&f(a),a._dayOfYear!=null&&(k=Ar(a._a[tt],v[tt]),(a._dayOfYear>Gn(k)||a._dayOfYear===0)&&(A(a)._overflowDayOfYear=!0),p=es(k,0,a._dayOfYear),a._a[Tn]=p.getUTCMonth(),a._a[ln]=p.getUTCDate()),d=0;d<3&&a._a[d]==null;++d)a._a[d]=g[d]=v[d];for(;d<7;d++)a._a[d]=g[d]=a._a[d]==null?d===2?1:0:a._a[d];a._a[Qe]===24&&a._a[Zt]===0&&a._a[Sn]===0&&a._a[dn]===0&&(a._nextDay=!0,a._a[Qe]=0),a._d=(a._useUTC?es:Ml).apply(null,g),T=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Qe]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==T&&(A(a).weekdayMismatch=!0)}}function f(a){var d,p,g,v,T,k,Y,ue,Re;d=a._w,d.GG!=null||d.W!=null||d.E!=null?(T=1,k=4,p=Ar(d.GG,a._a[tt],Wn(fe(),1,4).year),g=Ar(d.W,1),v=Ar(d.E,1),(v<1||v>7)&&(ue=!0)):(T=a._locale._week.dow,k=a._locale._week.doy,Re=Wn(fe(),T,k),p=Ar(d.gg,a._a[tt],Re.year),g=Ar(d.w,Re.week),d.d!=null?(v=d.d,(v<0||v>6)&&(ue=!0)):d.e!=null?(v=d.e+T,(d.e<0||d.e>6)&&(ue=!0)):v=T),g<1||g>qt(p,T,k)?A(a)._overflowWeeks=!0:ue!=null?A(a)._overflowWeekday=!0:(Y=fn(p,g,v,T,k),a._a[tt]=Y.year,a._dayOfYear=Y.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function m(a){if(a._f===e.ISO_8601){Qn(a);return}if(a._f===e.RFC_2822){Rt(a);return}a._a=[],A(a).empty=!0;var d=""+a._i,p,g,v,T,k,Y=d.length,ue=0,Re,Lt;for(v=si(a._f,a._locale).match(Wi)||[],Lt=v.length,p=0;p<Lt;p++)T=v[p],g=(d.match(yu(T,a))||[])[0],g&&(k=d.substr(0,d.indexOf(g)),k.length>0&&A(a).unusedInput.push(k),d=d.slice(d.indexOf(g)+g.length),ue+=g.length),kt[T]?(g?A(a).empty=!1:A(a).unusedTokens.push(T),wl(T,g,a)):a._strict&&!g&&A(a).unusedTokens.push(T);A(a).charsLeftOver=Y-ue,d.length>0&&A(a).unusedInput.push(d),a._a[Qe]<=12&&A(a).bigHour===!0&&a._a[Qe]>0&&(A(a).bigHour=void 0),A(a).parsedDateParts=a._a.slice(0),A(a).meridiem=a._meridiem,a._a[Qe]=w(a._locale,a._a[Qe],a._meridiem),Re=A(a).era,Re!==null&&(a._a[tt]=a._locale.erasConvertYear(Re,a._a[tt])),u(a),Sr(a)}function w(a,d,p){var g;return p==null?d:a.meridiemHour!=null?a.meridiemHour(d,p):(a.isPM!=null&&(g=a.isPM(p),g&&d<12&&(d+=12),!g&&d===12&&(d=0)),d)}function x(a){var d,p,g,v,T,k,Y=!1,ue=a._f.length;if(ue===0){A(a).invalidFormat=!0,a._d=new Date(NaN);return}for(v=0;v<ue;v++)T=0,k=!1,d=me({},a),a._useUTC!=null&&(d._useUTC=a._useUTC),d._f=a._f[v],m(d),F(d)&&(k=!0),T+=A(d).charsLeftOver,T+=A(d).unusedTokens.length*10,A(d).score=T,Y?T<g&&(g=T,p=d):(g==null||T<g||k)&&(g=T,p=d,k&&(Y=!0));_(a,p||d)}function O(a){if(!a._d){var d=io(a._i),p=d.day===void 0?d.date:d.day;a._a=y([d.year,d.month,p,d.hour,d.minute,d.second,d.millisecond],function(g){return g&&parseInt(g,10)}),u(a)}}function B(a){var d=new Ge(Sr(je(a)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function je(a){var d=a._i,p=a._f;return a._locale=a._locale||Mn(a._l),d===null||p===void 0&&d===""?H({nullInput:!0}):(typeof d=="string"&&(a._i=d=a._locale.preparse(d)),Z(d)?new Ge(Sr(d)):(h(d)?a._d=d:r(p)?x(a):p?m(a):pt(a),F(a)||(a._d=null),a))}function pt(a){var d=a._i;c(d)?a._d=new Date(e.now()):h(d)?a._d=new Date(d.valueOf()):typeof d=="string"?Jl(a):r(d)?(a._a=y(d.slice(0),function(p){return parseInt(p,10)}),u(a)):i(d)?O(a):l(d)?a._d=new Date(d):e.createFromInputFallback(a)}function Me(a,d,p,g,v){var T={};return(d===!0||d===!1)&&(g=d,d=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(i(a)&&o(a)||r(a)&&a.length===0)&&(a=void 0),T._isAMomentObject=!0,T._useUTC=T._isUTC=v,T._l=p,T._i=a,T._f=d,T._strict=g,B(T)}function fe(a,d,p,g){return Me(a,d,p,g,!1)}var wt=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=fe.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:H()}),hi=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=fe.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:H()});function Wt(a,d){var p,g;if(d.length===1&&r(d[0])&&(d=d[0]),!d.length)return fe();for(p=d[0],g=1;g<d.length;++g)(!d[g].isValid()||d[g][a](p))&&(p=d[g]);return p}function wo(){var a=[].slice.call(arguments,0);return Wt("isBefore",a)}function Su(){var a=[].slice.call(arguments,0);return Wt("isAfter",a)}var LM=function(){return Date.now?Date.now():+new Date},Au=["year","quarter","month","week","day","hour","minute","second","millisecond"];function UM(a){var d,p=!1,g,v=Au.length;for(d in a)if(s(a,d)&&!(Ze.call(Au,d)!==-1&&(a[d]==null||!isNaN(a[d]))))return!1;for(g=0;g<v;++g)if(a[Au[g]]){if(p)return!1;parseFloat(a[Au[g]])!==_e(a[Au[g]])&&(p=!0)}return!0}function jM(){return this._isValid}function BM(){return Rn(NaN)}function Xl(a){var d=io(a),p=d.year||0,g=d.quarter||0,v=d.month||0,T=d.week||d.isoWeek||0,k=d.day||0,Y=d.hour||0,ue=d.minute||0,Re=d.second||0,Lt=d.millisecond||0;this._isValid=UM(d),this._milliseconds=+Lt+Re*1e3+ue*6e4+Y*1e3*60*60,this._days=+k+T*7,this._months=+v+g*3+p*12,this._data={},this._locale=Mn(),this._bubble()}function ed(a){return a instanceof Xl}function tg(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function $M(a,d,p){var g=Math.min(a.length,d.length),v=Math.abs(a.length-d.length),T=0,k;for(k=0;k<g;k++)(p&&a[k]!==d[k]||!p&&_e(a[k])!==_e(d[k]))&&T++;return T+v}function WI(a,d){z(a,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+Mt(~~(p/60),2)+d+Mt(~~p%60,2)})}WI("Z",":"),WI("ZZ",""),q("Z",oo),q("ZZ",oo),Ue(["Z","ZZ"],function(a,d,p){p._useUTC=!0,p._tzm=ng(oo,a)});var HM=/([\+\-]|\d\d)/gi;function ng(a,d){var p=(d||"").match(a),g,v,T;return p===null?null:(g=p[p.length-1]||[],v=(g+"").match(HM)||["-",0,0],T=+(v[1]*60)+_e(v[2]),T===0?0:v[0]==="+"?T:-T)}function rg(a,d){var p,g;return d._isUTC?(p=d.clone(),g=(Z(a)||h(a)?a.valueOf():fe(a).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),e.updateOffset(p,!1),p):fe(a).local()}function ig(a){return-Math.round(a._d.getTimezoneOffset())}e.updateOffset=function(){};function zM(a,d,p){var g=this._offset||0,v;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=ng(oo,a),a===null)return this}else Math.abs(a)<16&&!p&&(a=a*60);return!this._isUTC&&d&&(v=ig(this)),this._offset=a,this._isUTC=!0,v!=null&&this.add(v,"m"),g!==a&&(!d||this._changeInProgress?ZI(this,Rn(a-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:ig(this)}function GM(a,d){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,d),this):-this.utcOffset()}function qM(a){return this.utcOffset(0,a)}function WM(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(ig(this),"m")),this}function YM(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=ng(mu,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function KM(a){return this.isValid()?(a=a?fe(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function QM(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ZM(){if(!c(this._isDSTShifted))return this._isDSTShifted;var a={},d;return me(a,this),a=je(a),a._a?(d=a._isUTC?E(a._a):fe(a._a),this._isDSTShifted=this.isValid()&&$M(a._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function JM(){return this.isValid()?!this._isUTC:!1}function XM(){return this.isValid()?this._isUTC:!1}function YI(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rn(a,d){var p=a,g=null,v,T,k;return ed(a)?p={ms:a._milliseconds,d:a._days,M:a._months}:l(a)||!isNaN(+a)?(p={},d?p[d]=+a:p.milliseconds=+a):(g=eR.exec(a))?(v=g[1]==="-"?-1:1,p={y:0,d:_e(g[ln])*v,h:_e(g[Qe])*v,m:_e(g[Zt])*v,s:_e(g[Sn])*v,ms:_e(tg(g[dn]*1e3))*v}):(g=tR.exec(a))?(v=g[1]==="-"?-1:1,p={y:os(g[2],v),M:os(g[3],v),w:os(g[4],v),d:os(g[5],v),h:os(g[6],v),m:os(g[7],v),s:os(g[8],v)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(k=nR(fe(p.from),fe(p.to)),p={},p.ms=k.milliseconds,p.M=k.months),T=new Xl(p),ed(a)&&s(a,"_locale")&&(T._locale=a._locale),ed(a)&&s(a,"_isValid")&&(T._isValid=a._isValid),T}Rn.fn=Xl.prototype,Rn.invalid=BM;function os(a,d){var p=a&&parseFloat(a.replace(",","."));return(isNaN(p)?0:p)*d}function KI(a,d){var p={};return p.months=d.month()-a.month()+(d.year()-a.year())*12,a.clone().add(p.months,"M").isAfter(d)&&--p.months,p.milliseconds=+d-+a.clone().add(p.months,"M"),p}function nR(a,d){var p;return a.isValid()&&d.isValid()?(d=rg(d,a),a.isBefore(d)?p=KI(a,d):(p=KI(d,a),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function QI(a,d){return function(p,g){var v,T;return g!==null&&!isNaN(+g)&&(M(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),T=p,p=g,g=T),v=Rn(p,g),ZI(this,v,a),this}}function ZI(a,d,p,g){var v=d._milliseconds,T=tg(d._days),k=tg(d._months);a.isValid()&&(g=g??!0,k&&lo(a,br(a,"Month")+k*p),T&&uo(a,"Date",br(a,"Date")+T*p),v&&a._d.setTime(a._d.valueOf()+v*p),g&&e.updateOffset(a,T||k))}var rR=QI(1,"add"),iR=QI(-1,"subtract");function JI(a){return typeof a=="string"||a instanceof String}function sR(a){return Z(a)||h(a)||JI(a)||l(a)||aR(a)||oR(a)||a===null||a===void 0}function oR(a){var d=i(a)&&!o(a),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],v,T,k=g.length;for(v=0;v<k;v+=1)T=g[v],p=p||s(a,T);return d&&p}function aR(a){var d=r(a),p=!1;return d&&(p=a.filter(function(g){return!l(g)&&JI(a)}).length===0),d&&p}function uR(a){var d=i(a)&&!o(a),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],v,T;for(v=0;v<g.length;v+=1)T=g[v],p=p||s(a,T);return d&&p}function cR(a,d){var p=a.diff(d,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function lR(a,d){arguments.length===1&&(arguments[0]?sR(arguments[0])?(a=arguments[0],d=void 0):uR(arguments[0])&&(d=arguments[0],a=void 0):(a=void 0,d=void 0));var p=a||fe(),g=rg(p,this).startOf("day"),v=e.calendarFormat(this,g)||"sameElse",T=d&&(N(d[v])?d[v].call(this,p):d[v]);return this.format(T||this.localeData().calendar(v,this,fe(p)))}function dR(){return new Ge(this)}function hR(a,d){var p=Z(a)?a:fe(a);return this.isValid()&&p.isValid()?(d=Ft(d)||"millisecond",d==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(d).valueOf()):!1}function fR(a,d){var p=Z(a)?a:fe(a);return this.isValid()&&p.isValid()?(d=Ft(d)||"millisecond",d==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(d).valueOf()<p.valueOf()):!1}function pR(a,d,p,g){var v=Z(a)?a:fe(a),T=Z(d)?d:fe(d);return this.isValid()&&v.isValid()&&T.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(v,p):!this.isBefore(v,p))&&(g[1]===")"?this.isBefore(T,p):!this.isAfter(T,p))):!1}function gR(a,d){var p=Z(a)?a:fe(a),g;return this.isValid()&&p.isValid()?(d=Ft(d)||"millisecond",d==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(d).valueOf()<=g&&g<=this.clone().endOf(d).valueOf())):!1}function mR(a,d){return this.isSame(a,d)||this.isAfter(a,d)}function yR(a,d){return this.isSame(a,d)||this.isBefore(a,d)}function vR(a,d,p){var g,v,T;if(!this.isValid())return NaN;if(g=rg(a,this),!g.isValid())return NaN;switch(v=(g.utcOffset()-this.utcOffset())*6e4,d=Ft(d),d){case"year":T=td(this,g)/12;break;case"month":T=td(this,g);break;case"quarter":T=td(this,g)/3;break;case"second":T=(this-g)/1e3;break;case"minute":T=(this-g)/6e4;break;case"hour":T=(this-g)/36e5;break;case"day":T=(this-g-v)/864e5;break;case"week":T=(this-g-v)/6048e5;break;default:T=this-g}return p?T:bt(T)}function td(a,d){if(a.date()<d.date())return-td(d,a);var p=(d.year()-a.year())*12+(d.month()-a.month()),g=a.clone().add(p,"months"),v,T;return d-g<0?(v=a.clone().add(p-1,"months"),T=(d-g)/(g-v)):(v=a.clone().add(p+1,"months"),T=(d-g)/(v-g)),-(p+T)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _R(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wR(a){if(!this.isValid())return null;var d=a!==!0,p=d?this.clone().utc():this;return p.year()<0||p.year()>9999?to(p,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",to(p,"Z")):to(p,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function IR(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",d="",p,g,v,T;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),p="["+a+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",v="-MM-DD[T]HH:mm:ss.SSS",T=d+'[")]',this.format(p+g+v+T)}function ER(a){a||(a=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=to(this,a);return this.localeData().postformat(d)}function DR(a,d){return this.isValid()&&(Z(a)&&a.isValid()||fe(a).isValid())?Rn({to:this,from:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function bR(a){return this.from(fe(),a)}function CR(a,d){return this.isValid()&&(Z(a)&&a.isValid()||fe(a).isValid())?Rn({from:this,to:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function TR(a){return this.to(fe(),a)}function XI(a){var d;return a===void 0?this._locale._abbr:(d=Mn(a),d!=null&&(this._locale=d),this)}var eE=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function tE(){return this._locale}var nd=1e3,Io=60*nd,rd=60*Io,nE=(365*400+97)*24*rd;function Eo(a,d){return(a%d+d)%d}function rE(a,d,p){return a<100&&a>=0?new Date(a+400,d,p)-nE:new Date(a,d,p).valueOf()}function iE(a,d,p){return a<100&&a>=0?Date.UTC(a+400,d,p)-nE:Date.UTC(a,d,p)}function SR(a){var d,p;if(a=Ft(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?iE:rE,a){case"year":d=p(this.year(),0,1);break;case"quarter":d=p(this.year(),this.month()-this.month()%3,1);break;case"month":d=p(this.year(),this.month(),1);break;case"week":d=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=p(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=Eo(d+(this._isUTC?0:this.utcOffset()*Io),rd);break;case"minute":d=this._d.valueOf(),d-=Eo(d,Io);break;case"second":d=this._d.valueOf(),d-=Eo(d,nd);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function AR(a){var d,p;if(a=Ft(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?iE:rE,a){case"year":d=p(this.year()+1,0,1)-1;break;case"quarter":d=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=p(this.year(),this.month()+1,1)-1;break;case"week":d=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=rd-Eo(d+(this._isUTC?0:this.utcOffset()*Io),rd)-1;break;case"minute":d=this._d.valueOf(),d+=Io-Eo(d,Io)-1;break;case"second":d=this._d.valueOf(),d+=nd-Eo(d,nd)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function MR(){return this._d.valueOf()-(this._offset||0)*6e4}function RR(){return Math.floor(this.valueOf()/1e3)}function NR(){return new Date(this.valueOf())}function xR(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function PR(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function OR(){return this.isValid()?this.toISOString():null}function kR(){return F(this)}function FR(){return _({},A(this))}function VR(){return A(this).overflow}function LR(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),q("N",sg),q("NN",sg),q("NNN",sg),q("NNNN",KR),q("NNNNN",QR),Ue(["N","NN","NNN","NNNN","NNNNN"],function(a,d,p,g){var v=p._locale.erasParse(a,g,p._strict);v?A(p).era=v:A(p).invalidEra=a}),q("y",vr),q("yy",vr),q("yyy",vr),q("yyyy",vr),q("yo",ZR),Ue(["y","yy","yyy","yyyy"],tt),Ue(["yo"],function(a,d,p,g){var v;p._locale._eraYearOrdinalRegex&&(v=a.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?d[tt]=p._locale.eraYearOrdinalParse(a,v):d[tt]=parseInt(a,10)});function UR(a,d){var p,g,v,T=this._eras||Mn("en")._eras;for(p=0,g=T.length;p<g;++p){switch(typeof T[p].since){case"string":v=e(T[p].since).startOf("day"),T[p].since=v.valueOf();break}switch(typeof T[p].until){case"undefined":T[p].until=1/0;break;case"string":v=e(T[p].until).startOf("day").valueOf(),T[p].until=v.valueOf();break}}return T}function jR(a,d,p){var g,v,T=this.eras(),k,Y,ue;for(a=a.toUpperCase(),g=0,v=T.length;g<v;++g)if(k=T[g].name.toUpperCase(),Y=T[g].abbr.toUpperCase(),ue=T[g].narrow.toUpperCase(),p)switch(d){case"N":case"NN":case"NNN":if(Y===a)return T[g];break;case"NNNN":if(k===a)return T[g];break;case"NNNNN":if(ue===a)return T[g];break}else if([k,Y,ue].indexOf(a)>=0)return T[g]}function BR(a,d){var p=a.since<=a.until?1:-1;return d===void 0?e(a.since).year():e(a.since).year()+(d-a.offset)*p}function $R(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].name;return""}function HR(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].narrow;return""}function zR(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].abbr;return""}function GR(){var a,d,p,g,v=this.localeData().eras();for(a=0,d=v.length;a<d;++a)if(p=v[a].since<=v[a].until?1:-1,g=this.clone().startOf("day").valueOf(),v[a].since<=g&&g<=v[a].until||v[a].until<=g&&g<=v[a].since)return(this.year()-e(v[a].since).year())*p+v[a].offset;return this.year()}function qR(a){return s(this,"_erasNameRegex")||og.call(this),a?this._erasNameRegex:this._erasRegex}function WR(a){return s(this,"_erasAbbrRegex")||og.call(this),a?this._erasAbbrRegex:this._erasRegex}function YR(a){return s(this,"_erasNarrowRegex")||og.call(this),a?this._erasNarrowRegex:this._erasRegex}function sg(a,d){return d.erasAbbrRegex(a)}function KR(a,d){return d.erasNameRegex(a)}function QR(a,d){return d.erasNarrowRegex(a)}function ZR(a,d){return d._eraYearOrdinalRegex||vr}function og(){var a=[],d=[],p=[],g=[],v,T,k,Y,ue,Re=this.eras();for(v=0,T=Re.length;v<T;++v)k=cn(Re[v].name),Y=cn(Re[v].abbr),ue=cn(Re[v].narrow),d.push(k),a.push(Y),p.push(ue),g.push(k),g.push(Y),g.push(ue);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100});function id(a,d){z(0,[a,a.length],0,d)}id("gggg","weekYear"),id("ggggg","weekYear"),id("GGGG","isoWeekYear"),id("GGGGG","isoWeekYear"),q("G",Xi),q("g",Xi),q("GG",ye,Dt),q("gg",ye,Dt),q("GGGG",gu,Qi),q("gggg",gu,Qi),q("GGGGG",$n,st),q("ggggg",$n,st),ot(["gggg","ggggg","GGGG","GGGGG"],function(a,d,p,g){d[g.substr(0,2)]=_e(a)}),ot(["gg","GG"],function(a,d,p,g){d[g]=e.parseTwoDigitYear(a)});function JR(a){return sE.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function XR(a){return sE.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function eN(){return qt(this.year(),1,4)}function tN(){return qt(this.isoWeekYear(),1,4)}function nN(){var a=this.localeData()._week;return qt(this.year(),a.dow,a.doy)}function rN(){var a=this.localeData()._week;return qt(this.weekYear(),a.dow,a.doy)}function sE(a,d,p,g,v){var T;return a==null?Wn(this,g,v).year:(T=qt(a,g,v),d>T&&(d=T),iN.call(this,a,d,p,g,v))}function iN(a,d,p,g,v){var T=fn(a,d,p,g,v),k=es(T.year,0,T.dayOfYear);return this.year(k.getUTCFullYear()),this.month(k.getUTCMonth()),this.date(k.getUTCDate()),this}z("Q",0,"Qo","quarter"),q("Q",_l),Ue("Q",function(a,d){d[Tn]=(_e(a)-1)*3});function sN(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}z("D",["DD",2],"Do","date"),q("D",ye,wr),q("DD",ye,Dt),q("Do",function(a,d){return a?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),Ue(["D","DD"],ln),Ue("Do",function(a,d){d[ln]=_e(a.match(ye)[0])});var oE=Dr("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),q("DDD",Ji),q("DDDD",so),Ue(["DDD","DDDD"],function(a,d,p){p._dayOfYear=_e(a)});function oN(a){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?d:this.add(a-d,"d")}z("m",["mm",2],0,"minute"),q("m",ye,ao),q("mm",ye,Dt),Ue(["m","mm"],Zt);var aN=Dr("Minutes",!1);z("s",["ss",2],0,"second"),q("s",ye,ao),q("ss",ye,Dt),Ue(["s","ss"],Sn);var uN=Dr("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return this.millisecond()*10}),z(0,["SSSSS",5],0,function(){return this.millisecond()*100}),z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),q("S",Ji,_l),q("SS",Ji,Dt),q("SSS",Ji,so);var fi,aE;for(fi="SSSS";fi.length<=9;fi+="S")q(fi,vr);function cN(a,d){d[dn]=_e(("0."+a)*1e3)}for(fi="S";fi.length<=9;fi+="S")Ue(fi,cN);aE=Dr("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");function lN(){return this._isUTC?"UTC":""}function dN(){return this._isUTC?"Coordinated Universal Time":""}var U=Ge.prototype;U.add=rR,U.calendar=lR,U.clone=dR,U.diff=vR,U.endOf=AR,U.format=ER,U.from=DR,U.fromNow=bR,U.to=CR,U.toNow=TR,U.get=Dl,U.invalidAt=VR,U.isAfter=hR,U.isBefore=fR,U.isBetween=pR,U.isSame=gR,U.isSameOrAfter=mR,U.isSameOrBefore=yR,U.isValid=kR,U.lang=eE,U.locale=XI,U.localeData=tE,U.max=hi,U.min=wt,U.parsingFlags=FR,U.set=bl,U.startOf=SR,U.subtract=iR,U.toArray=xR,U.toObject=PR,U.toDate=NR,U.toISOString=wR,U.inspect=IR,typeof Symbol<"u"&&Symbol.for!=null&&(U[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),U.toJSON=OR,U.toString=_R,U.unix=RR,U.valueOf=MR,U.creationData=LR,U.eraName=$R,U.eraNarrow=HR,U.eraAbbr=zR,U.eraYear=GR,U.year=An,U.isLeapYear=El,U.weekYear=JR,U.isoWeekYear=XR,U.quarter=U.quarters=sN,U.month=Eu,U.daysInMonth=Al,U.week=U.weeks=ns,U.isoWeek=U.isoWeeks=Gp,U.weeksInYear=nN,U.weeksInWeekYear=rN,U.isoWeeksInYear=eN,U.isoWeeksInISOWeekYear=tN,U.date=oE,U.day=U.days=Kn,U.weekday=Zp,U.isoWeekday=Jp,U.dayOfYear=oN,U.hour=U.hours=Ll,U.minute=U.minutes=aN,U.second=U.seconds=uN,U.millisecond=U.milliseconds=aE,U.utcOffset=zM,U.utc=qM,U.local=WM,U.parseZone=YM,U.hasAlignedHourOffset=KM,U.isDST=QM,U.isLocal=JM,U.isUtcOffset=XM,U.isUtc=YI,U.isUTC=YI,U.zoneAbbr=lN,U.zoneName=dN,U.dates=I("dates accessor is deprecated. Use date instead.",oE),U.months=I("months accessor is deprecated. Use month instead",Eu),U.years=I("years accessor is deprecated. Use year instead",An),U.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",GM),U.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ZM);function hN(a){return fe(a*1e3)}function fN(){return fe.apply(null,arguments).parseZone()}function uE(a){return a}var Ve=Qt.prototype;Ve.calendar=qi,Ve.longDateFormat=Up,Ve.invalidDate=ro,Ve.ordinal=du,Ve.preparse=uE,Ve.postformat=uE,Ve.relativeTime=gl,Ve.pastFuture=ml,Ve.set=P,Ve.eras=UR,Ve.erasParse=jR,Ve.erasConvertYear=BR,Ve.erasAbbrRegex=WR,Ve.erasNameRegex=qR,Ve.erasNarrowRegex=YR,Ve.months=Cl,Ve.monthsShort=Tl,Ve.monthsParse=Iu,Ve.monthsRegex=zp,Ve.monthsShortRegex=Hp,Ve.week=Rl,Ve.firstDayOfYear=ts,Ve.firstDayOfWeek=ho,Ve.weekdays=kl,Ve.weekdaysMin=Yp,Ve.weekdaysShort=ai,Ve.weekdaysParse=Qp,Ve.weekdaysRegex=is,Ve.weekdaysShortRegex=fo,Ve.weekdaysMinRegex=Fl,Ve.isPM=Xp,Ve.meridiem=Ul;function sd(a,d,p,g){var v=Mn(),T=E().set(g,d);return v[p](T,a)}function cE(a,d,p){if(l(a)&&(d=a,a=void 0),a=a||"",d!=null)return sd(a,d,p,"month");var g,v=[];for(g=0;g<12;g++)v[g]=sd(a,g,p,"month");return v}function ag(a,d,p,g){typeof a=="boolean"?(l(d)&&(p=d,d=void 0),d=d||""):(d=a,p=d,a=!1,l(d)&&(p=d,d=void 0),d=d||"");var v=Mn(),T=a?v._week.dow:0,k,Y=[];if(p!=null)return sd(d,(p+T)%7,g,"day");for(k=0;k<7;k++)Y[k]=sd(d,(k+T)%7,g,"day");return Y}function pN(a,d){return cE(a,d,"months")}function gN(a,d){return cE(a,d,"monthsShort")}function mN(a,d,p){return ag(a,d,p,"weekdays")}function yN(a,d,p){return ag(a,d,p,"weekdaysShort")}function vN(a,d,p){return ag(a,d,p,"weekdaysMin")}Jt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var d=a%10,p=_e(a%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return a+p}}),e.lang=I("moment.lang is deprecated. Use moment.locale instead.",Jt),e.langData=I("moment.langData is deprecated. Use moment.localeData instead.",Mn);var Mr=Math.abs;function _N(){var a=this._data;return this._milliseconds=Mr(this._milliseconds),this._days=Mr(this._days),this._months=Mr(this._months),a.milliseconds=Mr(a.milliseconds),a.seconds=Mr(a.seconds),a.minutes=Mr(a.minutes),a.hours=Mr(a.hours),a.months=Mr(a.months),a.years=Mr(a.years),this}function lE(a,d,p,g){var v=Rn(d,p);return a._milliseconds+=g*v._milliseconds,a._days+=g*v._days,a._months+=g*v._months,a._bubble()}function wN(a,d){return lE(this,a,d,1)}function IN(a,d){return lE(this,a,d,-1)}function dE(a){return a<0?Math.floor(a):Math.ceil(a)}function EN(){var a=this._milliseconds,d=this._days,p=this._months,g=this._data,v,T,k,Y,ue;return a>=0&&d>=0&&p>=0||a<=0&&d<=0&&p<=0||(a+=dE(ug(p)+d)*864e5,d=0,p=0),g.milliseconds=a%1e3,v=bt(a/1e3),g.seconds=v%60,T=bt(v/60),g.minutes=T%60,k=bt(T/60),g.hours=k%24,d+=bt(k/24),ue=bt(hE(d)),p+=ue,d-=dE(ug(ue)),Y=bt(p/12),p%=12,g.days=d,g.months=p,g.years=Y,this}function hE(a){return a*4800/146097}function ug(a){return a*146097/4800}function DN(a){if(!this.isValid())return NaN;var d,p,g=this._milliseconds;if(a=Ft(a),a==="month"||a==="quarter"||a==="year")switch(d=this._days+g/864e5,p=this._months+hE(d),a){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(d=this._days+Math.round(ug(this._months)),a){case"week":return d/7+g/6048e5;case"day":return d+g/864e5;case"hour":return d*24+g/36e5;case"minute":return d*1440+g/6e4;case"second":return d*86400+g/1e3;case"millisecond":return Math.floor(d*864e5)+g;default:throw new Error("Unknown unit "+a)}}function Rr(a){return function(){return this.as(a)}}var fE=Rr("ms"),bN=Rr("s"),CN=Rr("m"),TN=Rr("h"),SN=Rr("d"),AN=Rr("w"),MN=Rr("M"),RN=Rr("Q"),NN=Rr("y"),xN=fE;function PN(){return Rn(this)}function ON(a){return a=Ft(a),this.isValid()?this[a+"s"]():NaN}function as(a){return function(){return this.isValid()?this._data[a]:NaN}}var kN=as("milliseconds"),FN=as("seconds"),VN=as("minutes"),LN=as("hours"),UN=as("days"),jN=as("months"),BN=as("years");function $N(){return bt(this.days()/7)}var Nr=Math.round,Do={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function HN(a,d,p,g,v){return v.relativeTime(d||1,!!p,a,g)}function zN(a,d,p,g){var v=Rn(a).abs(),T=Nr(v.as("s")),k=Nr(v.as("m")),Y=Nr(v.as("h")),ue=Nr(v.as("d")),Re=Nr(v.as("M")),Lt=Nr(v.as("w")),xr=Nr(v.as("y")),pi=T<=p.ss&&["s",T]||T<p.s&&["ss",T]||k<=1&&["m"]||k<p.m&&["mm",k]||Y<=1&&["h"]||Y<p.h&&["hh",Y]||ue<=1&&["d"]||ue<p.d&&["dd",ue];return p.w!=null&&(pi=pi||Lt<=1&&["w"]||Lt<p.w&&["ww",Lt]),pi=pi||Re<=1&&["M"]||Re<p.M&&["MM",Re]||xr<=1&&["y"]||["yy",xr],pi[2]=d,pi[3]=+a>0,pi[4]=g,HN.apply(null,pi)}function GN(a){return a===void 0?Nr:typeof a=="function"?(Nr=a,!0):!1}function qN(a,d){return Do[a]===void 0?!1:d===void 0?Do[a]:(Do[a]=d,a==="s"&&(Do.ss=d-1),!0)}function WN(a,d){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=Do,v,T;return typeof a=="object"&&(d=a,a=!1),typeof a=="boolean"&&(p=a),typeof d=="object"&&(g=Object.assign({},Do,d),d.s!=null&&d.ss==null&&(g.ss=d.s-1)),v=this.localeData(),T=zN(this,!p,g,v),p&&(T=v.pastFuture(+this,T)),v.postformat(T)}var cg=Math.abs;function bo(a){return(a>0)-(a<0)||+a}function od(){if(!this.isValid())return this.localeData().invalidDate();var a=cg(this._milliseconds)/1e3,d=cg(this._days),p=cg(this._months),g,v,T,k,Y=this.asSeconds(),ue,Re,Lt,xr;return Y?(g=bt(a/60),v=bt(g/60),a%=60,g%=60,T=bt(p/12),p%=12,k=a?a.toFixed(3).replace(/\.?0+$/,""):"",ue=Y<0?"-":"",Re=bo(this._months)!==bo(Y)?"-":"",Lt=bo(this._days)!==bo(Y)?"-":"",xr=bo(this._milliseconds)!==bo(Y)?"-":"",ue+"P"+(T?Re+T+"Y":"")+(p?Re+p+"M":"")+(d?Lt+d+"D":"")+(v||g||a?"T":"")+(v?xr+v+"H":"")+(g?xr+g+"M":"")+(a?xr+k+"S":"")):"P0D"}var xe=Xl.prototype;xe.isValid=jM,xe.abs=_N,xe.add=wN,xe.subtract=IN,xe.as=DN,xe.asMilliseconds=fE,xe.asSeconds=bN,xe.asMinutes=CN,xe.asHours=TN,xe.asDays=SN,xe.asWeeks=AN,xe.asMonths=MN,xe.asQuarters=RN,xe.asYears=NN,xe.valueOf=xN,xe._bubble=EN,xe.clone=PN,xe.get=ON,xe.milliseconds=kN,xe.seconds=FN,xe.minutes=VN,xe.hours=LN,xe.days=UN,xe.weeks=$N,xe.months=jN,xe.years=BN,xe.humanize=WN,xe.toISOString=od,xe.toString=od,xe.toJSON=od,xe.locale=XI,xe.localeData=tE,xe.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",od),xe.lang=eE,z("X",0,0,"unix"),z("x",0,0,"valueOf"),q("x",Xi),q("X",jp),Ue("X",function(a,d,p){p._d=new Date(parseFloat(a)*1e3)}),Ue("x",function(a,d,p){p._d=new Date(_e(a))});return e.version="2.30.1",t(fe),e.fn=U,e.min=wo,e.max=Su,e.now=LM,e.utc=E,e.unix=hN,e.months=pN,e.isDate=h,e.locale=Jt,e.invalid=H,e.duration=Rn,e.isMoment=Z,e.weekdays=mN,e.parseZone=fN,e.localeData=Mn,e.isDuration=ed,e.monthsShort=gN,e.weekdaysMin=vN,e.defineLocale=go,e.updateLocale=mo,e.locales=Hl,e.weekdaysShort=yN,e.normalizeUnits=Ft,e.relativeTimeRounding=GN,e.relativeTimeThreshold=qN,e.calendarFormat=cR,e.prototype=U,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});function _E(n,e){return Object.is(n,e)}var gt=null,ad=!1,ud=1,Pr=Symbol("SIGNAL");function Fe(n){let e=gt;return gt=n,e}function wE(){return gt}var Ru={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fg(n){if(ad)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.nextProducerIndex++;if(hd(gt),e<gt.producerNode.length&&gt.producerNode[e]!==n&&Mu(gt)){let t=gt.producerNode[e];dd(t,gt.producerIndexOfThis[e])}gt.producerNode[e]!==n&&(gt.producerNode[e]=n,gt.producerIndexOfThis[e]=Mu(gt)?bE(n,gt,e):0),gt.producerLastReadVersion[e]=n.version}function ix(){ud++}function IE(n){if(!(Mu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ud)){if(!n.producerMustRecompute(n)&&!gg(n)){n.dirty=!1,n.lastCleanEpoch=ud;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ud}}function EE(n){if(n.liveConsumerNode===void 0)return;let e=ad;ad=!0;try{for(let t of n.liveConsumerNode)t.dirty||sx(t)}finally{ad=e}}function DE(){return gt?.consumerAllowSignalWrites!==!1}function sx(n){n.dirty=!0,EE(n),n.consumerMarkedDirty?.(n)}function ld(n){return n&&(n.nextProducerIndex=0),Fe(n)}function pg(n,e){if(Fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Mu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)dd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function gg(n){hd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(IE(t),r!==t.version))return!0}return!1}function mg(n){if(hd(n),Mu(n))for(let e=0;e<n.producerNode.length;e++)dd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function bE(n,e,t){if(CE(n),n.liveConsumerNode.length===0&&TE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=bE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function dd(n,e){if(CE(n),n.liveConsumerNode.length===1&&TE(n))for(let r=0;r<n.producerNode.length;r++)dd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hd(i),i.producerIndexOfThis[r]=e}}function Mu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function CE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function TE(n){return n.producerNode!==void 0}function SE(n){let e=Object.create(ox);e.computation=n;let t=()=>{if(IE(e),fg(e),e.value===cd)throw e.error;return e.value};return t[Pr]=e,t}var dg=Symbol("UNSET"),hg=Symbol("COMPUTING"),cd=Symbol("ERRORED"),ox=be($({},Ru),{value:dg,dirty:!0,error:null,equal:_E,producerMustRecompute(n){return n.value===dg||n.value===hg},producerRecomputeValue(n){if(n.value===hg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=hg;let t=ld(n),r;try{r=n.computation()}catch(i){r=cd,n.error=i}finally{pg(n,t)}if(e!==dg&&e!==cd&&r!==cd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function ax(){throw new Error}var AE=ax;function ME(){AE()}function RE(n){AE=n}var ux=null;function NE(n){let e=Object.create(PE);e.value=n;let t=()=>(fg(e),e.value);return t[Pr]=e,t}function yg(n,e){DE()||ME(),n.equal(n.value,e)||(n.value=e,cx(n))}function xE(n,e){DE()||ME(),yg(n,e(n.value))}var PE=be($({},Ru),{equal:_E,value:void 0});function cx(n){n.version++,ix(),EE(n),ux?.()}function he(n){return typeof n=="function"}function Co(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fd=Co(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function us(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var nt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(he(r))try{r()}catch(s){e=s instanceof fd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{OE(s)}catch(o){e=e??[],o instanceof fd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)OE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&us(t,e)}remove(e){let{_finalizers:t}=this;t&&us(t,e),e instanceof n&&e._removeParent(this)}};nt.EMPTY=(()=>{let n=new nt;return n.closed=!0,n})();var vg=nt.EMPTY;function pd(n){return n instanceof nt||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function OE(n){he(n)?n():n.unsubscribe()}var Nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var To={setTimeout(n,e,...t){let{delegate:r}=To;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=To;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gd(n){To.setTimeout(()=>{let{onUnhandledError:e}=Nn;if(e)e(n);else throw n})}function Nu(){}var kE=_g("C",void 0,void 0);function FE(n){return _g("E",void 0,n)}function VE(n){return _g("N",n,void 0)}function _g(n,e,t){return{kind:n,value:e,error:t}}var cs=null;function So(n){if(Nn.useDeprecatedSynchronousErrorHandling){let e=!cs;if(e&&(cs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=cs;if(cs=null,t)throw r}}else n()}function LE(n){Nn.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=n)}var ls=class extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pd(e)&&e.add(this)):this.destination=hx}static create(e,t,r){return new Ao(e,t,r)}next(e){this.isStopped?Ig(VE(e),this):this._next(e)}error(e){this.isStopped?Ig(FE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ig(kE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lx=Function.prototype.bind;function wg(n,e){return lx.call(n,e)}var Eg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){md(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){md(r)}else md(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){md(t)}}},Ao=class extends ls{constructor(e,t,r){super();let i;if(he(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Nn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wg(e.next,s),error:e.error&&wg(e.error,s),complete:e.complete&&wg(e.complete,s)}):i=e}this.destination=new Eg(i)}};function md(n){Nn.useDeprecatedSynchronousErrorHandling?LE(n):gd(n)}function dx(n){throw n}function Ig(n,e){let{onStoppedNotification:t}=Nn;t&&To.setTimeout(()=>t(n,e))}var hx={closed:!0,next:Nu,error:dx,complete:Nu};var Mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(n){return n}function Dg(...n){return bg(n)}function bg(n){return n.length===0?Xt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=px(t)?t:new Ao(t,r,i);return So(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=UE(r),new r((i,s)=>{let o=new Ao({next:c=>{try{t(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mo](){return this}pipe(...t){return bg(t)(this)}toPromise(t){return t=UE(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function UE(n){var e;return(e=n??Nn.Promise)!==null&&e!==void 0?e:Promise}function fx(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function px(n){return n&&n instanceof ls||fx(n)&&pd(n)}function Cg(n){return he(n?.lift)}function Oe(n){return e=>{if(Cg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Tg(n,e,t,r,i)}var Tg=class extends ls{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ro(){return Oe((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var No=class extends Pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return Ro()(this)}};var jE=Co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jE}next(t){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?vg:(this.currentObservers=null,s.push(t),new nt(()=>{this.currentObservers=null,us(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new yd(e,t),n})(),yd=class extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:vg}};var Tt=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sg={now(){return(Sg.delegate||Date).now()},delegate:void 0};var vd=class extends nt{constructor(e,t){super()}schedule(e,t=0){return this}};var xu={setInterval(n,e,...t){let{delegate:r}=xu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var xo=class extends vd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return xu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&xu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,us(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Po.now=Sg.now;var Oo=class extends Po{constructor(e,t=Po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ag=new Oo(xo);var _d=class extends xo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var wd=class extends Oo{};var Mg=new wd(_d);var en=new Pe(n=>n.complete());function BE(n){return n&&he(n.schedule)}function $E(n){return n[n.length-1]}function Id(n){return he($E(n))?n.pop():void 0}function mi(n){return BE($E(n))?n.pop():void 0}function Rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zE(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(y){try{h(r.next(y))}catch(_){o(_)}}function l(y){try{h(r.throw(y))}catch(_){o(_)}}function h(y){y.done?s(y.value):i(y.value).then(c,l)}h((r=r.apply(n,e||[])).next())})}function HE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ds(n){return this instanceof ds?(this.v=n,this):new ds(n)}function GE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(C){return function(A){return Promise.resolve(A).then(C,_)}}function c(C,A){r[C]&&(i[C]=function(V){return new Promise(function(F,H){s.push([C,V,F,H])>1||l(C,V)})},A&&(i[C]=A(i[C])))}function l(C,A){try{h(r[C](A))}catch(V){E(s[0][3],V)}}function h(C){C.value instanceof ds?Promise.resolve(C.value.v).then(y,_):E(s[0][2],C)}function y(C){l("next",C)}function _(C){l("throw",C)}function E(C,A){C(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}function qE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof HE=="function"?HE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,l){o=n[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(h){s({value:h,done:c})},o)}}var Ed=n=>n&&typeof n.length=="number"&&typeof n!="function";function Dd(n){return he(n?.then)}function bd(n){return he(n[Mo])}function Cd(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function Td(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sd=gx();function Ad(n){return he(n?.[Sd])}function Md(n){return GE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ds(t.read());if(i)return yield ds(void 0);yield yield ds(r)}}finally{t.releaseLock()}})}function Rd(n){return he(n?.getReader)}function ct(n){if(n instanceof Pe)return n;if(n!=null){if(bd(n))return mx(n);if(Ed(n))return yx(n);if(Dd(n))return vx(n);if(Cd(n))return WE(n);if(Ad(n))return _x(n);if(Rd(n))return wx(n)}throw Td(n)}function mx(n){return new Pe(e=>{let t=n[Mo]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yx(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function vx(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gd)})}function _x(n){return new Pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function WE(n){return new Pe(e=>{Ix(n,e).catch(t=>e.error(t))})}function wx(n){return WE(Md(n))}function Ix(n,e){var t,r,i,s;return zE(this,void 0,void 0,function*(){try{for(t=qE(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Yt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function yi(n,e=0){return Oe((t,r)=>{t.subscribe(Ce(r,i=>Yt(r,n,()=>r.next(i),e),()=>Yt(r,n,()=>r.complete(),e),i=>Yt(r,n,()=>r.error(i),e)))})}function vi(n,e=0){return Oe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YE(n,e){return ct(n).pipe(vi(e),yi(e))}function KE(n,e){return ct(n).pipe(vi(e),yi(e))}function QE(n,e){return new Pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZE(n,e){return new Pe(t=>{let r;return Yt(t,e,()=>{r=n[Sd](),Yt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}function Nd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{Yt(t,e,()=>{let r=n[Symbol.asyncIterator]();Yt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function JE(n,e){return Nd(Md(n),e)}function XE(n,e){if(n!=null){if(bd(n))return YE(n,e);if(Ed(n))return QE(n,e);if(Dd(n))return KE(n,e);if(Cd(n))return Nd(n,e);if(Ad(n))return ZE(n,e);if(Rd(n))return JE(n,e)}throw Td(n)}function at(n,e){return e?XE(n,e):ct(n)}function pe(...n){let e=mi(n);return at(n,e)}function ko(n,e){let t=he(n)?n:()=>n,r=i=>i.error(t());return new Pe(e?i=>e.schedule(r,0,i):r)}function Ng(n){return!!n&&(n instanceof Pe||he(n.lift)&&he(n.subscribe))}var Or=Co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(n,e){return Oe((t,r)=>{let i=0;t.subscribe(Ce(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Ex}=Array;function Dx(n,e){return Ex(e)?n(...e):n(e)}function xd(n){return Ee(e=>Dx(n,e))}var{isArray:bx}=Array,{getPrototypeOf:Cx,prototype:Tx,keys:Sx}=Object;function Pd(n){if(n.length===1){let e=n[0];if(bx(e))return{args:e,keys:null};if(Ax(e)){let t=Sx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ax(n){return n&&typeof n=="object"&&Cx(n)===Tx}function Od(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function kd(...n){let e=mi(n),t=Id(n),{args:r,keys:i}=Pd(n);if(r.length===0)return at([],e);let s=new Pe(Mx(r,e,i?o=>Od(i,o):Xt));return t?s.pipe(xd(t)):s}function Mx(n,e,t=Xt){return r=>{eD(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)eD(e,()=>{let h=at(n[l],e),y=!1;h.subscribe(Ce(r,_=>{s[l]=_,y||(y=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function eD(n,e,t){n?Yt(t,n,e):e()}function tD(n,e,t,r,i,s,o,c){let l=[],h=0,y=0,_=!1,E=()=>{_&&!l.length&&!h&&e.complete()},C=V=>h<r?A(V):l.push(V),A=V=>{s&&e.next(V),h++;let F=!1;ct(t(V,y++)).subscribe(Ce(e,H=>{i?.(H),s?C(H):e.next(H)},()=>{F=!0},void 0,()=>{if(F)try{for(h--;l.length&&h<r;){let H=l.shift();o?Yt(e,o,()=>A(H)):A(H)}E()}catch(H){e.error(H)}}))};return n.subscribe(Ce(e,C,()=>{_=!0,E()})),()=>{c?.()}}function mt(n,e,t=1/0){return he(e)?mt((r,i)=>Ee((s,o)=>e(r,s,i,o))(ct(n(r,i))),t):(typeof e=="number"&&(t=e),Oe((r,i)=>tD(r,i,n,t)))}function xg(n=1/0){return mt(Xt,n)}function nD(){return xg(1)}function Fo(...n){return nD()(at(n,mi(n)))}function Fd(n){return new Pe(e=>{ct(n()).subscribe(e)})}function Pg(...n){let e=Id(n),{args:t,keys:r}=Pd(n),i=new Pe(s=>{let{length:o}=t;if(!o){s.complete();return}let c=new Array(o),l=o,h=o;for(let y=0;y<o;y++){let _=!1;ct(t[y]).subscribe(Ce(s,E=>{_||(_=!0,h--),c[y]=E},()=>l--,void 0,()=>{(!l||!_)&&(h||s.next(r?Od(r,c):c),s.complete())}))}});return e?i.pipe(xd(e)):i}function xn(n,e){return Oe((t,r)=>{let i=0;t.subscribe(Ce(r,s=>n.call(e,s,i++)&&r.next(s)))})}function _i(n){return Oe((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ce(t,void 0,void 0,o=>{s=ct(n(o,_i(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function rD(n,e,t,r,i){return(s,o)=>{let c=t,l=e,h=0;s.subscribe(Ce(o,y=>{let _=h++;l=c?n(l,y,_):(c=!0,y),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function Vo(n,e){return he(e)?mt(n,e,1):mt(n,1)}function wi(n){return Oe((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function kr(n){return n<=0?()=>en:Oe((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Og(n){return Ee(()=>n)}function Vd(n=Rx){return Oe((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rx(){return new Or}function Pu(n){return Oe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xn((i,s)=>n(i,s,r)):Xt,kr(1),t?wi(e):Vd(()=>new Or))}function Lo(n){return n<=0?()=>en:Oe((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xn((i,s)=>n(i,s,r)):Xt,Lo(1),t?wi(e):Vd(()=>new Or))}function Fg(n,e){return Oe(rD(n,e,arguments.length>=2,!0))}function Vg(...n){let e=mi(n);return Oe((t,r)=>{(e?Fo(n,t,e):Fo(n,t)).subscribe(r)})}function Pn(n,e){return Oe((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(Ce(r,l=>{i?.unsubscribe();let h=0,y=s++;ct(n(l,y)).subscribe(i=Ce(r,_=>r.next(e?e(l,_,y,h++):_),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Lg(n){return Oe((e,t)=>{ct(n).subscribe(Ce(t,()=>t.complete(),Nu)),!t.closed&&e.subscribe(t)})}function yt(n,e,t){let r=he(n)||e||t?{next:n,error:e,complete:t}:n;return r?Oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Ce(s,l=>{var h;(h=r.next)===null||h===void 0||h.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,l),s.error(l)},()=>{var l,h;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Xt}var Nx="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,t){super(jm(e,t)),this.code=e}};function jm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function zu(n){return{toString:n}.toString()}var Ld="__parameters__";function xx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function HD(n,e,t){return zu(()=>{let r=xx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,h,y){let _=l.hasOwnProperty(Ld)?l[Ld]:Object.defineProperty(l,Ld,{value:[]})[Ld];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function Px(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function iD(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Ox=Ke({__forward_ref__:Ke});function ir(n){return n.__forward_ref__=ir,n.toString=function(){return jt(this())},n}function Ut(n){return zD(n)?n():n}function zD(n){return typeof n=="function"&&n.hasOwnProperty(Ox)&&n.__forward_ref__===ir}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ws(n){return{providers:n.providers||[],imports:n.imports||[]}}function mh(n){return sD(n,qD)||sD(n,WD)}function GD(n){return mh(n)!==null}function sD(n,e){return n.hasOwnProperty(e)?n[e]:null}function kx(n){let e=n&&(n[qD]||n[WD]);return e||null}function oD(n){return n&&(n.hasOwnProperty(aD)||n.hasOwnProperty(Fx))?n[aD]:null}var qD=Ke({\u0275prov:Ke}),aD=Ke({\u0275inj:Ke}),WD=Ke({ngInjectableDef:Ke}),Fx=Ke({ngInjectorDef:Ke}),te=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YD(n){return n&&!!n.\u0275providers}var Vx=Ke({\u0275cmp:Ke}),Lx=Ke({\u0275dir:Ke}),Ux=Ke({\u0275pipe:Ke}),jx=Ke({\u0275mod:Ke}),Wd=Ke({\u0275fac:Ke}),Fu=Ke({__NG_ELEMENT_ID__:Ke}),uD=Ke({__NG_ENV_ID__:Ke});function Bm(n){return typeof n=="string"?n:n==null?"":String(n)}function Bx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Bm(n)}function $x(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ee(-200,n)}function $m(n,e){throw new ee(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),Jg;function KD(){return Jg}function pn(n){let e=Jg;return Jg=n,e}function QD(n,e,t){let r=mh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;$m(n,"Injector")}var Hx={},Vu=Hx,Xg="__NG_DI_FLAG__",Yd="ngTempTokenPath",zx="ngTokenPath",Gx=/\n/gm,qx="\u0275",cD="__source",$o;function Wx(){return $o}function Ii(n){let e=$o;return $o=n,e}function Yx(n,e=we.Default){if($o===void 0)throw new ee(-203,!1);return $o===null?QD(n,void 0,e):$o.get(n,e&we.Optional?null:void 0,e)}function De(n,e=we.Default){return(KD()||Yx)(Ut(n),e)}function W(n,e=we.Default){return De(n,yh(e))}function yh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function em(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=we.Default;for(let o=0;o<r.length;o++){let c=r[o],l=Kx(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(De(i,s))}else e.push(De(r))}return e}function ZD(n,e){return n[Xg]=e,n.prototype[Xg]=e,n}function Kx(n){return n[Xg]}function Qx(n,e,t,r){let i=n[Yd];throw e[cD]&&i.unshift(e[cD]),n.message=Zx(`
`+n.message,i,t,r),n[zx]=i,n[Yd]=null,n}function Zx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==qx?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):jt(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Gx,`
  `)}`}var $t=ZD(HD("Optional"),8);var JD=ZD(HD("SkipSelf"),4);function zo(n,e){let t=n.hasOwnProperty(Wd);return t?n[Wd]:null}function Hm(n,e){n.forEach(t=>Array.isArray(t)?Hm(t,e):e(t))}function XD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Kd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function Xx(n,e,t){let r=Gu(n,e);return r>=0?n[r|1]=t:(r=~r,Jx(n,r,e,t)),r}function Ug(n,e){let t=Gu(n,e);if(t>=0)return n[t|1]}function Gu(n,e){return eP(n,e,1)}function eP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Go={},gn=[],qo=new te(""),e0=new te("",-1),t0=new te(""),Qd=class{get(e,t=Vu){if(t===Vu){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}},n0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(n0||{}),er=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(er||{}),bi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(bi||{});function tP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function tm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];rP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function nP(n){return n===3||n===4||n===6}function rP(n){return n.charCodeAt(0)===64}function Lu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?lD(n,t,i,null,e[++r]):lD(n,t,i,null,null))}}return n}function lD(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var r0="ng-template";function iP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(zm(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function zm(n){return n.type===4&&n.value!==r0}function sP(n,e,t){let r=n.type===4&&!t?r0:n.value;return e===r}function oP(n,e,t){let r=4,i=n.attrs,s=i!==null?cP(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!On(r)&&!On(l))return!1;if(o&&On(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!sP(n,l,t)||l===""&&e.length===1){if(On(r))return!1;o=!0}}else if(r&8){if(i===null||!iP(n,i,l,t)){if(On(r))return!1;o=!0}}else{let h=e[++c],y=aP(l,i,zm(n),t);if(y===-1){if(On(r))return!1;o=!0;continue}if(h!==""){let _;if(y>s?_="":_=i[y+1].toLowerCase(),r&2&&h!==_){if(On(r))return!1;o=!0}}}}return On(r)||o}function On(n){return(n&1)===0}function aP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return lP(e,n)}function uP(n,e,t=!1){for(let r=0;r<e.length;r++)if(oP(n,e[r],t))return!0;return!1}function cP(n){for(let e=0;e<n.length;e++){let t=n[e];if(nP(t))return e}return n.length}function lP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dD(n,e){return n?":not("+e.trim()+")":e}function dP(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!On(o)&&(e+=dD(s,i),i=""),r=o,s=s||!On(r);t++}return i!==""&&(e+=dD(s,i)),e}function hP(n){return n.map(dP).join(",")}function fP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!On(i))break;i=s}r++}return{attrs:e,classes:t}}function ra(n){return zu(()=>{let e=u0(n),t=be($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===n0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||er.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});c0(t);let r=n.dependencies;return t.directiveDefs=fD(r,!1),t.pipeDefs=fD(r,!0),t.id=mP(t),t})}function pP(n){return fs(n)||i0(n)}function gP(n){return n!==null}function Is(n){return zu(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hD(n,e){if(n==null)return Go;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=bi.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==bi.None?[r,c]:r,e[s]=o):t[s]=r}return t}function ut(n){return zu(()=>{let e=u0(n);return c0(e),e})}function fs(n){return n[Vx]||null}function i0(n){return n[Lx]||null}function s0(n){return n[Ux]||null}function o0(n){let e=fs(n)||i0(n)||s0(n);return e!==null?e.standalone:!1}function a0(n,e){let t=n[jx]||null;if(!t&&e===!0)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function u0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Go,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hD(n.inputs,e),outputs:hD(n.outputs),debugInfo:null}}function c0(n){n.features?.forEach(e=>e(n))}function fD(n,e){if(!n)return null;let t=e?s0:pP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(gP)}function mP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sr(n){return{\u0275providers:n}}function yP(...n){return{\u0275providers:l0(!0,n),\u0275fromNgModule:!0}}function l0(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Hm(e,o=>{let c=o;nm(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&d0(i,s),t}function d0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Gm(i,s=>{e(s,r)})}}function nm(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,s=oD(n),o=!s&&fs(n);if(!s&&!o){let l=n.ngModule;if(s=oD(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let h of l)nm(h,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let h;try{Hm(s.imports,y=>{nm(y,e,t,r)&&(h||=[],h.push(y))})}finally{}h!==void 0&&d0(h,e)}if(!c){let h=zo(i)||(()=>new i);e({provide:i,useFactory:h,deps:gn},i),e({provide:t0,useValue:i,multi:!0},i),e({provide:qo,useValue:()=>De(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let h=n;Gm(l,y=>{e(y,h)})}}else return!1;return i!==n&&n.providers!==void 0}function Gm(n,e){for(let t of n)YD(t)&&(t=t.\u0275providers),Array.isArray(t)?Gm(t,e):e(t)}var vP=Ke({provide:String,useValue:Ke});function h0(n){return n!==null&&typeof n=="object"&&vP in n}function _P(n){return!!(n&&n.useExisting)}function wP(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}function IP(n){return!!n.useClass}var vh=new te(""),$d={},EP={},jg;function qm(){return jg===void 0&&(jg=new Qd),jg}var vn=class{},Uu=class extends vn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(e,o=>this.processProvider(o)),this.records.set(e0,Uo(void 0,this)),i.has("environment")&&this.records.set(vn,Uo(void 0,this));let s=this.records.get(vh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(t0,gn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ii(this),r=pn(void 0),i;try{return e()}finally{Ii(t),pn(r)}}get(e,t=Vu,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uD))return e[uD](this);r=yh(r);let i,s=Ii(this),o=pn(void 0);try{if(!(r&we.SkipSelf)){let l=this.records.get(e);if(l===void 0){let h=SP(e)&&mh(e);h&&this.injectableDefInScope(h)?l=Uo(rm(e),$d):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&we.Self?qm():this.parent;return t=r&we.Optional&&t===Vu?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Yd]=c[Yd]||[]).unshift(jt(e)),s)throw c;return Qx(c,e,"R3InjectorError",this.source)}else throw c}finally{pn(o),Ii(s)}}resolveInjectorInitializers(){let e=Fe(null),t=Ii(this),r=pn(void 0),i;try{let s=this.get(qo,gn,we.Self);for(let o of s)o()}finally{Ii(t),pn(r),Fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=Ut(e);let t=Wo(e)?e:Ut(e&&e.provide),r=bP(e);if(!Wo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Uo(void 0,$d,!0),i.factory=()=>em(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Fe(null);try{return t.value===$d&&(t.value=EP,t.value=t.factory()),typeof t.value=="object"&&t.value&&TP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rm(n){let e=mh(n),t=e!==null?e.factory:zo(n);if(t!==null)return t;if(n instanceof te)throw new ee(204,!1);if(n instanceof Function)return DP(n);throw new ee(204,!1)}function DP(n){if(n.length>0)throw new ee(204,!1);let t=kx(n);return t!==null?()=>t.factory(n):()=>new n}function bP(n){if(h0(n))return Uo(void 0,n.useValue);{let e=f0(n);return Uo(e,$d)}}function f0(n,e,t){let r;if(Wo(n)){let i=Ut(n);return zo(i)||rm(i)}else if(h0(n))r=()=>Ut(n.useValue);else if(wP(n))r=()=>n.useFactory(...em(n.deps||[]));else if(_P(n))r=()=>De(Ut(n.useExisting));else{let i=Ut(n&&(n.useClass||n.provide));if(CP(n))r=()=>new i(...em(n.deps));else return zo(i)||rm(i)}return r}function Uo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CP(n){return!!n.deps}function TP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function SP(n){return typeof n=="function"||typeof n=="object"&&n instanceof te}function im(n,e){for(let t of n)Array.isArray(t)?im(t,e):t&&YD(t)?im(t.\u0275providers,e):e(t)}function jr(n,e){n instanceof Uu&&n.assertNotDestroyed();let t,r=Ii(n),i=pn(void 0);try{return e()}finally{Ii(r),pn(i)}}function AP(){return KD()!==void 0||Wx()!=null}function MP(n){return typeof n=="function"}var Br=0,Te=1,ce=2,Bt=3,kn=4,Vn=5,Zd=6,Jd=7,Fn=8,Yo=9,Fr=10,dt=11,ju=12,pD=13,ia=14,tr=15,Ko=16,jo=17,Qo=18,_h=19,p0=20,Ei=21,Bg=22,mn=23,nr=25,g0=1;var ps=7,Xd=8,eh=9,yn=10,th=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(th||{});function Di(n){return Array.isArray(n)&&typeof n[g0]=="object"}function $r(n){return Array.isArray(n)&&n[g0]===!0}function Wm(n){return(n.flags&4)!==0}function wh(n){return n.componentOffset>-1}function Ih(n){return(n.flags&1)===1}function Ci(n){return!!n.template}function sm(n){return(n[ce]&512)!==0}var om=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function m0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Es(){return y0}function y0(n){return n.type.prototype.ngOnChanges&&(n.setInput=NP),RP}Es.ngInherit=!0;function RP(){let n=_0(this),e=n?.current;if(e){let t=n.previous;if(t===Go)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function NP(n,e,t,r,i){let s=this.declaredInputs[r],o=_0(n)||xP(n,{previous:Go,current:null}),c=o.current||(o.current={}),l=o.previous,h=l[s];c[s]=new om(h&&h.currentValue,t,l===Go),m0(n,e,i,t)}var v0="__ngSimpleChanges__";function _0(n){return n[v0]||null}function xP(n,e){return n[v0]=e}var gD=null;var Jn=function(n,e,t){gD?.(n,e,t)},PP="svg",OP="math";function rr(n){for(;Array.isArray(n);)n=n[Br];return n}function w0(n,e){return rr(e[n])}function _n(n,e){return rr(e[n.index])}function I0(n,e){return n.data[e]}function kP(n,e){return n[e]}function Ai(n,e){let t=e[n];return Di(t)?t:t[Br]}function Ym(n){return(n[ce]&128)===128}function FP(n){return $r(n[Bt])}function Zo(n,e){return e==null?null:n[e]}function E0(n){n[jo]=0}function D0(n){n[ce]&1024||(n[ce]|=1024,Ym(n)&&Dh(n))}function VP(n,e){for(;n>0;)e=e[ia],n--;return e}function Eh(n){return!!(n[ce]&9216||n[mn]?.dirty)}function am(n){n[Fr].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),Eh(n)&&Dh(n)}function Dh(n){n[Fr].changeDetectionScheduler?.notify(0);let e=gs(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!Ym(e)));)e=gs(e)}function b0(n,e){if((n[ce]&256)===256)throw new ee(911,!1);n[Ei]===null&&(n[Ei]=[]),n[Ei].push(e)}function LP(n,e){if(n[Ei]===null)return;let t=n[Ei].indexOf(e);t!==-1&&n[Ei].splice(t,1)}function gs(n){let e=n[Bt];return $r(e)?e[Bt]:e}var Ie={lFrame:P0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var C0=!1;function UP(){return Ie.lFrame.elementDepthCount}function jP(){Ie.lFrame.elementDepthCount++}function BP(){Ie.lFrame.elementDepthCount--}function T0(){return Ie.bindingsEnabled}function $P(){return Ie.skipHydrationRootTNode!==null}function HP(n){return Ie.skipHydrationRootTNode===n}function zP(){Ie.skipHydrationRootTNode=null}function Je(){return Ie.lFrame.lView}function Ht(){return Ie.lFrame.tView}function Ln(n){return Ie.lFrame.contextLView=n,n[Fn]}function Un(n){return Ie.lFrame.contextLView=null,n}function zt(){let n=S0();for(;n!==null&&n.type===64;)n=n.parent;return n}function S0(){return Ie.lFrame.currentTNode}function GP(){let n=Ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ds(n,e){let t=Ie.lFrame;t.currentTNode=n,t.isParent=e}function Km(){return Ie.lFrame.isParent}function A0(){Ie.lFrame.isParent=!1}function qP(){return Ie.lFrame.contextLView}function M0(){return C0}function mD(n){C0=n}function WP(){let n=Ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function YP(n){return Ie.lFrame.bindingIndex=n}function bh(){return Ie.lFrame.bindingIndex++}function KP(n){let e=Ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QP(){return Ie.lFrame.inI18n}function ZP(n,e){let t=Ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,um(e)}function JP(){return Ie.lFrame.currentDirectiveIndex}function um(n){Ie.lFrame.currentDirectiveIndex=n}function XP(n){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function R0(n){Ie.lFrame.currentQueryIndex=n}function eO(n){let e=n[Te];return e.type===2?e.declTNode:e.type===1?n[Vn]:null}function N0(n,e,t){if(t&we.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=eO(s),i===null||(s=s[ia],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ie.lFrame=x0();return r.currentTNode=e,r.lView=n,!0}function Qm(n){let e=x0(),t=n[Te];Ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function x0(){let n=Ie.lFrame,e=n===null?null:n.child;return e===null?P0(n):e}function P0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function O0(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var k0=O0;function Zm(){let n=O0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tO(n){return(Ie.lFrame.contextLView=VP(n,Ie.lFrame.contextLView))[Fn]}function sa(){return Ie.lFrame.selectedIndex}function ms(n){Ie.lFrame.selectedIndex=n}function Jm(){let n=Ie.lFrame;return I0(n.tView,n.selectedIndex)}function nO(){return Ie.lFrame.currentNamespace}var F0=!0;function Ch(){return F0}function Th(n){F0=n}function rO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=y0(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Sh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:y}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),l&&(n.viewHooks??=[]).push(-t,l),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),y!=null&&(n.destroyHooks??=[]).push(t,y)}}function Hd(n,e,t){V0(n,e,3,t)}function zd(n,e,t,r){(n[ce]&3)===t&&V0(n,e,t,r)}function $g(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function V0(n,e,t,r){let i=r!==void 0?n[jo]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(n[jo]+=65536),(c<s||s==-1)&&(iO(n,t,e,l),n[jo]=(n[jo]&4294901760)+l+2),l++}function yD(n,e){Jn(4,n,e);let t=Fe(null);try{e.call(n)}finally{Fe(t),Jn(5,n,e)}}function iO(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[ce]>>14<n[jo]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,yD(c,s)):yD(c,s)}var Ho=-1,ys=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function sO(n){return n instanceof ys}function oO(n){return(n.flags&8)!==0}function aO(n){return(n.flags&16)!==0}var Hg={},cm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yh(r);let i=this.injector.get(e,Hg,r);return i!==Hg||t===Hg?i:this.parentInjector.get(e,t,r)}};function L0(n){return n!==Ho}function nh(n){return n&32767}function uO(n){return n>>16}function rh(n,e){let t=uO(n),r=e;for(;t>0;)r=r[ia],t--;return r}var lm=!0;function vD(n){let e=lm;return lm=n,e}var cO=256,U0=cO-1,j0=5,lO=0,Xn={};function dO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fu)&&(r=t[Fu]),r==null&&(r=t[Fu]=lO++);let i=r&U0,s=1<<i;e.data[n+(i>>j0)]|=s}function ih(n,e){let t=B0(n,e);if(t!==-1)return t;let r=e[Te];r.firstCreatePass&&(n.injectorIndex=e.length,zg(r.data,n),zg(e,null),zg(r.blueprint,null));let i=Xm(n,e),s=n.injectorIndex;if(L0(i)){let o=nh(i),c=rh(i,e),l=c[Te].data;for(let h=0;h<8;h++)e[s+h]=c[o+h]|l[o+h]}return e[s+8]=i,s}function zg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function B0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Xm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=q0(i),r===null)return Ho;if(t++,i=i[ia],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ho}function dm(n,e,t){dO(n,e,t)}function $0(n,e,t){if(t&we.Optional||n!==void 0)return n;$m(e,"NodeInjector")}function H0(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),!(t&(we.Self|we.Host))){let i=n[Yo],s=pn(void 0);try{return i?i.get(e,r,t&we.Optional):QD(e,r,t&we.Optional)}finally{pn(s)}}return $0(r,e,t)}function z0(n,e,t,r=we.Default,i){if(n!==null){if(e[ce]&2048&&!(r&we.Self)){let o=mO(n,e,t,r,Xn);if(o!==Xn)return o}let s=G0(n,e,t,r,Xn);if(s!==Xn)return s}return H0(e,t,r,i)}function G0(n,e,t,r,i){let s=pO(t);if(typeof s=="function"){if(!N0(e,n,r))return r&we.Host?$0(i,t,r):H0(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&we.Optional))$m(t);else return o}finally{k0()}}else if(typeof s=="number"){let o=null,c=B0(n,e),l=Ho,h=r&we.Host?e[tr][Vn]:null;for((c===-1||r&we.SkipSelf)&&(l=c===-1?Xm(n,e):e[c+8],l===Ho||!wD(r,!1)?c=-1:(o=e[Te],c=nh(l),e=rh(l,e)));c!==-1;){let y=e[Te];if(_D(s,c,y.data)){let _=hO(c,e,t,o,r,h);if(_!==Xn)return _}l=e[c+8],l!==Ho&&wD(r,e[Te].data[c+8]===h)&&_D(s,c,e)?(o=y,c=nh(l),e=rh(l,e)):c=-1}}return i}function hO(n,e,t,r,i,s){let o=e[Te],c=o.data[n+8],l=r==null?wh(c)&&lm:r!=o&&(c.type&3)!==0,h=i&we.Host&&s===c,y=fO(c,o,t,l,h);return y!==null?Jo(e,o,y,c):Xn}function fO(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,l=n.directiveStart,h=n.directiveEnd,y=s>>20,_=r?c:c+y,E=i?c+y:h;for(let C=_;C<E;C++){let A=o[C];if(C<l&&t===A||C>=l&&A.type===t)return C}if(i){let C=o[l];if(C&&Ci(C)&&C.type===t)return l}return null}function Jo(n,e,t,r){let i=n[t],s=e.data;if(sO(i)){let o=i;o.resolving&&$x(Bx(s[t]));let c=vD(o.canSeeViewProviders);o.resolving=!0;let l,h=o.injectImpl?pn(o.injectImpl):null,y=N0(n,r,we.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&rO(t,s[t],e)}finally{h!==null&&pn(h),vD(c),o.resolving=!1,k0()}}return i}function pO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fu)?n[Fu]:void 0;return typeof e=="number"?e>=0?e&U0:gO:e}function _D(n,e,t){let r=1<<n;return!!(t[e+(n>>j0)]&r)}function wD(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var hs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return z0(this._tNode,this._lView,e,yh(r),t)}};function gO(){return new hs(zt(),Je())}function Hr(n){return zu(()=>{let e=n.prototype.constructor,t=e[Wd]||hm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Wd]||hm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hm(n){return zD(n)?()=>{let e=hm(Ut(n));return e&&e()}:zo(n)}function mO(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ce]&2048&&!(o[ce]&512);){let c=G0(s,o,t,r|we.Self,Xn);if(c!==Xn)return c;let l=s.parent;if(!l){let h=o[p0];if(h){let y=h.get(t,Xn,r);if(y!==Xn)return y}l=q0(o),o=o[ia]}s=l}return i}function q0(n){let e=n[Te],t=e.type;return t===2?e.declTNode:t===1?n[Vn]:null}function ID(n,e=null,t=null,r){let i=W0(n,e,t,r);return i.resolveInjectorInitializers(),i}function W0(n,e=null,t=null,r,i=new Set){let s=[t||gn,yP(n)];return r=r||(typeof n=="object"?void 0:jt(n)),new Uu(s,e||qm(),r||null,i)}var Kt=class n{static{this.THROW_IF_NOT_FOUND=Vu}static{this.NULL=new Qd}static create(e,t){if(Array.isArray(e))return ID({name:""},t,e,"");{let r=e.name??"";return ID({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=oe({token:n,providedIn:"any",factory:()=>De(e0)})}static{this.__NG_ELEMENT_ID__=-1}};var yO=new te("");yO.__NG_ELEMENT_ID__=n=>{let e=zt();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new ee(204,!1)};var vO="ngOriginalError";function Gg(n){return n[vO]}var Y0=!0,K0=(()=>{class n{static{this.__NG_ELEMENT_ID__=_O}static{this.__NG_ENV_ID__=t=>t}}return n})(),fm=class extends K0{constructor(e){super(),this._lView=e}onDestroy(e){return b0(this._lView,e),()=>LP(this._lView,e)}};function _O(){return new fm(Je())}var oa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})();var pm=class extends Ct{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,AP()&&(this.destroyRef=W(K0,{optional:!0})??void 0,this.pendingTasks=W(oa,{optional:!0})??void 0)}emit(e){let t=Fe(null);try{super.next(e)}finally{Fe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof nt&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},lt=pm;function sh(...n){}function Q0(n){let e,t;function r(){n=sh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ED(n){return queueMicrotask(()=>n()),()=>{n=sh}}var ey="isAngularZone",oh=ey+"_ID",wO=0,qe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Y0}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,DO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ey)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,IO,sh,sh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},IO={};function ty(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function EO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Q0(()=>{n.callbackScheduled=!1,gm(n),n.isCheckStableRunning=!0,ty(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),gm(n)}function DO(n){let e=()=>{EO(n)},t=wO++;n._inner=n._inner.fork({name:"angular",properties:{[ey]:!0,[oh]:t,[oh+t]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(bO(l))return r.invokeTask(s,o,c,l);try{return DD(n),r.invokeTask(s,o,c,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),bD(n)}},onInvoke:(r,i,s,o,c,l,h)=>{try{return DD(n),r.invoke(s,o,c,l,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!CO(l)&&e(),bD(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,gm(n),ty(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function gm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bD(n){n._nesting--,ty(n)}var mm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function bO(n){return Z0(n,"__ignore_ng_zone__")}function CO(n){return Z0(n,"__scheduler_tick__")}function Z0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Vr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Gg(e);for(;t&&Gg(t);)t=Gg(t);return t||null}},TO=new te("",{providedIn:"root",factory:()=>{let n=W(qe),e=W(Vr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function SO(){return Ah(zt(),Je())}function Ah(n,e){return new zr(_n(n,e))}var zr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=SO}}return n})();function J0(n){return(n.flags&128)===128}var X0=new Map,AO=0;function MO(){return AO++}function RO(n){X0.set(n[_h],n)}function ym(n){X0.delete(n[_h])}var CD="__ngContext__";function Ti(n,e){Di(e)?(n[CD]=e[_h],RO(e)):n[CD]=e}function eb(n){return nb(n[ju])}function tb(n){return nb(n[kn])}function nb(n){for(;n!==null&&!$r(n);)n=n[kn];return n}var vm;function rb(n){vm=n}function NO(){if(vm!==void 0)return vm;if(typeof document<"u")return document;throw new ee(210,!1)}var ny=new te("",{providedIn:"root",factory:()=>xO}),xO="ng",ry=new te(""),Mi=new te("",{providedIn:"platform",factory:()=>"unknown"});var iy=new te("",{providedIn:"root",factory:()=>NO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PO="h",OO="b";var kO=()=>null;function sy(n,e,t=!1){return kO(n,e,t)}var ib=!1,FO=new te("",{providedIn:"root",factory:()=>ib});var _m=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nx})`}};function oy(n){return n instanceof _m?n.changingThisBreaksApplicationSecurity:n}var VO=/^>|^->|<!--|-->|--!>|<!-$/g,LO=/(<|>)/g,UO="\u200B$1\u200B";function jO(n){return n.replace(VO,e=>e.replace(LO,UO))}function sb(n){return n instanceof Function?n():n}var Lr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Lr||{}),BO;function ay(n,e){return BO(n,e)}function Bo(n,e,t,r,i){if(r!=null){let s,o=!1;$r(r)?s=r:Di(r)&&(o=!0,r=r[Br]);let c=rr(r);n===0&&t!==null?i==null?lb(e,t,c):ah(e,t,c,i||null,!0):n===1&&t!==null?ah(e,t,c,i||null,!0):n===2?rk(e,c,o):n===3&&e.destroyNode(c),s!=null&&sk(e,n,s,t,i)}}function $O(n,e){return n.createText(e)}function HO(n,e,t){n.setValue(e,t)}function zO(n,e){return n.createComment(jO(e))}function ob(n,e,t){return n.createElement(e,t)}function GO(n,e){ab(n,e),e[Br]=null,e[Vn]=null}function qO(n,e,t,r,i,s){r[Br]=i,r[Vn]=e,Rh(n,r,t,1,i,s)}function ab(n,e){e[Fr].changeDetectionScheduler?.notify(9),Rh(n,e,e[dt],2,null,null)}function WO(n){let e=n[ju];if(!e)return qg(n[Te],n);for(;e;){let t=null;if(Di(e))t=e[ju];else{let r=e[yn];r&&(t=r)}if(!t){for(;e&&!e[kn]&&e!==n;)Di(e)&&qg(e[Te],e),e=e[Bt];e===null&&(e=n),Di(e)&&qg(e[Te],e),t=e&&e[kn]}e=t}}function YO(n,e,t,r){let i=yn+r,s=t.length;r>0&&(t[i-1][kn]=e),r<s-yn?(e[kn]=t[i],XD(t,yn+r,e)):(t.push(e),e[kn]=null),e[Bt]=t;let o=e[Ko];o!==null&&t!==o&&ub(o,e);let c=e[Qo];c!==null&&c.insertView(n),am(e),e[ce]|=128}function ub(n,e){let t=n[eh],r=e[Bt];if(Di(r))n[ce]|=th.HasTransplantedViews;else{let i=r[Bt][tr];e[tr]!==i&&(n[ce]|=th.HasTransplantedViews)}t===null?n[eh]=[e]:t.push(e)}function uy(n,e){let t=n[eh],r=t.indexOf(e);t.splice(r,1)}function wm(n,e){if(n.length<=yn)return;let t=yn+e,r=n[t];if(r){let i=r[Ko];i!==null&&i!==n&&uy(i,r),e>0&&(n[t-1][kn]=r[kn]);let s=Kd(n,yn+e);GO(r[Te],r);let o=s[Qo];o!==null&&o.detachView(s[Te]),r[Bt]=null,r[kn]=null,r[ce]&=-129}return r}function cb(n,e){if(!(e[ce]&256)){let t=e[dt];t.destroyNode&&Rh(n,e,t,3,null,null),WO(e)}}function qg(n,e){if(e[ce]&256)return;let t=Fe(null);try{e[ce]&=-129,e[ce]|=256,e[mn]&&mg(e[mn]),QO(n,e),KO(n,e),e[Te].type===1&&e[dt].destroy();let r=e[Ko];if(r!==null&&$r(e[Bt])){r!==e[Bt]&&uy(r,e);let i=e[Qo];i!==null&&i.detachView(n)}ym(e)}finally{Fe(t)}}function KO(n,e){let t=n.cleanup,r=e[Jd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Jd]=null);let i=e[Ei];if(i!==null){e[Ei]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function QO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ys)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];Jn(4,c,l);try{l.call(c)}finally{Jn(5,c,l)}}else{Jn(4,i,s);try{s.call(i)}finally{Jn(5,i,s)}}}}}function ZO(n,e,t){return JO(n,e.parent,t)}function JO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===er.None||s===er.Emulated)return null}return _n(r,t)}}function ah(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lb(n,e,t){n.appendChild(e,t)}function TD(n,e,t,r,i){r!==null?ah(n,e,t,r,i):lb(n,e,t)}function db(n,e){return n.parentNode(e)}function XO(n,e){return n.nextSibling(e)}function ek(n,e,t){return nk(n,e,t)}function tk(n,e,t){return n.type&40?_n(n,t):null}var nk=tk,SD;function Mh(n,e,t,r){let i=ZO(n,r,e),s=e[dt],o=r.parent||e[Vn],c=ek(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)TD(s,i,t[l],c,!1);else TD(s,i,t,c,!1);SD!==void 0&&SD(s,r,e,t,i)}function Ou(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return Im(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ou(n,r);{let i=n[e.index];return $r(i)?Im(-1,i):rr(i)}}else{if(t&128)return Ou(n,e.next);if(t&32)return ay(e,n)()||rr(n[e.index]);{let r=hb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gs(n[tr]);return Ou(i,r)}else return Ou(n,e.next)}}}return null}function hb(n,e){if(e!==null){let r=n[tr][Vn],i=e.projection;return r.projection[i]}return null}function Im(n,e){let t=yn+n+1;if(t<e.length){let r=e[t],i=r[Te].firstChild;if(i!==null)return Ou(r,i)}return e[ps]}function rk(n,e,t){n.removeChild(null,e,t)}function cy(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(o&&e===0&&(c&&Ti(rr(c),r),t.flags|=2),(t.flags&32)!==32)if(l&8)cy(n,e,t.child,r,i,s,!1),Bo(e,n,i,c,s);else if(l&32){let h=ay(t,r),y;for(;y=h();)Bo(e,n,i,y,s);Bo(e,n,i,c,s)}else l&16?ik(n,e,r,t,i,s):Bo(e,n,i,c,s);t=o?t.projectionNext:t.next}}function Rh(n,e,t,r,i,s){cy(t,r,n.firstChild,e,i,s,!1)}function ik(n,e,t,r,i,s){let o=t[tr],l=o[Vn].projection[r.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++){let y=l[h];Bo(e,n,i,y,s)}else{let h=l,y=o[Bt];J0(r)&&(h.flags|=128),cy(n,e,h,y,i,s,!0)}}function sk(n,e,t,r,i){let s=t[ps],o=rr(t);s!==o&&Bo(e,n,r,s,i);for(let c=yn;c<t.length;c++){let l=t[c];Rh(l[Te],l,n,e,r,s)}}function ok(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Lr.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Lr.Important),n.setStyle(t,r,i,s))}}function ak(n,e,t){n.setAttribute(e,"style",t)}function fb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function pb(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&tm(n,e,r),i!==null&&fb(n,e,i),s!==null&&ak(n,e,s)}var bs={};function Be(n=1){gb(Ht(),Je(),sa()+n,!1)}function gb(n,e,t,r){if(!r)if((e[ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Hd(e,s,t)}else{let s=n.preOrderHooks;s!==null&&zd(e,s,0,t)}ms(t)}function Ne(n,e=we.Default){let t=Je();if(t===null)return De(n,e);let r=zt();return z0(r,t,Ut(n),e)}function mb(n,e,t,r,i,s){let o=Fe(null);try{let c=null;i&bi.SignalBased&&(c=e[r][Pr]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&bi.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):m0(e,c,r,s)}finally{Fe(o)}}function uk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ms(~i);else{let s=i,o=t[++r],c=t[++r];ZP(o,s);let l=e[s];c(2,l)}}}finally{ms(-1)}}function Nh(n,e,t,r,i,s,o,c,l,h,y){let _=e.blueprint.slice();return _[Br]=i,_[ce]=r|4|128|8|64,(h!==null||n&&n[ce]&2048)&&(_[ce]|=2048),E0(_),_[Bt]=_[ia]=n,_[Fn]=t,_[Fr]=o||n&&n[Fr],_[dt]=c||n&&n[dt],_[Yo]=l||n&&n[Yo]||null,_[Vn]=s,_[_h]=MO(),_[Zd]=y,_[p0]=h,_[tr]=e.type==2?n[tr]:_,_}function qu(n,e,t,r,i){let s=n.data[e];if(s===null)s=ck(n,e,t,r,i),QP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=GP();s.injectorIndex=o===null?-1:o.injectorIndex}return Ds(s,!0),s}function ck(n,e,t,r,i){let s=S0(),o=Km(),c=o?s:s&&s.parent,l=n.data[e]=pk(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function yb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vb(n,e,t,r,i){let s=sa(),o=r&2;try{ms(-1),o&&e.length>nr&&gb(n,e,nr,!1),Jn(o?2:0,i),t(r,i)}finally{ms(s),Jn(o?3:1,i)}}function ly(n,e,t){if(Wm(e)){let r=Fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let l=t[o];c.contentQueries(1,l,o)}}}finally{Fe(r)}}}function dy(n,e,t){T0()&&(wk(n,e,t,_n(t,e)),(t.flags&64)===64&&Eb(n,e,t))}function hy(n,e,t=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function _b(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=fy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fy(n,e,t,r,i,s,o,c,l,h,y){let _=nr+r,E=_+i,C=lk(_,E),A=typeof h=="function"?h():h;return C[Te]={type:n,blueprint:C,template:t,queries:null,viewQuery:c,declTNode:e,data:C.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:y}}function lk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:bs);return t}function dk(n,e,t,r){let s=r.get(FO,ib)||t===er.ShadowDom,o=n.selectRootElement(e,s);return hk(o),o}function hk(n){fk(n)}var fk=()=>null;function pk(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return $P()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function AD(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,l=bi.None;Array.isArray(o)?(c=o[0],l=o[1]):c=o;let h=s;if(i!==null){if(!i.hasOwnProperty(s))continue;h=i[s]}n===0?MD(r,t,h,c,l):MD(r,t,h,c)}return r}function MD(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function gk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],l=null,h=null;for(let y=r;y<i;y++){let _=s[y],E=t?t.get(_):null,C=E?E.inputs:null,A=E?E.outputs:null;l=AD(0,_.inputs,y,l,C),h=AD(1,_.outputs,y,h,A);let V=l!==null&&o!==null&&!zm(e)?Nk(l,y,o):null;c.push(V)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=h}function mk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wb(n,e,t,r,i,s,o,c){let l=_n(e,t),h=e.inputs,y;!c&&h!=null&&(y=h[r])?(gy(n,t,y,r,i),wh(e)&&yk(t,e.index)):e.type&3?(r=mk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function yk(n,e){let t=Ai(e,n);t[ce]&16||(t[ce]|=64)}function py(n,e,t,r){if(T0()){let i=r===null?null:{"":-1},s=Ek(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Ib(n,e,t,o,i,c),i&&Dk(t,r,i)}t.mergedAttrs=Lu(t.mergedAttrs,t.attrs)}function Ib(n,e,t,r,i,s){for(let h=0;h<r.length;h++)dm(ih(t,e),n,r[h].type);Ck(t,n.data.length,r.length);for(let h=0;h<r.length;h++){let y=r[h];y.providersResolver&&y.providersResolver(y)}let o=!1,c=!1,l=yb(n,e,r.length,null);for(let h=0;h<r.length;h++){let y=r[h];t.mergedAttrs=Lu(t.mergedAttrs,y.hostAttrs),Tk(n,t,e,l,y),bk(l,y,i),y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let _=y.type.prototype;!o&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),l++}gk(n,t,s)}function vk(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;_k(o)!=c&&o.push(c),o.push(t,r,s)}}function _k(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function wk(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;wh(t)&&Sk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ih(t,e),Ti(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let l=n.data[c],h=Jo(e,n,c,t);if(Ti(h,e),o!==null&&Rk(e,c-i,h,l,t,o),Ci(l)){let y=Ai(t.index,e);y[Fn]=Jo(e,n,c,t)}}}function Eb(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=JP();try{ms(s);for(let c=r;c<i;c++){let l=n.data[c],h=e[c];um(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Ik(l,h)}}finally{ms(-1),um(o)}}function Ik(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ek(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(uP(e,o.selectors,!1))if(r||(r=[]),Ci(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let l=c.length;Em(n,e,l)}else r.unshift(o),Em(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Em(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Dk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}}function bk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ci(e)&&(t[""]=n)}}function Ck(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Tk(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=zo(i.type,!0)),o=new ys(s,Ci(i),Ne);n.blueprint[r]=o,t[r]=o,vk(n,e,r,yb(n,t,i.hostVars,bs),i)}function Sk(n,e,t){let r=_n(e,n),i=_b(t),s=n[Fr].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=xh(n,Nh(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function Ak(n,e,t,r,i,s){let o=_n(n,e);Mk(e[dt],o,s,n.value,t,r,i)}function Mk(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?Bm(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function Rk(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let l=o[c++],h=o[c++],y=o[c++],_=o[c++];mb(r,t,l,h,y,_)}}function Nk(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function Db(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function bb(n,e){let t=n.contentQueries;if(t!==null){let r=Fe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];R0(s),c.contentQueries(2,e[o],o)}}}finally{Fe(r)}}}function xh(n,e){return n[ju]?n[pD][kn]=e:n[ju]=e,n[pD]=e,e}function Dm(n,e,t){R0(0);let r=Fe(null);try{e(n,t)}finally{Fe(r)}}function xk(n){return n[Jd]??=[]}function Pk(n){return n.cleanup??=[]}function Cb(n,e){let t=n[Yo],r=t?t.get(Vr,null):null;r&&r.handleError(e)}function gy(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],l=t[s++],h=e[o],y=n.data[o];mb(y,h,r,c,l,i)}}function Ok(n,e,t){let r=w0(e,n);HO(n[dt],r,t)}function kk(n,e){let t=Ai(e,n),r=t[Te];Fk(r,t);let i=t[Br];i!==null&&t[Zd]===null&&(t[Zd]=sy(i,t[Yo])),my(r,t,t[Fn])}function Fk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function my(n,e,t){Qm(e);try{let r=n.viewQuery;r!==null&&Dm(1,r,t);let i=n.template;i!==null&&vb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qo]?.finishViewCreation(n),n.staticContentQueries&&bb(n,e),n.staticViewQueries&&Dm(2,n.viewQuery,t);let s=n.components;s!==null&&Vk(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,Zm()}}function Vk(n,e){for(let t=0;t<e.length;t++)kk(n,e[t])}function Lk(n,e,t,r){let i=Fe(null);try{let s=e.tView,c=n[ce]&4096?4096:16,l=Nh(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=n[e.index];l[Ko]=h;let y=n[Qo];return y!==null&&(l[Qo]=y.createEmbeddedView(s)),my(s,l,t),l}finally{Fe(i)}}function RD(n,e){return!e||e.firstChild===null||J0(n)}function Uk(n,e,t,r=!0){let i=e[Te];if(YO(i,e,n,t),r){let o=Im(t,n),c=e[dt],l=db(c,n[ps]);l!==null&&qO(i,n[Vn],c,e,l,o)}let s=e[Zd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(rr(s)),$r(s)&&jk(s,r);let o=t.type;if(o&8)uh(n,e,t.child,r);else if(o&32){let c=ay(t,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=hb(e,t);if(Array.isArray(c))r.push(...c);else{let l=gs(e[tr]);uh(l[Te],l,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function jk(n,e){for(let t=yn;t<n.length;t++){let r=n[t],i=r[Te].firstChild;i!==null&&uh(r[Te],r,i,e)}n[ps]!==n[Br]&&e.push(n[ps])}var Tb=[];function Bk(n){return n[mn]??$k(n)}function $k(n){let e=Tb.pop()??Object.create(zk);return e.lView=n,e}function Hk(n){n.lView[mn]!==n&&(n.lView=null,Tb.push(n))}var zk=be($({},Ru),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Dh(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function Gk(n){let e=n[mn]??Object.create(qk);return e.lView=n,e}var qk=be($({},Ru),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=gs(n.lView);for(;e&&!Sb(e[Te]);)e=gs(e);e&&D0(e)},consumerOnSignalRead(){this.lView[mn]=this}});function Sb(n){return n.type!==2}var Wk=100;function Ab(n,e=!0,t=0){let r=n[Fr],i=r.rendererFactory,s=!1;s||i.begin?.();try{Yk(n,t)}catch(o){throw e&&Cb(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Yk(n,e){let t=M0();try{mD(!0),bm(n,e);let r=0;for(;Eh(n);){if(r===Wk)throw new ee(103,!1);r++,bm(n,1)}}finally{mD(t)}}function Kk(n,e,t,r){let i=e[ce];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Fr].inlineEffectRunner?.flush(),Qm(e);let c=!0,l=null,h=null;s||(Sb(n)?(h=Bk(e),l=ld(h)):wE()===null?(c=!1,h=Gk(e),l=ld(h)):e[mn]&&(mg(e[mn]),e[mn]=null));try{E0(e),YP(n.bindingStartIndex),t!==null&&vb(n,e,t,2,r);let y=(i&3)===3;if(!s)if(y){let C=n.preOrderCheckHooks;C!==null&&Hd(e,C,null)}else{let C=n.preOrderHooks;C!==null&&zd(e,C,0,null),$g(e,0)}if(o||Qk(e),Mb(e,0),n.contentQueries!==null&&bb(n,e),!s)if(y){let C=n.contentCheckHooks;C!==null&&Hd(e,C)}else{let C=n.contentHooks;C!==null&&zd(e,C,1),$g(e,1)}uk(n,e);let _=n.components;_!==null&&Nb(e,_,0);let E=n.viewQuery;if(E!==null&&Dm(2,E,r),!s)if(y){let C=n.viewCheckHooks;C!==null&&Hd(e,C)}else{let C=n.viewHooks;C!==null&&zd(e,C,2),$g(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bg]){for(let C of e[Bg])C();e[Bg]=null}s||(e[ce]&=-73)}catch(y){throw s||Dh(e),y}finally{h!==null&&(pg(h,l),c&&Hk(h)),Zm()}}function Mb(n,e){for(let t=eb(n);t!==null;t=tb(t))for(let r=yn;r<t.length;r++){let i=t[r];Rb(i,e)}}function Qk(n){for(let e=eb(n);e!==null;e=tb(e)){if(!(e[ce]&th.HasTransplantedViews))continue;let t=e[eh];for(let r=0;r<t.length;r++){let i=t[r];D0(i)}}}function Zk(n,e,t){let r=Ai(e,n);Rb(r,t)}function Rb(n,e){Ym(n)&&bm(n,e)}function bm(n,e){let r=n[Te],i=n[ce],s=n[mn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&gg(s)),o||=!1,s&&(s.dirty=!1),n[ce]&=-9217,o)Kk(r,n,r.template,n[Fn]);else if(i&8192){Mb(n,1);let c=r.components;c!==null&&Nb(n,c,1)}}function Nb(n,e,t){for(let r=0;r<e.length;r++)Zk(n,e[r],t)}function yy(n,e){let t=M0()?64:1088;for(n[Fr].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=gs(n);if(sm(n)&&!r)return n;n=r}return null}var vs=class{get rootNodes(){let e=this._lView,t=e[Te];return uh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(e){this._lView[Fn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if($r(e)){let t=e[Xd],r=t?t.indexOf(this):-1;r>-1&&(wm(e,r),Kd(t,r))}this._attachedToViewContainer=!1}cb(this._lView[Te],this._lView)}onDestroy(e){b0(this._lView,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){am(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,Ab(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sm(this._lView),t=this._lView[Ko];t!==null&&!e&&uy(t,this._lView),ab(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=sm(this._lView),r=this._lView[Ko];r!==null&&!t&&ub(r,this._lView),am(this._lView)}},Ph=(()=>{class n{static{this.__NG_ELEMENT_ID__=e1}}return n})(),Jk=Ph,Xk=class extends Jk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Lk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new vs(i)}};function e1(){return t1(zt(),Je())}function t1(n,e){return n.type&4?new Xk(e,n,Ah(n,e)):null}var m9=new RegExp(`^(\\d+)*(${OO}|${PO})*(.*)`);var n1=()=>null;function ND(n,e){return n1(n,e)}var Xo=class{},Oh=new te("",{providedIn:"root",factory:()=>!1});var xb=new te(""),Pb=new te(""),Cm=class{},ch=class{};function r1(n){let e=Error(`No component factory found for ${jt(n)}.`);return e[i1]=n,e}var i1="ngComponent";var Tm=class{resolveComponentFactory(e){throw r1(e)}},ea=class{static{this.NULL=new Tm}},ta=class{},Ri=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>s1()}}return n})();function s1(){let n=Je(),e=zt(),t=Ai(e.index,n);return(Di(t)?t:n)[dt]}var o1=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null})}}return n})();function lh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=iD(i,c);else if(s==2){let l=c,h=e[++o];r=iD(r,l+": "+h+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var dh=class extends ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fs(e);return new Bu(t,this.ngModule)}};function xD(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:bi.None;e?t.push({propName:o,templateName:r,isSignal:(c&bi.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function a1(n){let e=n.toLowerCase();return e==="svg"?PP:e==="math"?OP:null}var Bu=class extends ch{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=xD(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return xD(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Fe(null);try{i=i||this.ngModule;let o=i instanceof vn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new cm(e,o):e,l=c.get(ta,null);if(l===null)throw new ee(407,!1);let h=c.get(o1,null),y=c.get(Xo,null),_={rendererFactory:l,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:y},E=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",A=r?dk(E,r,this.componentDef.encapsulation,c):ob(E,C,a1(C)),V=512;this.componentDef.signals?V|=4096:this.componentDef.onPush||(V|=16);let F=null;A!==null&&(F=sy(A,c,!0));let H=fy(0,null,null,1,0,null,null,null,null,null,null),J=Nh(null,H,null,V,null,null,_,E,c,null,F);Qm(J);let X,me,Ge=null;try{let Z=this.componentDef,R,I=null;Z.findHostDirectiveDefs?(R=[],I=new Map,Z.findHostDirectiveDefs(Z,R,I),R.push(Z)):R=[Z];let D=u1(J,A);Ge=c1(D,A,Z,R,J,_,E),me=I0(H,nr),A&&h1(E,Z,A,r),t!==void 0&&f1(me,this.ngContentSelectors,t),X=d1(Ge,Z,R,I,J,[p1]),my(H,J,null)}catch(Z){throw Ge!==null&&ym(Ge),ym(J),Z}finally{Zm()}return new Sm(this.componentType,X,Ah(me,J),J,me)}finally{Fe(s)}}},Sm=class extends Cm{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;gy(s[Te],s,i,e,t),this.previousInputValues.set(e,t);let o=Ai(this._tNode.index,s);yy(o,1)}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function u1(n,e){let t=n[Te],r=nr;return n[r]=e,qu(t,r,2,"#host",null)}function c1(n,e,t,r,i,s,o){let c=i[Te];l1(r,n,e,o);let l=null;e!==null&&(l=sy(e,i[Yo]));let h=s.rendererFactory.createRenderer(e,t),y=16;t.signals?y=4096:t.onPush&&(y=64);let _=Nh(i,_b(t),null,y,i[n.index],n,s,h,null,null,l);return c.firstCreatePass&&Em(c,n,r.length-1),xh(i,_),i[n.index]=_}function l1(n,e,t,r){for(let i of n)e.mergedAttrs=Lu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(lh(e,e.mergedAttrs,!0),t!==null&&pb(r,t,e))}function d1(n,e,t,r,i,s){let o=zt(),c=i[Te],l=_n(o,i);Ib(c,i,o,t,null,r);for(let y=0;y<t.length;y++){let _=o.directiveStart+y,E=Jo(i,c,_,o);Ti(E,i)}Eb(c,i,o),l&&Ti(l,i);let h=Jo(i,c,o.directiveStart+o.componentOffset,o);if(n[Fn]=i[Fn]=h,s!==null)for(let y of s)y(h,e);return ly(c,o,i),h}function h1(n,e,t,r){if(r)tm(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=fP(e.selectors[0]);i&&tm(n,t,i),s&&s.length>0&&fb(n,t,s.join(" "))}}function f1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function p1(){let n=zt();Sh(Je()[Te],n)}var aa=(()=>{class n{static{this.__NG_ELEMENT_ID__=g1}}return n})();function g1(){let n=zt();return y1(n,Je())}var m1=aa,Ob=class extends m1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xm(this._hostTNode,this._hostLView);if(L0(e)){let t=rh(e,this._hostLView),r=nh(e),i=t[Te].data[r+8];return new hs(i,t)}else return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=PD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ND(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,RD(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!MP(e),c;if(o)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let l=o?e:new Bu(fs(e)),h=r||this.parentInjector;if(!s&&l.ngModule==null){let V=(o?h:this.parentInjector).get(vn,null);V&&(s=V)}let y=fs(l.componentType??{}),_=ND(this._lContainer,y?.id??null),E=_?.firstChild??null,C=l.create(h,i,E,s);return this.insertImpl(C.hostView,c,RD(this._hostTNode,_)),C}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(FP(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[Bt],h=new Ob(l,l[Vn],l[Bt]);h.detach(h.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Uk(o,i,s,r),e.attachToViewContainerRef(),XD(Wg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=PD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=wm(this._lContainer,t);r&&(Kd(Wg(this._lContainer),t),cb(r[Te],r))}detach(e){let t=this._adjustIndex(e,-1),r=wm(this._lContainer,t);return r&&Kd(Wg(this._lContainer),t)!=null?new vs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function PD(n){return n[Xd]}function Wg(n){return n[Xd]||(n[Xd]=[])}function y1(n,e){let t,r=e[n.index];return $r(r)?t=r:(t=Db(r,e,null,n),e[n.index]=t,xh(e,t)),_1(t,e,n,r),new Ob(t,n,e)}function v1(n,e){let t=n[dt],r=t.createComment(""),i=_n(e,n),s=db(t,i);return ah(t,s,r,XO(t,i),!1),r}var _1=E1,w1=()=>!1;function I1(n,e,t){return w1(n,e,t)}function E1(n,e,t,r){if(n[ps])return;let i;t.type&8?i=rr(r):i=v1(e,t),n[ps]=i}var OD=new Set;function Wu(n){OD.has(n)||(OD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function D1(n){return typeof n=="function"&&n[Pr]!==void 0}function Yu(n,e){Wu("NgSignals");let t=NE(n),r=t[Pr];return e?.equal&&(r.equal=e.equal),t.set=i=>yg(r,i),t.update=i=>xE(r,i),t.asReadonly=b1.bind(t),t}function b1(){let n=this[Pr];if(n.readonlyFn===void 0){let e=()=>this();e[Pr]=n,n.readonlyFn=e}return n.readonlyFn}function kb(n){return D1(n)&&typeof n.set=="function"}function C1(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=C1(n.type),t=!0,r=[n];for(;e;){let i;if(Ci(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Ud(n.inputs),o.inputTransforms=Ud(n.inputTransforms),o.declaredInputs=Ud(n.declaredInputs),o.outputs=Ud(n.outputs);let c=i.hostBindings;c&&R1(n,c);let l=i.viewQuery,h=i.contentQueries;if(l&&A1(n,l),h&&M1(n,h),T1(n,i),Px(n.outputs,i.outputs),Ci(i)&&i.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(n),c===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}S1(r)}function T1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function S1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lu(i.hostAttrs,t=Lu(t,i.hostAttrs))}}function Ud(n){return n===Go?{}:n===gn?[]:n}function A1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function M1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function R1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Si=class{},$u=class{};var Am=class extends Si{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dh(this);let s=a0(e);this._bootstrapComponents=sb(s.bootstrap),this._r3Injector=W0(e,t,[{provide:Si,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mm=class extends $u{constructor(e){super(),this.moduleType=e}create(e){return new Am(this.moduleType,e,[])}};var hh=class extends Si{constructor(e){super(),this.componentFactoryResolver=new dh(this),this.instance=null;let t=new Uu([...e.providers,{provide:Si,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],e.parent||qm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vy(n,e,t=null){return new hh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Fb(n){return x1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function N1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function x1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function P1(n,e,t){return n[e]=t}function O1(n,e){return n[e]}function Ku(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function k1(n){return(n.flags&32)===32}function F1(n,e,t,r,i,s,o,c,l){let h=e.consts,y=qu(e,n,4,o||null,c||null);py(e,t,y,Zo(h,l)),Sh(e,y);let _=y.tView=fy(2,y,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,y),_.queries=e.queries.embeddedTView(y)),y}function V1(n,e,t,r,i,s,o,c,l,h){let y=t+nr,_=e.firstCreatePass?F1(y,e,n,r,i,s,o,c,l):e.data[y];Ds(_,!1);let E=L1(e,n,_,t);Ch()&&Mh(e,n,E,_),Ti(E,n);let C=Db(E,n,E,_);return n[y]=C,xh(n,C),I1(C,_,n),Ih(_)&&dy(e,n,_),l!=null&&hy(n,_,h),_}function In(n,e,t,r,i,s,o,c){let l=Je(),h=Ht(),y=Zo(h.consts,s);return V1(l,h,n,e,t,r,i,y,o,c),In}var L1=U1;function U1(n,e,t,r){return Th(!0),e[dt].createComment("")}var ku=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ku||{}),j1=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kD=class n{constructor(){this.ngZone=W(qe),this.scheduler=W(Xo),this.errorHandler=W(Vr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ku.EarlyRead,ku.Write,ku.MixedReadWrite,ku.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}};function kh(n,e,t,r){let i=Je(),s=bh();if(Ku(i,s,e)){let o=Ht(),c=Jm();Ak(c,i,n,e,t,r)}return kh}function B1(n,e,t,r){return Ku(n,bh(),t)?e+Bm(t)+r:bs}function jd(n,e){return n<<17|e<<2}function _s(n){return n>>17&32767}function $1(n){return(n&2)==2}function H1(n,e){return n&131071|e<<17}function Rm(n){return n|2}function na(n){return(n&131068)>>2}function Yg(n,e){return n&-131069|e<<2}function z1(n){return(n&1)===1}function Nm(n){return n|1}function G1(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=_s(o),l=na(o);n[r]=t;let h=!1,y;if(Array.isArray(t)){let _=t;y=_[1],(y===null||Gu(_,y)>0)&&(h=!0)}else y=t;if(i)if(l!==0){let E=_s(n[c+1]);n[r+1]=jd(E,c),E!==0&&(n[E+1]=Yg(n[E+1],r)),n[c+1]=H1(n[c+1],r)}else n[r+1]=jd(c,0),c!==0&&(n[c+1]=Yg(n[c+1],r)),c=r;else n[r+1]=jd(l,0),c===0?c=r:n[l+1]=Yg(n[l+1],r),l=r;h&&(n[r+1]=Rm(n[r+1])),FD(n,y,r,!0),FD(n,y,r,!1),q1(e,y,n,r,s),o=jd(c,l),s?e.classBindings=o:e.styleBindings=o}function q1(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Gu(s,e)>=0&&(t[r+1]=Nm(t[r+1]))}function FD(n,e,t,r){let i=n[t+1],s=e===null,o=r?_s(i):na(i),c=!1;for(;o!==0&&(c===!1||s);){let l=n[o],h=n[o+1];W1(l,e)&&(c=!0,n[o+1]=r?Nm(h):Rm(h)),o=r?_s(h):na(h)}c&&(n[t+1]=r?Rm(i):Nm(i))}function W1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Gu(n,e)>=0:!1}function We(n,e,t){let r=Je(),i=bh();if(Ku(r,i,e)){let s=Ht(),o=Jm();wb(s,o,r,n,e,r[dt],t,!1)}return We}function VD(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";gy(n,t,s[o],o,r)}function Fh(n,e){return Y1(n,e,null,!0),Fh}function Y1(n,e,t,r){let i=Je(),s=Ht(),o=KP(2);if(s.firstUpdatePass&&Q1(s,n,o,r),e!==bs&&Ku(i,o,e)){let c=s.data[sa()];tF(s,c,i,i[dt],n,i[o+1]=nF(e,t),r,o)}}function K1(n,e){return e>=n.expandoStartIndex}function Q1(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[sa()],o=K1(n,t);rF(s,r)&&e===null&&!o&&(e=!1),e=Z1(i,s,e,r),G1(i,s,e,t,o,r)}}function Z1(n,e,t,r){let i=XP(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Kg(null,n,e,t,r),t=Hu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Kg(i,n,e,t,r),s===null){let l=J1(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Kg(null,n,e,l[1],r),l=Hu(l,e.attrs,r),X1(n,e,r,l))}else s=eF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function J1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(na(r)!==0)return n[_s(r)]}function X1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[_s(i)]=r}function eF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Hu(r,o,t)}return Hu(r,e.attrs,t)}function Kg(n,e,t,r,i){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],r=Hu(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Hu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Xx(n,o,t?!0:e[++s]))}return n===void 0?null:n}function tF(n,e,t,r,i,s,o,c){if(!(e.type&3))return;let l=n.data,h=l[c+1],y=z1(h)?LD(l,e,t,i,na(h),o):void 0;if(!fh(y)){fh(s)||$1(h)&&(s=LD(l,null,t,i,c,o));let _=w0(sa(),t);ok(r,o,_,i,s)}}function LD(n,e,t,r,i,s){let o=e===null,c;for(;i>0;){let l=n[i],h=Array.isArray(l),y=h?l[1]:l,_=y===null,E=t[i+1];E===bs&&(E=_?gn:void 0);let C=_?Ug(E,r):y===r?E:void 0;if(h&&!fh(C)&&(C=Ug(l,r)),fh(C)&&(c=C,o))return c;let A=n[i+1];i=o?_s(A):na(A)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=Ug(l,r))}return c}function fh(n){return n!==void 0}function nF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jt(oy(n)))),n}function rF(n,e){return(n.flags&(e?8:16))!==0}function iF(n,e,t,r,i,s){let o=e.consts,c=Zo(o,i),l=qu(e,n,2,r,c);return py(e,t,l,Zo(o,s)),l.attrs!==null&&lh(l,l.attrs,!1),l.mergedAttrs!==null&&lh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function ne(n,e,t,r){let i=Je(),s=Ht(),o=nr+n,c=i[dt],l=s.firstCreatePass?iF(o,s,i,e,t,r):s.data[o],h=sF(s,i,l,c,e,n);i[o]=h;let y=Ih(l);return Ds(l,!0),pb(c,h,l),!k1(l)&&Ch()&&Mh(s,i,h,l),UP()===0&&Ti(h,i),jP(),y&&(dy(s,i,l),ly(s,l,i)),r!==null&&hy(i,l),ne}function se(){let n=zt();Km()?A0():(n=n.parent,Ds(n,!1));let e=n;HP(e)&&zP(),BP();let t=Ht();return t.firstCreatePass&&(Sh(t,n),Wm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&oO(e)&&VD(t,e,Je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aO(e)&&VD(t,e,Je(),e.stylesWithoutHost,!1),se}function ie(n,e,t,r){return ne(n,e,t,r),se(),ie}var sF=(n,e,t,r,i,s)=>(Th(!0),ob(r,i,nO()));function oF(n,e,t,r,i){let s=e.consts,o=Zo(s,r),c=qu(e,n,8,"ng-container",o);o!==null&&lh(c,o,!0);let l=Zo(s,i);return py(e,t,c,l),e.queries!==null&&e.queries.elementStart(e,c),c}function ua(n,e,t){let r=Je(),i=Ht(),s=n+nr,o=i.firstCreatePass?oF(s,i,r,e,t):i.data[s];Ds(o,!0);let c=aF(i,r,o,n);return r[s]=c,Ch()&&Mh(i,r,c,o),Ti(c,r),Ih(o)&&(dy(i,r,o),ly(i,o,r)),t!=null&&hy(r,o),ua}function ca(){let n=zt(),e=Ht();return Km()?A0():(n=n.parent,Ds(n,!1)),e.firstCreatePass&&(Sh(e,n),Wm(n)&&e.queries.elementEnd(n)),ca}var aF=(n,e,t,r)=>(Th(!0),zO(e[dt],""));function Qu(){return Je()}var ph="en-US";var uF=ph;function cF(n){typeof n=="string"&&(uF=n.toLowerCase().replace(/_/g,"-"))}var lF=(n,e,t)=>{};function Gt(n,e,t,r){let i=Je(),s=Ht(),o=zt();return Vb(s,i,i[dt],o,n,e,r),Gt}function dF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[Jd],l=i[s+2];return c.length>l?c[l]:null}typeof o=="string"&&(s+=2)}return null}function Vb(n,e,t,r,i,s,o){let c=Ih(r),h=n.firstCreatePass&&Pk(n),y=e[Fn],_=xk(e),E=!0;if(r.type&3||o){let V=_n(r,e),F=o?o(V):V,H=_.length,J=o?me=>o(rr(me[r.index])):r.index,X=null;if(!o&&c&&(X=dF(n,e,i,r.index)),X!==null){let me=X.__ngLastListenerFn__||X;me.__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,E=!1}else{s=jD(r,e,y,s),lF(V,i,s);let me=t.listen(F,i,s);_.push(s,me),h&&h.push(i,J,H,H+1)}}else s=jD(r,e,y,s);let C=r.outputs,A;if(E&&C!==null&&(A=C[i])){let V=A.length;if(V)for(let F=0;F<V;F+=2){let H=A[F],J=A[F+1],Ge=e[H][J].subscribe(s),Z=_.length;_.push(s,Ge),h&&h.push(i,r.index,Z,-(Z+1))}}}function UD(n,e,t,r){let i=Fe(null);try{return Jn(6,e,t),t(r)!==!1}catch(s){return Cb(n,s),!1}finally{Jn(7,e,t),Fe(i)}}function jD(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Ai(n.index,e):e;yy(o,5);let c=UD(e,t,r,s),l=i.__ngNextListenerFn__;for(;l;)c=UD(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function tn(n=1){return tO(n)}function _y(n){let e=qP();return kP(e,nr+n)}function G(n,e=""){let t=Je(),r=Ht(),i=n+nr,s=r.firstCreatePass?qu(r,i,1,e,null):r.data[i],o=hF(r,t,s,e,n);t[i]=o,Ch()&&Mh(r,t,o,s),Ds(s,!1)}var hF=(n,e,t,r,i)=>(Th(!0),$O(e[dt],r));function Zu(n){return Lb("",n,""),Zu}function Lb(n,e,t){let r=Je(),i=B1(r,n,e,t);return i!==bs&&Ok(r,sa(),i),Lb}function la(n,e,t){kb(e)&&(e=e());let r=Je(),i=bh();if(Ku(r,i,e)){let s=Ht(),o=Jm();wb(s,o,r,n,e,r[dt],t,!1)}return la}function Ju(n,e){let t=kb(n);return t&&n.set(e),t}function da(n,e){let t=Je(),r=Ht(),i=zt();return Vb(r,t,t[dt],i,n,e),da}function fF(n,e,t){let r=Ht();if(r.firstCreatePass){let i=Ci(n);xm(t,r.data,r.blueprint,i,!0),xm(e,r.data,r.blueprint,i,!1)}}function xm(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let s=0;s<n.length;s++)xm(n[s],e,t,r,i);else{let s=Ht(),o=Je(),c=zt(),l=Wo(n)?n:Ut(n.provide),h=f0(n),y=c.providerIndexes&1048575,_=c.directiveStart,E=c.providerIndexes>>20;if(Wo(n)||!n.multi){let C=new ys(h,i,Ne),A=Zg(l,e,i?y:y+E,_);A===-1?(dm(ih(c,o),s,l),Qg(s,n,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(C),o.push(C)):(t[A]=C,o[A]=C)}else{let C=Zg(l,e,y+E,_),A=Zg(l,e,y,y+E),V=C>=0&&t[C],F=A>=0&&t[A];if(i&&!F||!i&&!V){dm(ih(c,o),s,l);let H=mF(i?gF:pF,t.length,i,r,h);!i&&F&&(t[A].providerFactory=H),Qg(s,n,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(H),o.push(H)}else{let H=Ub(t[i?A:C],h,!i&&r);Qg(s,n,C>-1?C:A,H)}!i&&r&&F&&t[A].componentProviders++}}}function Qg(n,e,t,r){let i=Wo(e),s=IP(e);if(i||s){let l=(s?Ut(e.useClass):e).prototype.ngOnDestroy;if(l){let h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let y=h.indexOf(t);y===-1?h.push(t,[r,l]):h[y+1].push(r,l)}else h.push(t,l)}}}function Ub(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Zg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function pF(n,e,t,r){return Pm(this.multi,[])}function gF(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Jo(t,t[Te],this.providerFactory.index,r);s=c.slice(0,o),Pm(i,s);for(let l=o;l<c.length;l++)s.push(c[l])}else s=[],Pm(i,s);return s}function Pm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function mF(n,e,t,r,i){let s=new ys(n,t,Ne);return s.multi=[],s.index=e,s.componentProviders=0,Ub(s,i,r&&!t),s}function Ni(n,e=[]){return t=>{t.providersResolver=(r,i)=>fF(r,i?i(n):n,e)}}var yF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=l0(!1,t.type),i=r.length>0?vy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:n,providedIn:"environment",factory:()=>new n(De(vn))})}}return n})();function ha(n){Wu("NgStandalone"),n.getStandaloneInjector=e=>e.get(yF).getOrCreateStandaloneInjector(n)}function Vh(n,e,t){let r=WP()+n,i=Je();return i[r]===bs?P1(i,r,t?e.call(t):e()):O1(i,r)}var Ur=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},jb=new Ur("18.2.13");var Lh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Bb=new te("");function Cs(n){return!!n&&typeof n.then=="function"}function $b(n){return!!n&&typeof n.subscribe=="function"}var Hb=new te(""),zb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=W(Hb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Cs(s))t.push(s);else if($b(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wy=new te("");function vF(){RE(()=>{throw new ee(600,!1)})}function _F(n){return n.isBoundToModule}var wF=10;function IF(n,e,t){try{let r=t();return Cs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Ts=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(TO),this.afterRenderManager=W(j1),this.zonelessEnabled=W(Oh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ct,this.afterTick=new Ct,this.componentTypes=[],this.components=[],this.isStable=W(oa).hasPendingTasks.pipe(Ee(t=>!t)),this._injector=W(vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ch;if(!this._injector.get(zb).done){let E=!i&&o0(t),C=!1;throw new ee(405,C)}let o;i?o=t:o=this._injector.get(ea).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=_F(o)?void 0:this._injector.get(Si),l=r||o.selector,h=o.create(Kt.NULL,[],l,c),y=h.location.nativeElement,_=h.injector.get(Bb,null);return _?.registerApplication(y),h.onDestroy(()=>{this.detachView(h.hostView),Gd(this.components,h),_?.unregisterApplication(y)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ee(101,!1);let t=Fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Fe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ta,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<wF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)EF(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Eh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Gd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(wy,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function EF(n,e,t,r){if(!t&&!Eh(n))return;Ab(n,e,t&&!r?0:1)}var Om=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Iy=(()=>{class n{compileModuleSync(t){return new Mm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=a0(t),s=sb(i.declarations).reduce((o,c)=>{let l=fs(c);return l&&o.push(new Bu(l)),o},[]);return new Om(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var DF=(()=>{class n{constructor(){this.zone=W(qe),this.changeDetectionScheduler=W(Xo),this.applicationRef=W(Ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bF=new te("",{factory:()=>!1});function Gb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new qe(be($({},Wb()),{scheduleInRootZone:t})),[{provide:qe,useFactory:n},{provide:qo,multi:!0,useFactory:()=>{let r=W(DF,{optional:!0});return()=>r.initialize()}},{provide:qo,multi:!0,useFactory:()=>{let r=W(CF);return()=>{r.initialize()}}},e===!0?{provide:xb,useValue:!0}:[],{provide:Pb,useValue:t??Y0}]}function qb(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Gb({ngZoneFactory:()=>{let i=Wb(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Wu("NgZone_CoalesceEvent"),new qe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return sr([{provide:bF,useValue:!0},{provide:Oh,useValue:!1},r])}function Wb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var CF=(()=>{class n{constructor(){this.subscription=new nt,this.initialized=!1,this.zone=W(qe),this.pendingTasks=W(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var TF=(()=>{class n{constructor(){this.appRef=W(Ts),this.taskService=W(oa),this.ngZone=W(qe),this.zonelessEnabled=W(Oh),this.disableScheduling=W(xb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new nt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(oh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(Pb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ED:Q0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(oh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ED(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function SF(){return typeof $localize<"u"&&$localize.locale||ph}var Ey=new te("",{providedIn:"root",factory:()=>W(Ey,we.Optional|we.SkipSelf)||SF()});var km=new te("");function Bd(n){return!n.moduleRef}function AF(n){let e=Bd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(qe);return t.run(()=>{Bd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Vr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Bd(n)){let s=()=>e.destroy(),o=n.platformInjector.get(km);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(km);o.add(s),n.moduleRef.onDestroy(()=>{Gd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return IF(r,t,()=>{let s=e.get(zb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ey,ph);if(cF(o||ph),Bd(n)){let c=e.get(Ts);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return MF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function MF(n,e){let t=n.injector.get(Ts);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ee(-403,!1);e.push(n)}var qd=null;function RF(n=[],e){return Kt.create({name:e,providers:[{provide:vh,useValue:"platform"},{provide:km,useValue:new Set([()=>qd=null])},...n]})}function NF(n=[]){if(qd)return qd;let e=RF(n);return qd=e,vF(),xF(e),e}function xF(n){n.get(ry,null)?.forEach(t=>t())}var Ss=(()=>{class n{static{this.__NG_ELEMENT_ID__=PF}}return n})();function PF(n){return OF(zt(),Je(),(n&16)===16)}function OF(n,e,t){if(wh(n)&&!t){let r=Ai(n.index,e);return new vs(r,r)}else if(n.type&175){let r=e[tr];return new vs(r,e)}return null}var Fm=class{constructor(){}supports(e){return Fb(e)}create(e){return new Vm(e)}},kF=(n,e)=>e,Vm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<BD(r,i,s)?t:r,c=BD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let h=c-i,y=l-i;if(h!=y){for(let E=0;E<h;E++){let C=E<s.length?s[E]:s[E]=0,A=C+E;y<=A&&A<h&&(s[E]=C+1)}let _=o.previousIndex;s[_]=y-h}}c!==l&&e(o,c,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Fb(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,N1(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Lm(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new gh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Um=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},gh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Um,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function BD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function $D(){return new Dy([new Fm])}var Dy=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:$D})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$D()),deps:[[n,new JD,new $t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ee(901,!1)}}return n})();function Yb(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=NF(r),s=[Gb({}),{provide:Xo,useExisting:TF},...t||[]],o=new hh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return AF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Xu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ec(n,e){Wu("NgSignals");let t=SE(n);return e?.equal&&(t[Pr].equal=e.equal),t}function Gr(n){let e=Fe(null);try{return n()}finally{Fe(e)}}var Xb=null;function qr(){return Xb}function eC(n){Xb??=n}var Uh=class{};var En=new te(""),tC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(LF),providedIn:"platform"})}}return n})();var LF=(()=>{class n extends tC{constructor(){super(),this._doc=W(En),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(t){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function nC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Kb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ms(n){return n&&n[0]!=="?"?"?"+n:n}var Bh=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(rC),providedIn:"root"})}}return n})(),UF=new te(""),rC=(()=>{class n extends Bh{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??W(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ms(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ms(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ms(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(De(tC),De(UF,8))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tc=(()=>{class n{constructor(t){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=$F(Kb(Qb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ms(r))}normalize(t){return n.stripTrailingSlash(BF(this._basePath,Qb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ms}static{this.joinWithSlash=nC}static{this.stripTrailingSlash=Kb}static{this.\u0275fac=function(r){return new(r||n)(De(Bh))}}static{this.\u0275prov=oe({token:n,factory:()=>jF(),providedIn:"root"})}}return n})();function jF(){return new tc(De(Bh))}function BF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Qb(n){return n.replace(/\/index.html$/,"")}function $F(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function iC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var by=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new by(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Zb(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Zb(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ne(aa),Ne(Ph),Ne(Dy))}}static{this.\u0275dir=ut({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Zb(n,e){n.context.$implicit=e.item}var oC=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Cy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ne(aa),Ne(Ph))}}static{this.\u0275dir=ut({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Cy=class{constructor(){this.$implicit=null,this.ngIf=null}};function Jb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}var nc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Is({type:n})}static{this.\u0275inj=ws({})}}return n})(),aC="browser",HF="server";function Ty(n){return n===HF}var jh=class{};var My=class extends Uh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ry=class n extends My{static makeCurrent(){eC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=GF();return t==null?null:qF(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iC(document.cookie,e)}},rc=null;function GF(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}function qF(n){return new URL(n,document.baseURI).pathname}var WF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),Ny=new te(""),dC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(De(Ny),De(qe))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),$h=class{constructor(e){this._doc=e}},Sy="ng-app-id",hC=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ty(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Sy}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Sy),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Sy,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(De(En),De(ny),De(iy,8),De(Mi))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),Ay={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Py=/%COMP%/g,fC="%COMP%",YF=`_nghost-${fC}`,KF=`_ngcontent-${fC}`,QF=!0,ZF=new te("",{providedIn:"root",factory:()=>QF});function JF(n){return KF.replace(Py,n)}function XF(n){return YF.replace(Py,n)}function pC(n,e){return e.map(t=>t.replace(Py,n))}var uC=(()=>{class n{constructor(t,r,i,s,o,c,l,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ty(c),this.defaultRenderer=new ic(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=be($({},r),{encapsulation:er.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Hh?i.applyToHost(t):i instanceof sc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case er.Emulated:s=new Hh(l,h,r,this.appId,y,o,c,_);break;case er.ShadowDom:return new xy(l,h,t,r,o,c,this.nonce,_);default:s=new sc(l,h,r,y,o,c,_);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(De(dC),De(hC),De(ny),De(ZF),De(En),De(Mi),De(qe),De(iy))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),ic=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ay[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(cC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ay[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ay[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Lr.DashCase|Lr.Important)?e.style.setProperty(t,r,i&Lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=qr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function cC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xy=class extends ic{constructor(e,t,r,i,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=pC(i.id,i.styles);for(let y of h){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=y,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sc=class extends ic{constructor(e,t,r,i,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?pC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hh=class extends sc{constructor(e,t,r,i,s,o,c,l){let h=i+"-"+r.id;super(e,t,r,s,o,c,l,h),this.contentAttr=JF(h),this.hostAttr=XF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},eV=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(De(En))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),lC=["alt","control","meta","shift"],tV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rV=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),lC.forEach(h=>{let y=r.indexOf(h);y>-1&&(r.splice(y,1),o+=h+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=tV[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),lC.forEach(o=>{if(o!==i){let c=nV[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(De(En))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function gC(n,e){return Yb($({rootComponent:n},iV(e)))}function iV(n){return{appProviders:[...cV,...n?.providers??[]],platformProviders:uV}}function sV(){Ry.makeCurrent()}function oV(){return new Vr}function aV(){return rb(document),document}var uV=[{provide:Mi,useValue:aC},{provide:ry,useValue:sV,multi:!0},{provide:En,useFactory:aV,deps:[]}];var cV=[{provide:vh,useValue:"root"},{provide:Vr,useFactory:oV,deps:[]},{provide:Ny,useClass:eV,multi:!0,deps:[En,qe,Mi]},{provide:Ny,useClass:rV,multi:!0,deps:[En]},uC,hC,dC,{provide:ta,useExisting:uC},{provide:jh,useClass:WF,deps:[]},[]];var mC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(De(En))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var TC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Ne(Ri),Ne(zr))}}static{this.\u0275dir=ut({type:n})}}return n})(),Zh=(()=>{class n extends TC{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275dir=ut({type:n,features:[wn]})}}return n})(),hc=new te("");var dV={provide:hc,useExisting:ir(()=>Jh),multi:!0};function hV(){let n=qr()?qr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var fV=new te(""),Jh=(()=>{class n extends TC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Ne(Ri),Ne(zr),Ne(fV,8))}}static{this.\u0275dir=ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Gt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ni([dV]),wn]})}}return n})();function pV(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var ky=new te(""),SC=new te("");function gV(n){return pV(n.value)?{required:!0}:null}function yC(n){return null}function AC(n){return n!=null}function MC(n){return Cs(n)?at(n):n}function RC(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function NC(n,e){return e.map(t=>t(n))}function mV(n){return!n.validate}function xC(n){return n.map(e=>mV(e)?e:t=>e.validate(t))}function yV(n){if(!n)return null;let e=n.filter(AC);return e.length==0?null:function(t){return RC(NC(t,e))}}function Fy(n){return n!=null?yV(xC(n)):null}function vV(n){if(!n)return null;let e=n.filter(AC);return e.length==0?null:function(t){let r=NC(t,e).map(MC);return Pg(r).pipe(Ee(RC))}}function Vy(n){return n!=null?vV(xC(n)):null}function vC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _V(n){return n._rawValidators}function wV(n){return n._rawAsyncValidators}function Oy(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function _C(n,e){let t=Oy(e);return Oy(n).forEach(i=>{Gh(t,i)||t.push(i)}),t}function wC(n,e){return Oy(e).filter(t=>!Gh(n,t))}var qh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ga=class extends qh{get formDirective(){return null}get path(){return null}},dc=class extends qh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},O8=be($({},IV),{"[class.ng-submitted]":"isSubmitted"}),PC=(()=>{class n extends Wh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ne(dc,2))}}static{this.\u0275dir=ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wn]})}}return n})(),OC=(()=>{class n extends Wh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ne(ga,10))}}static{this.\u0275dir=ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[wn]})}}return n})();var oc="VALID",zh="INVALID",fa="PENDING",ac="DISABLED",ma=class{},Yh=class extends ma{constructor(e,t){super(),this.value=e,this.source=t}},cc=class extends ma{constructor(e,t){super(),this.pristine=e,this.source=t}},lc=class extends ma{constructor(e,t){super(),this.touched=e,this.source=t}},pa=class extends ma{constructor(e,t){super(),this.status=e,this.source=t}};function kC(n){return(Xh(n)?n.validators:n)||null}function EV(n){return Array.isArray(n)?Fy(n):n||null}function FC(n,e){return(Xh(e)?e.asyncValidators:n)||null}function DV(n){return Array.isArray(n)?Vy(n):n||null}function Xh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function bV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function CV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var Kh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ec(()=>this.statusReactive()),this.statusReactive=Yu(void 0),this._pristine=ec(()=>this.pristineReactive()),this.pristineReactive=Yu(!0),this._touched=ec(()=>this.touchedReactive()),this.touchedReactive=Yu(!1),this._events=new Ct,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gr(this.statusReactive)}set status(e){Gr(()=>this.statusReactive.set(e))}get valid(){return this.status===oc}get invalid(){return this.status===zh}get pending(){return this.status==fa}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get pristine(){return Gr(this.pristineReactive)}set pristine(e){Gr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Gr(this.touchedReactive)}set touched(e){Gr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_C(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_C(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wC(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new lc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new lc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAsPending(e={}){this.status=fa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(i=>{i.disable(be($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yh(this.value,r)),this._events.next(new pa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=oc,this._forEachChild(r=>{r.enable(be($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===fa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yh(this.value,t)),this._events.next(new pa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=fa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=MC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new pa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?zh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fa)?fa:this._anyControlsHaveStatus(zh)?zh:oc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new cc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new lc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=DV(this._rawAsyncValidators)}},Qh=class extends Kh{constructor(e,t,r){super(kC(t),FC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){CV(this,!0,e),Object.keys(e).forEach(r=>{bV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ly=new te("CallSetDisabledState",{providedIn:"root",factory:()=>Uy}),Uy="always";function TV(n,e){return[...e.path,n]}function VC(n,e,t=Uy){LC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),AV(n,e),RV(n,e),MV(n,e),SV(n,e)}function IC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function SV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function LC(n,e){let t=_V(n);e.validator!==null?n.setValidators(vC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wV(n);e.asyncValidator!==null?n.setAsyncValidators(vC(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();IC(e._rawValidators,i),IC(e._rawAsyncValidators,i)}function AV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&UC(n,e)})}function MV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&UC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function UC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function NV(n,e){n==null,LC(n,e)}function xV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function PV(n){return Object.getPrototypeOf(n.constructor)===Zh}function OV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Jh?t=s:PV(s)?r=s:i=s}),i||r||t||null}var FV={provide:ga,useExisting:ir(()=>jy)},uc=Promise.resolve(),jy=(()=>{class n extends ga{get submitted(){return Gr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ec(()=>this.submittedReactive()),this.submittedReactive=Yu(!1),this._directives=new Set,this.ngSubmit=new lt,this.form=new Qh({},Fy(t),Vy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),VC(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uc.then(()=>{let r=this._findContainer(t.path),i=new Qh({});NV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){uc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),OV(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Ne(ky,10),Ne(SC,10),Ne(Ly,8))}}static{this.\u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Gt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ni([FV]),wn]})}}return n})();function EC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function DC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var VV=class extends Kh{constructor(e=null,t,r){super(kC(t),FC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(DC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LV={provide:dc,useExisting:ir(()=>By)},bC=Promise.resolve(),By=(()=>{class n extends dc{constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new VV,this._registered=!1,this.name="",this.update=new lt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kV(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),xV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){VC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){bC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Xu(r);bC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?TV(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Ne(ga,9),Ne(ky,10),Ne(SC,10),Ne(hc,10),Ne(Ss,8),Ne(Ly,8))}}static{this.\u0275dir=ut({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ni([LV]),wn,Es]})}}return n})(),jC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),UV={provide:hc,useExisting:ir(()=>$y),multi:!0},$y=(()=>{class n extends Zh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275dir=ut({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Gt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ni([UV]),wn]})}}return n})();var jV={provide:hc,useExisting:ir(()=>ef),multi:!0};function BC(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function BV(n){return n.split(":")[0]}var ef=(()=>{class n extends Zh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=BC(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=BV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275dir=ut({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Gt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ni([jV]),wn]})}}return n})(),$C=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(BC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Ne(zr),Ne(Ri),Ne(ef,9))}}static{this.\u0275dir=ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),$V={provide:hc,useExisting:ir(()=>HC),multi:!0};function CC(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function HV(n){return n.split(":")[0]}var HC=(()=>{class n extends Zh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],h=this._getOptionValue(l.value);i.push(h)}}else{let o=r.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let h=this._getOptionValue(l.value);i.push(h)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=HV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275dir=ut({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Gt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ni([$V]),wn]})}}return n})(),zC=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(CC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(CC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Ne(zr),Ne(Ri),Ne(HC,9))}}static{this.\u0275dir=ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var zV=(()=>{class n{constructor(){this._validator=yC}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ut({type:n,features:[Es]})}}return n})();var GV={provide:ky,useExisting:ir(()=>Hy),multi:!0};var Hy=(()=>{class n extends zV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xu,this.createValidator=t=>gV}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275dir=ut({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&kh("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ni([GV]),wn]})}}return n})();var qV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Is({type:n})}static{this.\u0275inj=ws({})}}return n})();var GC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ly,useValue:t.callSetDisabledState??Uy}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Is({type:n})}static{this.\u0275inj=ws({imports:[qV]})}}return n})();var WC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},YV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,y=s>>2,_=(s&3)<<4|c>>4,E=(c&15)<<2|h>>6,C=h&63;l||(C=64,o||(E=64)),r.push(t[y],t[_],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||_==null)throw new Gy;let E=s<<2|c>>4;if(r.push(E),h!==64){let C=c<<4&240|h>>2;if(r.push(C),_!==64){let A=h<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KV=function(n){let e=WC(n);return YC.encodeByteArray(e,!0)},fc=function(n){return KV(n).replace(/\./g,"")},Wy=function(n){try{return YC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZV=()=>QV().__FIREBASE_DEFAULTS__,JV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Wy(n[1]);return e&&JSON.parse(e)},nf=()=>{try{return ZV()||JV()||XV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yy=n=>{var e,t;return(t=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KC=n=>{let e=Yy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ky=()=>{var n;return(n=nf())===null||n===void 0?void 0:n.config},Qy=n=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${n}`]};var tf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function QC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(o)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function eL(){var n;let e=(n=nf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tT(){let n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nT(){return!eL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zy(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var tL="FirebaseError",nn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}},Wr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nL(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new nn(i,c,r)}};function nL(n,e){return n.replace(rL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rL=/\{\$([^}]+)}/g;function iT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(qC(s)&&qC(o)){if(!Rs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function qC(n){return n!==null&&typeof n=="object"}function pc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sT(n,e){let t=new qy(n,e);return t.subscribe.bind(t)}var qy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zy),i.error===void 0&&(i.error=zy),i.complete===void 0&&(i.complete=zy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zy(){}var V8=4*60*60*1e3;function Nt(n){return n&&n._delegate?n._delegate:n}var Dn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ns="[DEFAULT]";var Jy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new tf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oL(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sL(n){return n===Ns?void 0:n}function oL(n){return n.instantiationMode==="EAGER"}var rf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Jy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var aL=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),uL={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},cL=Se.INFO,lL={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},dL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=lL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xi=class{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=dL,this._userLogHandler=null,aL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var hL=(n,e)=>e.some(t=>n instanceof t),oT,aT;function fL(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pL(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uT=new WeakMap,ev=new WeakMap,cT=new WeakMap,Xy=new WeakMap,nv=new WeakMap;function gL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(or(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&uT.set(t,n)}).catch(()=>{}),nv.set(e,n),e}function mL(n){if(ev.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ev.set(n,e)}var tv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ev.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lT(n){tv=n(tv)}function yL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(sf(this),e,...t);return cT.set(r,e.sort?e.sort():[e]),or(r)}:pL().includes(n)?function(...e){return n.apply(sf(this),e),or(uT.get(this))}:function(...e){return or(n.apply(sf(this),e))}}function vL(n){return typeof n=="function"?yL(n):(n instanceof IDBTransaction&&mL(n),hL(n,fL())?new Proxy(n,tv):n)}function or(n){if(n instanceof IDBRequest)return gL(n);if(Xy.has(n))return Xy.get(n);let e=vL(n);return e!==n&&(Xy.set(n,e),nv.set(e,n)),e}var sf=n=>nv.get(n);function hT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=or(o);return r&&o.addEventListener("upgradeneeded",l=>{r(or(o.result),l.oldVersion,l.newVersion,or(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var _L=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],rv=new Map;function dT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=wL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_L.includes(t)))return;let s=function(o,...c){return S(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),h=l.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),i&&l.done]))[0]})};return rv.set(e,s),s}lT(n=>be($({},n),{get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));var sv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function IL(n){let e=n.getComponent();return e?.type==="VERSION"}var ov="@firebase/app",fT="0.10.13";var Yr=new xi("@firebase/app"),EL="@firebase/app-compat",DL="@firebase/analytics-compat",bL="@firebase/analytics",CL="@firebase/app-check-compat",TL="@firebase/app-check",SL="@firebase/auth",AL="@firebase/auth-compat",ML="@firebase/database",RL="@firebase/data-connect",NL="@firebase/database-compat",xL="@firebase/functions",PL="@firebase/functions-compat",OL="@firebase/installations",kL="@firebase/installations-compat",FL="@firebase/messaging",VL="@firebase/messaging-compat",LL="@firebase/performance",UL="@firebase/performance-compat",jL="@firebase/remote-config",BL="@firebase/remote-config-compat",$L="@firebase/storage",HL="@firebase/storage-compat",zL="@firebase/firestore",GL="@firebase/vertexai-preview",qL="@firebase/firestore-compat",WL="firebase",YL="10.14.1";var av="[DEFAULT]",KL={[ov]:"fire-core",[EL]:"fire-core-compat",[bL]:"fire-analytics",[DL]:"fire-analytics-compat",[TL]:"fire-app-check",[CL]:"fire-app-check-compat",[SL]:"fire-auth",[AL]:"fire-auth-compat",[ML]:"fire-rtdb",[RL]:"fire-data-connect",[NL]:"fire-rtdb-compat",[xL]:"fire-fn",[PL]:"fire-fn-compat",[OL]:"fire-iid",[kL]:"fire-iid-compat",[FL]:"fire-fcm",[VL]:"fire-fcm-compat",[LL]:"fire-perf",[UL]:"fire-perf-compat",[jL]:"fire-rc",[BL]:"fire-rc-compat",[$L]:"fire-gcs",[HL]:"fire-gcs-compat",[zL]:"fire-fst",[qL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[WL]:"fire-js-all"};var gc=new Map,QL=new Map,uv=new Map;function pT(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oi(n){let e=n.name;if(uv.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,n);for(let t of gc.values())pT(t,n);for(let t of QL.values())pT(t,n);return!0}function yc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kr(n){return n.settings!==void 0}var ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Wr("app","Firebase",ZL);var cv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}};var ki=YL;function of(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(t||(t=Ky()),!t)throw Pi.create("no-options");let s=gc.get(i);if(s){if(Rs(t,s.options)&&Rs(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}let o=new rf(i);for(let l of uv.values())o.addComponent(l);let c=new cv(t,r,o);return gc.set(i,c),c}function ya(n=av){let e=gc.get(n);if(!e&&n===av&&Ky())return of();if(!e)throw Pi.create("no-app",{appName:n});return e}function af(){return Array.from(gc.values())}function vt(n,e,t){var r;let i=(r=KL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(c.join(" "));return}Oi(new Dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JL="firebase-heartbeat-database",XL=1,mc="firebase-heartbeat-store",iv=null;function vT(){return iv||(iv=hT(JL,XL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),iv}function e2(n){return S(this,null,function*(){try{let t=(yield vT()).transaction(mc),r=yield t.objectStore(mc).get(_T(n));return yield t.done,r}catch(e){if(e instanceof nn)Yr.warn(e.message);else{let t=Pi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}})}function gT(n,e){return S(this,null,function*(){try{let r=(yield vT()).transaction(mc,"readwrite");yield r.objectStore(mc).put(e,_T(n)),yield r.done}catch(t){if(t instanceof nn)Yr.warn(t.message);else{let r=Pi.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}})}function _T(n){return`${n.name}!${n.options.appId}`}var t2=1024,n2=30*24*60*60*1e3,lv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new dv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=n2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=mT(),{heartbeatsToSend:r,unsentEntries:i}=r2(this._heartbeatsCache.heartbeats),s=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Yr.warn(t),""}})}};function mT(){return new Date().toISOString().substring(0,10)}function r2(n,e=t2){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var dv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Zy()?rT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield e2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yT(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function i2(n){Oi(new Dn("platform-logger",e=>new sv(e),"PRIVATE")),Oi(new Dn("heartbeat",e=>new lv(e),"PRIVATE")),vt(ov,fT,n),vt(ov,fT,"esm2017"),vt("fire-js","")}i2("");var s2="firebase",o2="10.14.1";vt(s2,o2,"app");var Ps=new Ur("ANGULARFIRE2_VERSION");function cf(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var vc=(n,e)=>{let t=e?[e]:af(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},_a=class{constructor(){return vc(a2)}},a2="app-check";function va(){}var uf=class{zone;delegate;constructor(e,t=Mg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},hv=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),t.pipe(yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},wa=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new uf(Zone.current)),this.insideAngular=t.run(()=>new uf(Zone.current,Ag)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(De(qe))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lf(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function u2(n){return lf().ngZone.runOutsideAngular(()=>n())}function xs(n){return lf().ngZone.run(()=>n())}function c2(n){return l2(lf())(n)}function l2(n){return function(t){return t=t.lift(new hv(n.ngZone)),t.pipe(vi(n.outsideAngular),yi(n.insideAngular))}}var d2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xs(()=>n.apply(void 0,r))},_c=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va))),r[s]=d2(r[s],t));let i=u2(()=>n.apply(this,r));if(!e)if(i instanceof Pe){let s=lf();return i.pipe(vi(s.outsideAngular),yi(s.insideAngular))}else return xs(()=>i);return i instanceof Pe?i.pipe(c2):i instanceof Promise?xs(()=>new Promise((s,o)=>i.then(c=>xs(()=>s(c)),c=>xs(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:xs(()=>i)};var Qr=class{constructor(e){return e}},Os=class{constructor(){return af()}};function h2(n){return n&&n.length===1?n[0]:new Qr(ya())}var fv=new te("angularfire2._apps"),f2={provide:Qr,useFactory:h2,deps:[[new $t,fv]]},p2={provide:Os,deps:[[new $t,fv]]};function g2(n){return(e,t)=>{let r=t.get(Mi);vt("angularfire",Ps.full,"core"),vt("angularfire",Ps.full,"app"),vt("angular",jb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Qr(i)}}function wT(n,...e){return sr([f2,p2,{provide:fv,useFactory:g2(n),multi:!0,deps:[qe,Kt,wa,...e]}])}function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var FT=kT,VT=new Wr("auth","Firebase",kT());var mf=new xi("@firebase/auth");function m2(n,...e){mf.logLevel<=Se.WARN&&mf.warn(`Auth (${ki}): ${n}`,...e)}function hf(n,...e){mf.logLevel<=Se.ERROR&&mf.error(`Auth (${ki}): ${n}`,...e)}function Vi(n,...e){throw Pv(n,...e)}function Fs(n,...e){return Pv(n,...e)}function LT(n,e,t){let r=Object.assign(Object.assign({},FT()),{[e]:t});return new Wr("auth","Firebase",r).create(e,{appName:n.name})}function ks(n){return LT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VT.create(n,...e)}function le(n,e,...t){if(!n)throw Pv(e,...t)}function Zr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw hf(e),new Error(e)}function Li(n,e){n||Zr(e)}function yv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function y2(){return IT()==="http:"||IT()==="https:"}function IT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||XC()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Vs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||eT()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ov(n,e){Li(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var yf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var w2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I2=new Vs(3e4,6e4);function kv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ea(s,o,c,l){return S(this,arguments,function*(n,e,t,r,i={}){return UT(n,i,()=>S(this,null,function*(){let h={},y={};r&&(e==="GET"?y=r:h={body:JSON.stringify(r)});let _=pc(Object.assign({key:n.config.apiKey},y)).slice(1),E=yield n._getAdditionalHeaders();E["Content-Type"]="application/json",n.languageCode&&(E["X-Firebase-Locale"]=n.languageCode);let C=Object.assign({method:e,headers:E},h);return JC()||(C.referrerPolicy="no-referrer"),yf.fetch()(jT(n,n.config.apiHost,t,_),C)}))})}function UT(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},w2),e);try{let i=new vv(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw df(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw df(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw df(n,"user-disabled",o);let y=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw LT(n,y,h);Vi(n,y)}}catch(i){if(i instanceof nn)throw i;Vi(n,"network-request-failed",{message:String(i)})}})}function E2(s,o,c,l){return S(this,arguments,function*(n,e,t,r,i={}){let h=yield Ea(n,e,t,r,i);return"mfaPendingCredential"in h&&Vi(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function jT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ov(n.config,i):`${n.config.apiScheme}://${i}`}var vv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),I2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function df(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fs(n,e,r);return i.customData._tokenResponse=t,i}function D2(n,e){return S(this,null,function*(){return Ea(n,"POST","/v1/accounts:delete",e)})}function BT(n,e){return S(this,null,function*(){return Ea(n,"POST","/v1/accounts:lookup",e)})}function wc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fv(n,e=!1){return S(this,null,function*(){let t=Nt(n),r=yield t.getIdToken(e),i=Vv(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wc(pv(i.auth_time)),issuedAtTime:wc(pv(i.iat)),expirationTime:wc(pv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function pv(n){return Number(n)*1e3}function Vv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wy(t);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ET(n){let e=Vv(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ec(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof nn&&b2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function b2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var _v=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vf(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ec(n,BT(t,{idToken:r}));le(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$T(s.providerUserInfo):[],c=C2(n.providerData,o),l=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!c?.length,y=l?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Dc(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,_)})}function Lv(n){return S(this,null,function*(){let e=Nt(n);yield vf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function C2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $T(n){return n.map(e=>{var{providerId:t}=e,r=Rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function T2(n,e){return S(this,null,function*(){let t=yield UT(n,{},()=>S(this,null,function*(){let r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=jT(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yf.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function S2(n,e){return S(this,null,function*(){return Ea(n,"POST","/v2/accounts:revokeToken",kv(n,e))})}var Ic=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=ET(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield T2(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Zr("not implemented")}};function Fi(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ia=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _v(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Ec(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Fv(this,e)}reload(){return Lv(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield vf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Kr(this.auth.app))return Promise.reject(ks(this.auth));let e=yield this.getIdToken();return yield Ec(this,D2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,l,h,y;let _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,C=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,V=(c=t.tenantId)!==null&&c!==void 0?c:void 0,F=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,H=(h=t.createdAt)!==null&&h!==void 0?h:void 0,J=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:me,isAnonymous:Ge,providerData:Z,stsTokenManager:R}=t;le(X&&R,e,"internal-error");let I=Ic.fromJSON(this.name,R);le(typeof X=="string",e,"internal-error"),Fi(_,e.name),Fi(E,e.name),le(typeof me=="boolean",e,"internal-error"),le(typeof Ge=="boolean",e,"internal-error"),Fi(C,e.name),Fi(A,e.name),Fi(V,e.name),Fi(F,e.name),Fi(H,e.name),Fi(J,e.name);let D=new n({uid:X,auth:e,email:E,emailVerified:me,displayName:_,isAnonymous:Ge,photoURL:A,phoneNumber:C,tenantId:V,stsTokenManager:I,createdAt:H,lastLoginAt:J});return Z&&Array.isArray(Z)&&(D.providerData=Z.map(M=>Object.assign({},M))),F&&(D._redirectEventId=F),D}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new Ic;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vf(s),s})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?$T(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ic;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,h),l})}};var DT=new Map;function Jr(n){Li(n instanceof Function,"Expected a class definition");let e=DT.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DT.set(n,e),e)}var A2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),wv=A2;function ff(n,e,t){return`firebase:${n}:${e}:${t}`}var _f=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ff(this.userKey,i.apiKey,s),this.fullPersistenceKey=ff("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ia._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(Jr(wv),e,r);let i=(yield Promise.all(t.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=i[0]||Jr(wv),o=ff(r,e.config.apiKey,e.name),c=null;for(let h of t)try{let y=yield h._get(o);if(y){let _=Ia._fromJSON(e,y);h!==s&&(c=_),s=h;break}}catch{}let l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(h=>S(this,null,function*(){if(h!==s)try{yield h._remove(o)}catch{}}))),new n(s,e,r))})}};function bT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(KT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function HT(n=It()){return/firefox\//i.test(n)}function zT(n=It()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(n=It()){return/crios\//i.test(n)}function qT(n=It()){return/iemobile/i.test(n)}function WT(n=It()){return/android/i.test(n)}function YT(n=It()){return/blackberry/i.test(n)}function KT(n=It()){return/webos/i.test(n)}function Uv(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function M2(n=It()){var e;return Uv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R2(){return tT()&&document.documentMode===10}function QT(n=It()){return Uv(n)||WT(n)||KT(n)||YT(n)||/windows phone/i.test(n)||qT(n)}function ZT(n,e=[]){let t;switch(n){case"Browser":t=bT(It());break;case"Worker":t=`${bT(It())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ki}/${r}`}var Iv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function N2(t){return S(this,arguments,function*(n,e={}){return Ea(n,"GET","/v2/passwordPolicy",kv(n,e))})}var x2=6,Ev=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:x2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Dv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wf(this),this.idTokenSubscription=new wf(this),this.beforeStateQueue=new Iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _f.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield BT(this,{idToken:e}),r=yield Ia._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(Kr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield vf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_2()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Kr(this.app))return Promise.reject(ks(this));let t=e?Nt(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Kr(this.app)?Promise.reject(ks(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kr(this.app)?Promise.reject(ks(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield N2(this),t=new Ev(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield S2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Jr(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield _f.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&m2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function jv(n){return Nt(n)}var wf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sT(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bv={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P2(n){Bv=n}function O2(n){return Bv.loadJS(n)}function k2(){return Bv.gapiScript}function JT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function $v(n,e){let t=yc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Rs(s,e??{}))return i;Vi(i,"already-initialized")}return t.initialize({options:e})}function F2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hv(n,e,t){let r=jv(n);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=XT(e),{host:o,port:c}=V2(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||L2()}function XT(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function V2(n){let e=XT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:CT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:CT(o)}}}function CT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function L2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var If=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}};function gv(n,e){return S(this,null,function*(){return E2(n,"POST","/v1/accounts:signInWithIdp",kv(n,e))})}var Ef=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var bv=class extends Ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var bc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return S(this,null,function*(){let s=yield Ia._fromIdTokenResponse(e,r,i),o=TT(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return S(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=TT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function TT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Cv=class n extends nn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function eS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cv._fromErrorAndOperation(n,s,e,r):s})}function U2(n,e,t=!1){return S(this,null,function*(){let r=yield Ec(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bc._forOperation(n,"link",r)})}function j2(n,e,t=!1){return S(this,null,function*(){let{auth:r}=n;if(Kr(r.app))return Promise.reject(ks(r));let i="reauthenticate";try{let s=yield Ec(n,eS(r,i,e,n),t);le(s.idToken,r,"internal-error");let o=Vv(s.idToken);le(o,r,"internal-error");let{sub:c}=o;return le(n.uid===c,r,"user-mismatch"),bc._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vi(r,"user-mismatch"),s}})}function B2(n,e,t=!1){return S(this,null,function*(){if(Kr(n.app))return Promise.reject(ks(n));let r="signIn",i=yield eS(n,r,e),s=yield bc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function zv(n,e,t,r){return Nt(n).onIdTokenChanged(e,t,r)}function Gv(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}var Df="__sak";var bf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $2=1e3,H2=10,z2=(()=>{class n extends bf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,h)=>{this.notifyListeners(c,h)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);R2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,H2):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return S(this,null,function*(){yield gi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return S(this,null,function*(){let r=yield gi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return S(this,null,function*(){yield gi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),tS=z2;var G2=(()=>{class n extends bf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),qv=G2;function q2(n){return Promise.all(n.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var W2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return S(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(y=>S(this,null,function*(){return y(r.origin,o)})),h=yield q2(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function nS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Tv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return S(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let h=nS("",20);i.port1.start();let y=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){let E=_;if(E.data.eventId===h)switch(E.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(E.data.response);break;default:clearTimeout(y),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ar(){return window}function Y2(n){ar().location.href=n}function rS(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}function K2(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Q2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z2(){return rS()?self:null}var iS="firebaseLocalStorageDb",J2=1,Cf="firebaseLocalStorage",sS="fbase_key",Ls=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Sf(n,e){return n.transaction([Cf],e?"readwrite":"readonly").objectStore(Cf)}function X2(){let n=indexedDB.deleteDatabase(iS);return new Ls(n).toPromise()}function Sv(){let n=indexedDB.open(iS,J2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cf,{keyPath:sS})}catch(i){t(i)}}),n.addEventListener("success",()=>S(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Cf)?e(r):(r.close(),yield X2(),e(yield Sv()))}))})}function ST(n,e,t){return S(this,null,function*(){let r=Sf(n,!0).put({[sS]:e,value:t});return new Ls(r).toPromise()})}function eU(n,e){return S(this,null,function*(){let t=Sf(n,!1).get(e),r=yield new Ls(t).toPromise();return r===void 0?null:r.value})}function AT(n,e){let t=Sf(n,!0).delete(e);return new Ls(t).toPromise()}var tU=800,nU=3,rU=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield Sv(),this.db)})}_withRetries(t){return S(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>nU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return rS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=W2._getInstance(Z2()),this.receiver._subscribe("keyChanged",(t,r)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var t,r;if(this.activeServiceWorker=yield K2(),!this.activeServiceWorker)return;this.sender=new Tv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Q2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Sv();return yield ST(t,Df,"1"),yield AT(t,Df),!0}catch{}return!1})}_withPendingWrite(t){return S(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>ST(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return S(this,null,function*(){let r=yield this._withRetries(i=>eU(i,t));return this.localCache[t]=r,r})}_remove(t){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>AT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return S(this,null,function*(){let t=yield this._withRetries(s=>{let o=Sf(s,!1).getAll();return new Ls(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),tU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),oS=rU;var x5=JT("rcb"),P5=new Vs(3e4,6e4);function iU(n,e){return e?Jr(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Cc=class extends If{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sU(n){return B2(n.auth,new Cc(n),n.bypassAuthState)}function oU(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),j2(t,new Cc(n),n.bypassAuthState)}function aU(n){return S(this,null,function*(){let{auth:e,user:t}=n;return le(t,e,"internal-error"),U2(t,new Cc(n),n.bypassAuthState)})}var Av=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sU;case"linkViaPopup":case"linkViaRedirect":return aU;case"reauthViaPopup":case"reauthViaRedirect":return oU;default:Vi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var O5=new Vs(2e3,1e4);var uU="pendingRedirect",pf=new Map,Mv=class n extends Av{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return S(this,null,function*(){let e=pf.get(this.auth._key());if(!e){try{let r=(yield cU(this.resolver,this.auth))?yield gi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return gi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,gi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function cU(n,e){return S(this,null,function*(){let t=hU(e),r=dU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function lU(n,e){pf.set(n._key(),e)}function dU(n){return Jr(n._redirectPersistence)}function hU(n){return ff(uU,n.config.apiKey,n.name)}function fU(n,e,t=!1){return S(this,null,function*(){if(Kr(n.app))return Promise.reject(ks(n));let r=jv(n),i=iU(r,e),o=yield new Mv(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pU=10*60*1e3,Rv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pU&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(e))}saveEventToCache(e){this.cachedEventUids.add(MT(e)),this.lastProcessedEventTime=Date.now()}};function MT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function gU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(n);default:return!1}}function mU(t){return S(this,arguments,function*(n,e={}){return Ea(n,"GET","/v1/projects",e)})}var yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vU=/^https?/;function _U(n){return S(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield mU(n);for(let t of e)try{if(wU(t))return}catch{}Vi(n,"unauthorized-domain")})}function wU(n){let e=yv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!vU.test(t))return!1;if(yU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IU=new Vs(3e4,6e4);function RT(){let n=ar().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EU(n){return new Promise((e,t)=>{var r,i,s;function o(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),t(Fs(n,"network-request-failed"))},timeout:IU.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ar().gapi)===null||s===void 0)&&s.load)o();else{let c=JT("iframefcb");return ar()[c]=()=>{gapi.load?o():t(Fs(n,"network-request-failed"))},O2(`${k2()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw gf=null,e})}var gf=null;function DU(n){return gf=gf||EU(n),gf}var bU=new Vs(5e3,15e3),CU="__/auth/iframe",TU="emulator/auth/iframe",SU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MU(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ov(e,TU):`https://${n.config.authDomain}/${CU}`,r={apiKey:e.apiKey,appName:n.name,v:ki},i=AU.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${pc(r).slice(1)}`}function RU(n){return S(this,null,function*(){let e=yield DU(n),t=ar().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:MU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SU,dontclear:!0},r=>new Promise((i,s)=>S(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fs(n,"network-request-failed"),c=ar().setTimeout(()=>{s(o)},bU.get());function l(){ar().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var NU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xU=500,PU=600,OU="_blank",kU="http://localhost",Tf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FU(n,e,t,r=xU,i=PU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},NU),{width:r.toString(),height:i.toString(),top:s,left:o}),h=It().toLowerCase();t&&(c=GT(h)?OU:t),HT(h)&&(e=e||kU,l.scrollbars="yes");let y=Object.entries(l).reduce((E,[C,A])=>`${E}${C}=${A},`,"");if(M2(h)&&c!=="_self")return VU(e||"",c),new Tf(null);let _=window.open(e||"",c,y);le(_,n,"popup-blocked");try{_.focus()}catch{}return new Tf(_)}function VU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var LU="__/auth/handler",UU="emulator/auth/handler",jU=encodeURIComponent("fac");function NT(n,e,t,r,i,s){return S(this,null,function*(){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ki,eventId:i};if(e instanceof Ef){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",iT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,_]of Object.entries(s||{}))o[y]=_}if(e instanceof bv){let y=e.getScopes().filter(_=>_!=="");y.length>0&&(o.scopes=y.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let y of Object.keys(c))c[y]===void 0&&delete c[y];let l=yield n._getAppCheckToken(),h=l?`#${jU}=${encodeURIComponent(l)}`:"";return`${BU(n)}?${pc(c).slice(1)}${h}`})}function BU({config:n}){return n.emulator?Ov(n,UU):`https://${n.authDomain}/${LU}`}var mv="webStorageSupport",Nv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qv,this._completeRedirectFn=fU,this._overrideRedirectResult=lU}_openPopup(e,t,r,i){return S(this,null,function*(){var s;Li((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield NT(e,t,r,yv(),i);return FU(e,o,nS())})}_openRedirect(e,t,r,i){return S(this,null,function*(){yield this._originValidation(e);let s=yield NT(e,t,r,yv(),i);return Y2(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Li(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return S(this,null,function*(){let t=yield RU(e),r=new Rv(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mv,{type:mv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[mv];o!==void 0&&t(!!o),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_U(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QT()||zT()||Uv()}},uS=Nv;var xT="@firebase/auth",PT="1.7.9";var xv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $U(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HU(n){Oi(new Dn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(n)},h=new Dv(r,i,s,l);return F2(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new Dn("auth-internal",e=>{let t=jv(e.getProvider("auth").getImmediate());return(r=>new xv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(xT,PT,$U(n)),vt(xT,PT,"esm2017")}var zU=5*60,GU=Qy("authIdTokenMaxAge")||zU,OT=null,qU=n=>e=>S(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>GU)return;let i=t?.token;OT!==i&&(OT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Wv(n=ya()){let e=yc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=$v(n,{popupRedirectResolver:uS,persistence:[oS,tS,qv]}),r=Qy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=qU(s.toString());Gv(t,o,()=>o(t.currentUser)),zv(t,c=>o(c))}}let i=Yy("auth");return i&&Hv(t,`http://${i}`),t}function WU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}P2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Fs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",WU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HU("Browser");var cS="auth",Tc=class{constructor(e){return e}},Sc=class{constructor(){return vc(cS)}};var Yv=new te("angularfire2.auth-instances");function Bj(n,e){let t=cf(cS,n,e);return t&&new Tc(t)}function $j(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Tc(r)}}var Hj={provide:Sc,deps:[[new $t,Yv]]},zj={provide:Tc,useFactory:Bj,deps:[[new $t,Yv],Qr]};function lS(n,...e){return vt("angularfire",Ps.full,"auth"),sr([zj,Hj,{provide:Yv,useFactory:$j(n),multi:!0,deps:[qe,Kt,wa,Os,[new $t,_a],...e]}])}var dS=_c(Wv,!0);var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fS={};var Ui,Kv;(function(){var n;function e(R,I){function D(){}D.prototype=I.prototype,R.D=I.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(M,N,P){for(var b=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)b[Qt-2]=arguments[Qt];return I.prototype[N].apply(M,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,D){D||(D=0);var M=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)M[N]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(N=0;16>N;++N)M[N]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=R.g[0],D=R.g[1],N=R.g[2];var P=R.g[3],b=I+(P^D&(N^P))+M[0]+3614090360&4294967295;I=D+(b<<7&4294967295|b>>>25),b=P+(N^I&(D^N))+M[1]+3905402710&4294967295,P=I+(b<<12&4294967295|b>>>20),b=N+(D^P&(I^D))+M[2]+606105819&4294967295,N=P+(b<<17&4294967295|b>>>15),b=D+(I^N&(P^I))+M[3]+3250441966&4294967295,D=N+(b<<22&4294967295|b>>>10),b=I+(P^D&(N^P))+M[4]+4118548399&4294967295,I=D+(b<<7&4294967295|b>>>25),b=P+(N^I&(D^N))+M[5]+1200080426&4294967295,P=I+(b<<12&4294967295|b>>>20),b=N+(D^P&(I^D))+M[6]+2821735955&4294967295,N=P+(b<<17&4294967295|b>>>15),b=D+(I^N&(P^I))+M[7]+4249261313&4294967295,D=N+(b<<22&4294967295|b>>>10),b=I+(P^D&(N^P))+M[8]+1770035416&4294967295,I=D+(b<<7&4294967295|b>>>25),b=P+(N^I&(D^N))+M[9]+2336552879&4294967295,P=I+(b<<12&4294967295|b>>>20),b=N+(D^P&(I^D))+M[10]+4294925233&4294967295,N=P+(b<<17&4294967295|b>>>15),b=D+(I^N&(P^I))+M[11]+2304563134&4294967295,D=N+(b<<22&4294967295|b>>>10),b=I+(P^D&(N^P))+M[12]+1804603682&4294967295,I=D+(b<<7&4294967295|b>>>25),b=P+(N^I&(D^N))+M[13]+4254626195&4294967295,P=I+(b<<12&4294967295|b>>>20),b=N+(D^P&(I^D))+M[14]+2792965006&4294967295,N=P+(b<<17&4294967295|b>>>15),b=D+(I^N&(P^I))+M[15]+1236535329&4294967295,D=N+(b<<22&4294967295|b>>>10),b=I+(N^P&(D^N))+M[1]+4129170786&4294967295,I=D+(b<<5&4294967295|b>>>27),b=P+(D^N&(I^D))+M[6]+3225465664&4294967295,P=I+(b<<9&4294967295|b>>>23),b=N+(I^D&(P^I))+M[11]+643717713&4294967295,N=P+(b<<14&4294967295|b>>>18),b=D+(P^I&(N^P))+M[0]+3921069994&4294967295,D=N+(b<<20&4294967295|b>>>12),b=I+(N^P&(D^N))+M[5]+3593408605&4294967295,I=D+(b<<5&4294967295|b>>>27),b=P+(D^N&(I^D))+M[10]+38016083&4294967295,P=I+(b<<9&4294967295|b>>>23),b=N+(I^D&(P^I))+M[15]+3634488961&4294967295,N=P+(b<<14&4294967295|b>>>18),b=D+(P^I&(N^P))+M[4]+3889429448&4294967295,D=N+(b<<20&4294967295|b>>>12),b=I+(N^P&(D^N))+M[9]+568446438&4294967295,I=D+(b<<5&4294967295|b>>>27),b=P+(D^N&(I^D))+M[14]+3275163606&4294967295,P=I+(b<<9&4294967295|b>>>23),b=N+(I^D&(P^I))+M[3]+4107603335&4294967295,N=P+(b<<14&4294967295|b>>>18),b=D+(P^I&(N^P))+M[8]+1163531501&4294967295,D=N+(b<<20&4294967295|b>>>12),b=I+(N^P&(D^N))+M[13]+2850285829&4294967295,I=D+(b<<5&4294967295|b>>>27),b=P+(D^N&(I^D))+M[2]+4243563512&4294967295,P=I+(b<<9&4294967295|b>>>23),b=N+(I^D&(P^I))+M[7]+1735328473&4294967295,N=P+(b<<14&4294967295|b>>>18),b=D+(P^I&(N^P))+M[12]+2368359562&4294967295,D=N+(b<<20&4294967295|b>>>12),b=I+(D^N^P)+M[5]+4294588738&4294967295,I=D+(b<<4&4294967295|b>>>28),b=P+(I^D^N)+M[8]+2272392833&4294967295,P=I+(b<<11&4294967295|b>>>21),b=N+(P^I^D)+M[11]+1839030562&4294967295,N=P+(b<<16&4294967295|b>>>16),b=D+(N^P^I)+M[14]+4259657740&4294967295,D=N+(b<<23&4294967295|b>>>9),b=I+(D^N^P)+M[1]+2763975236&4294967295,I=D+(b<<4&4294967295|b>>>28),b=P+(I^D^N)+M[4]+1272893353&4294967295,P=I+(b<<11&4294967295|b>>>21),b=N+(P^I^D)+M[7]+4139469664&4294967295,N=P+(b<<16&4294967295|b>>>16),b=D+(N^P^I)+M[10]+3200236656&4294967295,D=N+(b<<23&4294967295|b>>>9),b=I+(D^N^P)+M[13]+681279174&4294967295,I=D+(b<<4&4294967295|b>>>28),b=P+(I^D^N)+M[0]+3936430074&4294967295,P=I+(b<<11&4294967295|b>>>21),b=N+(P^I^D)+M[3]+3572445317&4294967295,N=P+(b<<16&4294967295|b>>>16),b=D+(N^P^I)+M[6]+76029189&4294967295,D=N+(b<<23&4294967295|b>>>9),b=I+(D^N^P)+M[9]+3654602809&4294967295,I=D+(b<<4&4294967295|b>>>28),b=P+(I^D^N)+M[12]+3873151461&4294967295,P=I+(b<<11&4294967295|b>>>21),b=N+(P^I^D)+M[15]+530742520&4294967295,N=P+(b<<16&4294967295|b>>>16),b=D+(N^P^I)+M[2]+3299628645&4294967295,D=N+(b<<23&4294967295|b>>>9),b=I+(N^(D|~P))+M[0]+4096336452&4294967295,I=D+(b<<6&4294967295|b>>>26),b=P+(D^(I|~N))+M[7]+1126891415&4294967295,P=I+(b<<10&4294967295|b>>>22),b=N+(I^(P|~D))+M[14]+2878612391&4294967295,N=P+(b<<15&4294967295|b>>>17),b=D+(P^(N|~I))+M[5]+4237533241&4294967295,D=N+(b<<21&4294967295|b>>>11),b=I+(N^(D|~P))+M[12]+1700485571&4294967295,I=D+(b<<6&4294967295|b>>>26),b=P+(D^(I|~N))+M[3]+2399980690&4294967295,P=I+(b<<10&4294967295|b>>>22),b=N+(I^(P|~D))+M[10]+4293915773&4294967295,N=P+(b<<15&4294967295|b>>>17),b=D+(P^(N|~I))+M[1]+2240044497&4294967295,D=N+(b<<21&4294967295|b>>>11),b=I+(N^(D|~P))+M[8]+1873313359&4294967295,I=D+(b<<6&4294967295|b>>>26),b=P+(D^(I|~N))+M[15]+4264355552&4294967295,P=I+(b<<10&4294967295|b>>>22),b=N+(I^(P|~D))+M[6]+2734768916&4294967295,N=P+(b<<15&4294967295|b>>>17),b=D+(P^(N|~I))+M[13]+1309151649&4294967295,D=N+(b<<21&4294967295|b>>>11),b=I+(N^(D|~P))+M[4]+4149444226&4294967295,I=D+(b<<6&4294967295|b>>>26),b=P+(D^(I|~N))+M[11]+3174756917&4294967295,P=I+(b<<10&4294967295|b>>>22),b=N+(I^(P|~D))+M[2]+718787259&4294967295,N=P+(b<<15&4294967295|b>>>17),b=D+(P^(N|~I))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var D=I-this.blockSize,M=this.B,N=this.h,P=0;P<I;){if(N==0)for(;P<=D;)i(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<I;)if(M[N++]=R.charCodeAt(P++),N==this.blockSize){i(this,M),N=0;break}}else for(;P<I;)if(M[N++]=R[P++],N==this.blockSize){i(this,M),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var D=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=D&255,D/=256;for(this.u(R),R=Array(16),I=D=0;4>I;++I)for(var M=0;32>M;M+=8)R[D++]=this.g[I]>>>M&255;return R};function s(R,I){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=I(R)}function o(R,I){this.h=I;for(var D=[],M=!0,N=R.length-1;0<=N;N--){var P=R[N]|0;M&&P==I||(D[N]=P,M=!1)}this.g=D}var c={};function l(R){return-128<=R&&128>R?s(R,function(I){return new o([I|0],0>I?-1:0)}):new o([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return F(h(-R));for(var I=[],D=1,M=0;R>=D;M++)I[M]=R/D|0,D*=4294967296;return new o(I,0)}function y(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return F(y(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(I,8)),M=_,N=0;N<R.length;N+=8){var P=Math.min(8,R.length-N),b=parseInt(R.substring(N,N+P),I);8>P?(P=h(Math.pow(I,P)),M=M.j(P).add(h(b))):(M=M.j(D),M=M.add(h(b)))}return M}var _=l(0),E=l(1),C=l(16777216);n=o.prototype,n.m=function(){if(V(this))return-F(this).m();for(var R=0,I=1,D=0;D<this.g.length;D++){var M=this.i(D);R+=(0<=M?M:4294967296+M)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(V(this))return"-"+F(this).toString(R);for(var I=h(Math.pow(R,6)),D=this,M="";;){var N=me(D,I).g;D=H(D,N.j(I));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=N,A(D))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function V(R){return R.h==-1}n.l=function(R){return R=H(this,R),V(R)?-1:A(R)?0:1};function F(R){for(var I=R.g.length,D=[],M=0;M<I;M++)D[M]=~R.g[M];return new o(D,~R.h).add(E)}n.abs=function(){return V(this)?F(this):this},n.add=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],M=0,N=0;N<=I;N++){var P=M+(this.i(N)&65535)+(R.i(N)&65535),b=(P>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);M=b>>>16,P&=65535,b&=65535,D[N]=b<<16|P}return new o(D,D[D.length-1]&-2147483648?-1:0)};function H(R,I){return R.add(F(I))}n.j=function(R){if(A(this)||A(R))return _;if(V(this))return V(R)?F(this).j(F(R)):F(F(this).j(R));if(V(R))return F(this.j(F(R)));if(0>this.l(C)&&0>R.l(C))return h(this.m()*R.m());for(var I=this.g.length+R.g.length,D=[],M=0;M<2*I;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<R.g.length;N++){var P=this.i(M)>>>16,b=this.i(M)&65535,Qt=R.i(N)>>>16,yr=R.i(N)&65535;D[2*M+2*N]+=b*yr,J(D,2*M+2*N),D[2*M+2*N+1]+=P*yr,J(D,2*M+2*N+1),D[2*M+2*N+1]+=b*Qt,J(D,2*M+2*N+1),D[2*M+2*N+2]+=P*Qt,J(D,2*M+2*N+2)}for(M=0;M<I;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=I;M<2*I;M++)D[M]=0;return new o(D,0)};function J(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function X(R,I){this.g=R,this.h=I}function me(R,I){if(A(I))throw Error("division by zero");if(A(R))return new X(_,_);if(V(R))return I=me(F(R),I),new X(F(I.g),F(I.h));if(V(I))return I=me(R,F(I)),new X(F(I.g),I.h);if(30<R.g.length){if(V(R)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var D=E,M=I;0>=M.l(R);)D=Ge(D),M=Ge(M);var N=Z(D,1),P=Z(M,1);for(M=Z(M,2),D=Z(D,2);!A(M);){var b=P.add(M);0>=b.l(R)&&(N=N.add(D),P=b),M=Z(M,1),D=Z(D,1)}return I=H(R,N.j(I)),new X(N,I)}for(N=_;0<=R.l(I);){for(D=Math.max(1,Math.floor(R.m()/I.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=h(D),b=P.j(I);V(b)||0<b.l(R);)D-=M,P=h(D),b=P.j(I);A(P)&&(P=E),N=N.add(P),R=H(R,b)}return new X(N,R)}n.A=function(R){return me(this,R).h},n.and=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)&R.i(M);return new o(D,this.h&R.h)},n.or=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)|R.i(M);return new o(D,this.h|R.h)},n.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)^R.i(M);return new o(D,this.h^R.h)};function Ge(R){for(var I=R.g.length+1,D=[],M=0;M<I;M++)D[M]=R.i(M)<<1|R.i(M-1)>>>31;return new o(D,R.h)}function Z(R,I){var D=I>>5;I%=32;for(var M=R.g.length-D,N=[],P=0;P<M;P++)N[P]=0<I?R.i(P+D)>>>I|R.i(P+D+1)<<32-I:R.i(P+D);return new o(N,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kv=fS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=y,Ui=fS.Integer=o}).apply(typeof hS<"u"?hS:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xr={};var Qv,Gj,Da,Zv,Ac,Mf,Jv,Xv,e_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var x=u[w];if(!(x in m))break e;m=m[x]}u=u[u.length-1],w=m[u],f=f(w),f!=w&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,w=!1,x={next:function(){if(!w&&m<u.length){var O=m++;return{value:f(O,u[O]),done:!1}}return w=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});var o=o||{},c=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function h(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function y(u,f,m){return u.call.apply(u.bind,arguments)}function _(u,f,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,w),u.apply(f,x)}}return function(){return u.apply(f,arguments)}}function E(u,f,m){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function C(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function A(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,x,O){for(var B=Array(arguments.length-2),je=2;je<arguments.length;je++)B[je-2]=arguments[je];return f.prototype[x].apply(w,B)}}function V(u){let f=u.length;if(0<f){let m=Array(f);for(let w=0;w<f;w++)m[w]=u[w];return m}return[]}function F(u,f){for(let m=1;m<arguments.length;m++){let w=arguments[m];if(l(w)){let x=u.length||0,O=w.length||0;u.length=x+O;for(let B=0;B<O;B++)u[x+B]=w[B]}else u.push(w)}}class H{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function me(u){return me[" "](u),u}me[" "]=function(){};var Ge=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Z(u,f,m){for(let w in u)f.call(m,u[w],w,u)}function R(u,f){for(let m in u)f.call(void 0,u[m],m,u)}function I(u){let f={};for(let m in u)f[m]=u[m];return f}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,f){let m,w;for(let x=1;x<arguments.length;x++){w=arguments[x];for(m in w)u[m]=w[m];for(let O=0;O<D.length;O++)m=D[O],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function N(u){var f=1;u=u.split(":");let m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function P(u){c.setTimeout(()=>{throw u},0)}function b(){var u=Wi;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Qt{constructor(){this.h=this.g=null}add(f,m){let w=yr.get();w.set(f,m),this.h?this.h.next=w:this.g=w,this.h=w}}var yr=new H(()=>new Fp,u=>u.reset());class Fp{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let qi,Mt=!1,Wi=new Qt,Yi=()=>{let u=c.Promise.resolve(void 0);qi=()=>{u.then(uu)}};var uu=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(m){P(m)}var f=yr;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Mt=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Vp=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};c.addEventListener("test",m,f),c.removeEventListener("test",m,f)}catch{}return u}();function Ki(u,f){if(z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(Ge){e:{try{me(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:to[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ki.aa.h.call(this)}}A(Ki,z);var to={2:"touch",3:"pen",4:"mouse"};Ki.prototype.h=function(){Ki.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var si="closure_listenable_"+(1e6*Math.random()|0),Lp=0;function Up(u,f,m,w,x){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!w,this.ha=x,this.key=++Lp,this.da=this.fa=!1}function no(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ro(u){this.src=u,this.g={},this.h=0}ro.prototype.add=function(u,f,m,w,x){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var B=lu(u,f,w,x);return-1<B?(f=u[B],m||(f.fa=!1)):(f=new Up(f,this.src,O,!!w,x),f.fa=m,u.push(f)),f};function cu(u,f){var m=f.type;if(m in u.g){var w=u.g[m],x=Array.prototype.indexOf.call(w,f,void 0),O;(O=0<=x)&&Array.prototype.splice.call(w,x,1),O&&(no(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function lu(u,f,m,w){for(var x=0;x<u.length;++x){var O=u[x];if(!O.da&&O.listener==f&&O.capture==!!m&&O.ha==w)return x}return-1}var du="closure_lm_"+(1e6*Math.random()|0),hu={};function gl(u,f,m,w,x){if(w&&w.once)return Ft(u,f,m,w,x);if(Array.isArray(f)){for(var O=0;O<f.length;O++)gl(u,f[O],m,w,x);return null}return m=Qi(m),u&&u[si]?u.K(f,m,h(w)?!!w.capture:!!w,x):ml(u,f,m,!1,w,x)}function ml(u,f,m,w,x,O){if(!f)throw Error("Invalid event type");var B=h(x)?!!x.capture:!!x,je=Dt(u);if(je||(u[du]=je=new ro(u)),m=je.add(f,m,w,B,O),m.proxy)return m;if(w=yl(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)Vp||(x=B),x===void 0&&(x=!1),u.addEventListener(f.toString(),w,x);else if(u.attachEvent)u.attachEvent(vl(f.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function yl(){function u(m){return f.call(u.src,u.listener,m)}let f=_l;return u}function Ft(u,f,m,w,x){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Ft(u,f[O],m,w,x);return null}return m=Qi(m),u&&u[si]?u.L(f,m,h(w)?!!w.capture:!!w,x):ml(u,f,m,!0,w,x)}function io(u,f,m,w,x){if(Array.isArray(f))for(var O=0;O<f.length;O++)io(u,f[O],m,w,x);else w=h(w)?!!w.capture:!!w,m=Qi(m),u&&u[si]?(u=u.i,f=String(f).toString(),f in u.g&&(O=u.g[f],m=lu(O,m,w,x),-1<m&&(no(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete u.g[f],u.h--)))):u&&(u=Dt(u))&&(f=u.g[f.toString()],u=-1,f&&(u=lu(f,m,w,x)),(m=-1<u?f[u]:null)&&fu(m))}function fu(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[si])cu(f.i,u);else{var m=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(m,w,u.capture):f.detachEvent?f.detachEvent(vl(m),w):f.addListener&&f.removeListener&&f.removeListener(w),(m=Dt(f))?(cu(m,u),m.h==0&&(m.src=null,f[du]=null)):no(u)}}}function vl(u){return u in hu?hu[u]:hu[u]="on"+u}function _l(u,f){if(u.da)u=!0;else{f=new Ki(f,this);var m=u.listener,w=u.ha||u.src;u.fa&&fu(u),u=m.call(w,f)}return u}function Dt(u){return u=u[du],u instanceof ro?u:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(u){return typeof u=="function"?u:(u[so]||(u[so]=function(f){return u.handleEvent(f)}),u[so])}function st(){kt.call(this),this.i=new ro(this),this.M=this,this.F=null}A(st,kt),st.prototype[si]=!0,st.prototype.removeEventListener=function(u,f,m,w){io(this,u,f,m,w)};function ye(u,f){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=f.type||f,typeof f=="string")f=new z(f,u);else if(f instanceof z)f.target=f.target||u;else{var x=f;f=new z(w,u),M(f,x)}if(x=!0,m)for(var O=m.length-1;0<=O;O--){var B=f.g=m[O];x=Zi(B,w,!0,f)&&x}if(B=f.g=u,x=Zi(B,w,!0,f)&&x,x=Zi(B,w,!1,f)&&x,m)for(O=0;O<m.length;O++)B=f.g=m[O],x=Zi(B,w,!1,f)&&x}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],w=0;w<m.length;w++)no(m[w]);delete u.g[f],u.h--}}this.F=null},st.prototype.K=function(u,f,m,w){return this.i.add(String(u),f,!1,m,w)},st.prototype.L=function(u,f,m,w){return this.i.add(String(u),f,!0,m,w)};function Zi(u,f,m,w){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,O=0;O<f.length;++O){var B=f[O];if(B&&!B.da&&B.capture==m){var je=B.listener,pt=B.ha||B.src;B.fa&&cu(u.i,B),x=je.call(pt,w)!==!1&&x}}return x&&!w.defaultPrevented}function pu(u,f,m){if(typeof u=="function")m&&(u=E(u,m));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(u,f||0)}function Ji(u){u.g=pu(()=>{u.g=null,u.i&&(u.i=!1,Ji(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class gu extends kt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(u){kt.call(this),this.h=u,this.g={}}A($n,kt);var vr=[];function Xi(u){Z(u.g,function(f,m){this.g.hasOwnProperty(m)&&fu(f)},u),u.g={}}$n.prototype.N=function(){$n.aa.N.call(this),Xi(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mu=c.JSON.stringify,oo=c.JSON.parse,jp=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function _r(){}_r.prototype.h=null;function wr(u){return u.h||(u.h=u.i())}function ao(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function q(){z.call(this,"d")}A(q,z);function yu(){z.call(this,"c")}A(yu,z);var Ir={},cn=null;function bt(){return cn=cn||new st}Ir.La="serverreachability";function _e(u){z.call(this,Ir.La,u)}A(_e,z);function Er(u){let f=bt();ye(f,new _e(f))}Ir.STAT_EVENT="statevent";function Ue(u,f){z.call(this,Ir.STAT_EVENT,u),this.stat=f}A(Ue,z);function ot(u){let f=bt();ye(f,new Ue(f,u))}Ir.Ma="timingevent";function wl(u,f){z.call(this,Ir.Ma,u),this.size=f}A(wl,z);function zn(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},f)}function tt(){this.g=!0}tt.prototype.xa=function(){this.g=!1};function Tn(u,f,m,w,x,O){u.info(function(){if(u.g)if(O)for(var B="",je=O.split("&"),pt=0;pt<je.length;pt++){var Me=je[pt].split("=");if(1<Me.length){var fe=Me[0];Me=Me[1];var wt=fe.split("_");B=2<=wt.length&&wt[1]=="type"?B+(fe+"="+Me+"&"):B+(fe+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+w+") [attempt "+x+"]: "+f+`
`+m+`
`+B})}function ln(u,f,m,w,x,O,B){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+x+"]: "+f+`
`+m+`
`+O+" "+B})}function Qe(u,f,m,w){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+Sn(u,m)+(w?" "+w:"")})}function Zt(u,f){u.info(function(){return"TIMEOUT: "+f})}tt.prototype.info=function(){};function Sn(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var x=w[1];if(Array.isArray(x)&&!(1>x.length)){var O=x[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<x.length;B++)x[B]=""}}}}return mu(m)}catch{return f}}var dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Il={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vu;function Gn(){}A(Gn,_r),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},vu=new Gn;function An(u,f,m,w){this.j=u,this.i=f,this.l=m,this.R=w||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new El}function El(){this.i=null,this.g="",this.h=!1}var Dr={},br={};function uo(u,f,m){u.L=1,u.v=ho(fn(f)),u.m=m,u.P=!0,Dl(u,null)}function Dl(u,f){u.F=Date.now(),Ze(u),u.A=fn(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),kl(m.i,"t",w),u.C=0,m=u.j.J,u.h=new El,u.g=Ql(u.j,m?f:null,!u.m),0<u.O&&(u.M=new gu(E(u.Y,u,u.g),u.O)),f=u.U,m=u.g,w=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(vr[0]=x.toString()),x=vr);for(var O=0;O<x.length;O++){var B=gl(m,x[O],w||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Er(),Tn(u.i,u.u,u.A,u.l,u.R,u.m)}An.prototype.ca=function(u){u=u.target;let f=this.M;f&&Vt(u)==3?f.j():this.Y(u)},An.prototype.Y=function(u){try{if(u==this.g)e:{let wt=Vt(this.g);var f=this.g.Ba();let hi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||jl(this.g)))){this.J||wt!=4||f==7||(f==8||0>=hi?Er(3):Er(2)),_u(this);var m=this.g.Z();this.X=m;t:if(bl(this)){var w=jl(this.g);u="";var x=w.length,O=Vt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),oi(this);var B="";break t}this.h.i=new c.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,u+=this.h.i.decode(w[f],{stream:!(O&&f==x-1)});w.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,ln(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var je,pt=this.g;if((je=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var Me=je;break t}}Me=null}if(m=Me)Qe(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wu(this,m);else{this.o=!1,this.s=3,ot(12),qn(this),oi(this);break e}}if(this.P){m=!0;let Wt;for(;!this.J&&this.C<B.length;)if(Wt=Bp(this,B),Wt==br){wt==4&&(this.s=4,ot(14),m=!1),Qe(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Dr){this.s=4,ot(15),Qe(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else Qe(this.i,this.l,Wt,null),wu(this,Wt);if(bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||B.length!=0||this.h.h||(this.s=1,ot(16),m=!1),this.o=this.o&&m,!m)Qe(this.i,this.l,B,"[Invalid Chunked Response]"),qn(this),oi(this);else if(0<B.length&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.ba&&!fe.M&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),li(fe),fe.M=!0,ot(11))}}else Qe(this.i,this.l,B,null),wu(this,B);wt==4&&qn(this),this.o&&!this.J&&(wt==4?ql(this.j,this):(this.o=!1,Ze(this)))}else Bl(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),qn(this),oi(this)}}}catch{}finally{}};function bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Bp(u,f){var m=u.C,w=f.indexOf(`
`,m);return w==-1?br:(m=Number(f.substring(m,w)),isNaN(m)?Dr:(w+=1,w+m>f.length?br:(f=f.slice(w,w+m),u.C=w+m,f)))}An.prototype.cancel=function(){this.J=!0,qn(this)};function Ze(u){u.S=Date.now()+u.I,co(u,u.I)}function co(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zn(E(u.ba,u),f)}function _u(u){u.B&&(c.clearTimeout(u.B),u.B=null)}An.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Zt(this.i,this.A),this.L!=2&&(Er(),ot(17)),qn(this),this.s=2,oi(this)):co(this,this.S-u)};function oi(u){u.j.G==0||u.J||ql(u.j,u)}function qn(u){_u(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Xi(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function wu(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Iu(m.h,u))){if(!u.K&&Iu(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var x=w;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)vo(m),Jt(m);else break e;Tu(m),ot(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=zn(E(m.Za,m),6e3));if(1>=Sl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Qn(m,11)}else if((u.K||m.g==u)&&vo(m),!J(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let Me=x[f];if(m.T=Me[0],Me=Me[1],m.G==2)if(Me[0]=="c"){m.K=Me[1],m.ia=Me[2];let fe=Me[3];fe!=null&&(m.la=fe,m.j.info("VER="+m.la));let wt=Me[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));let hi=Me[5];hi!=null&&typeof hi=="number"&&0<hi&&(w=1.5*hi,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;let Wt=u.g;if(Wt){let wo=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var O=w.h;O.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(lo(O,O.h),O.h=null))}if(w.D){let Su=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Su&&(w.ya=Su,Ye(w.I,w.D,Su))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var B=u;if(w.qa=Kl(w,w.J?w.ia:null,w.W),B.K){Eu(w.h,B);var je=B,pt=w.L;pt&&(je.I=pt),je.B&&(_u(je),Ze(je)),w.g=B}else Gl(w);0<m.i.length&&mo(m)}else Me[0]!="stop"&&Me[0]!="close"||Qn(m,7);else m.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Qn(m,7):ci(m):Me[0]!="noop"&&m.l&&m.l.ta(Me),m.v=0)}}Er(4)}catch{}}var $p=class{constructor(u,f){this.g=u,this.map=f}};function Cl(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sl(u){return u.h?1:u.g?u.g.size:0}function Iu(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function lo(u,f){u.g?u.g.add(f):u.h=f}function Eu(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Cl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let m of u.g.values())f=f.concat(m.D);return f}return V(u.i)}function Hp(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,w=0;w<m;w++)f.push(u[w]);return f}f=[],m=0;for(w in u)f[m++]=u[w];return f}function zp(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(let w in u)f[m++]=w;return f}}}function Du(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=zp(u),w=Hp(u),x=w.length,O=0;O<x;O++)f.call(void 0,w[O],m&&m[O],u)}var Ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function es(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),x=null;if(0<=w){var O=u[m].substring(0,w);x=u[m].substring(w+1)}else O=u[m];f(O,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function hn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hn){this.h=u.h,Wn(this,u.j),this.o=u.o,this.g=u.g,qt(this,u.s),this.l=u.l;var f=u.i,m=new rs;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Rl(this,m),this.m=u.m}else u&&(f=String(u).match(Ml))?(this.h=!1,Wn(this,f[1]||"",!0),this.o=ts(f[2]||""),this.g=ts(f[3]||"",!0),qt(this,f[4]),this.l=ts(f[5]||"",!0),Rl(this,f[6]||"",!0),this.m=ts(f[7]||"")):(this.h=!1,this.i=new rs(null,this.h))}hn.prototype.toString=function(){var u=[],f=this.j;f&&u.push(ns(f,Nl,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(ns(f,Nl,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ns(m,m.charAt(0)=="/"?bu:qp,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ns(m,xl)),u.join("")};function fn(u){return new hn(u)}function Wn(u,f,m){u.j=m?ts(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function qt(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Rl(u,f,m){f instanceof rs?(u.i=f,Yp(u.i,u.h)):(m||(f=ns(f,Wp)),u.i=new rs(f,u.h))}function Ye(u,f,m){u.i.set(f,m)}function ho(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ts(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,Gp),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Gp(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Nl=/[#\/\?@]/g,qp=/[#\?:]/g,bu=/[#\?]/g,Wp=/[#\?@]/g,xl=/#/g;function rs(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Yn(u){u.g||(u.g=new Map,u.h=0,u.i&&es(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=rs.prototype,n.add=function(u,f){Yn(this),this.i=null,u=ai(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function Pl(u,f){Yn(u),f=ai(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Ol(u,f){return Yn(u),f=ai(u,f),u.g.has(f)}n.forEach=function(u,f){Yn(this),this.g.forEach(function(m,w){m.forEach(function(x){u.call(f,x,w,this)},this)},this)},n.na=function(){Yn(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let w=0;w<f.length;w++){let x=u[w];for(let O=0;O<x.length;O++)m.push(f[w])}return m},n.V=function(u){Yn(this);let f=[];if(typeof u=="string")Ol(this,u)&&(f=f.concat(this.g.get(ai(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},n.set=function(u,f){return Yn(this),this.i=null,u=ai(this,u),Ol(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function kl(u,f,m){Pl(u,f),0<m.length&&(u.i=null,u.g.set(ai(u,f),V(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var w=f[m];let O=encodeURIComponent(String(w)),B=this.V(w);for(w=0;w<B.length;w++){var x=O;B[w]!==""&&(x+="="+encodeURIComponent(String(B[w]))),u.push(x)}}return this.i=u.join("&")};function ai(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function Yp(u,f){f&&!u.j&&(Yn(u),u.i=null,u.g.forEach(function(m,w){var x=w.toLowerCase();w!=x&&(Pl(this,w),kl(this,x,m))},u)),u.j=f}function Kp(u,f){let m=new tt;if(c.Image){let w=new Image;w.onload=C(Kn,m,"TestLoadImage: loaded",!0,f,w),w.onerror=C(Kn,m,"TestLoadImage: error",!1,f,w),w.onabort=C(Kn,m,"TestLoadImage: abort",!1,f,w),w.ontimeout=C(Kn,m,"TestLoadImage: timeout",!1,f,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else f(!1)}function Qp(u,f){let m=new tt,w=new AbortController,x=setTimeout(()=>{w.abort(),Kn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:w.signal}).then(O=>{clearTimeout(x),O.ok?Kn(m,"TestPingServer: ok",!0,f):Kn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Kn(m,"TestPingServer: error",!1,f)})}function Kn(u,f,m,w,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),w(m)}catch{}}function Zp(){this.g=new jp}function Jp(u,f,m){let w=m||"";try{Du(u,function(x,O){let B=x;h(x)&&(B=mu(x)),f.push(w+O+"="+encodeURIComponent(B))})}catch(x){throw f.push(w+"type="+encodeURIComponent("_badmap")),x}}function is(u){this.l=u.Ub||null,this.j=u.eb||!1}A(is,_r),is.prototype.g=function(){return new fo(this.l,this.j)},is.prototype.i=function(u){return function(){return u}}({});function fo(u,f){st.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(fo,st),n=fo.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Cr(this):Tr(this),this.readyState==3&&Fl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Cr(this))},n.Qa=function(u){this.g&&(this.response=u,Cr(this))},n.ga=function(){this.g&&Cr(this)};function Cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vl(u){let f="";return Z(u,function(m,w){f+=w,f+=":",f+=m,f+=`\r
`}),f}function po(u,f,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Vl(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ye(u,f,m))}function Xe(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Xe,st);var Xp=/^https?$/i,eg=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vu.g(),this.v=this.o?wr(this.o):wr(vu),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(O){Ll(this,O);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var x in w)m.set(x,w[x]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let O of w.keys())m.set(O,w.get(O));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),x=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eg,f,void 0))||w||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,B]of m)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ui(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){Ll(this,O)}};function Ll(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Ul(u),He(u)}function Ul(u){u.A||(u.A=!0,ye(u,"complete"),ye(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ye(this,"complete"),ye(this,"abort"),He(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cu(this):this.bb())},n.bb=function(){Cu(this)};function Cu(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vt(u)!=4||u.Z()!=2)){if(u.u&&Vt(u)==4)pu(u.Ea,0,u);else if(ye(u,"readystatechange"),Vt(u)==4){u.h=!1;try{let B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var w;if(w=B===0){var x=String(u.D).match(Ml)[1]||null;!x&&c.self&&c.self.location&&(x=c.self.location.protocol.slice(0,-1)),w=!Xp.test(x?x.toLowerCase():"")}m=w}if(m)ye(u,"complete"),ye(u,"success");else{u.m=6;try{var O=2<Vt(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",Ul(u)}}finally{He(u)}}}}function He(u,f){if(u.g){ui(u);let m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ye(u,"ready");try{m.onreadystatechange=w}catch{}}}function ui(u){u.I&&(c.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Vt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),oo(f)}};function jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(u){let f={};u=(u.g&&2<=Vt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(J(u[w]))continue;var m=N(u[w]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let O=f[x]||[];f[x]=O,O.push(m)}R(f,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function $l(u){this.Aa=0,this.i=[],this.j=new tt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Da=new Zp,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$l.prototype,n.la=8,n.G=1,n.connect=function(u,f,m,w){ot(0),this.W=u,this.H=f||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=Kl(this,null,this.W),mo(this)};function ci(u){if(go(u),u.G==3){var f=u.U++,m=fn(u.I);if(Ye(m,"SID",u.K),Ye(m,"RID",f),Ye(m,"TYPE","terminate"),Sr(u,m),f=new An(u,u.j,f),f.L=2,f.v=ho(fn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ql(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ze(f)}Yl(u)}function Jt(u){u.g&&(li(u),u.g.cancel(),u.g=null)}function go(u){Jt(u),u.u&&(c.clearTimeout(u.u),u.u=null),vo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function mo(u){if(!Tl(u.h)&&!u.s){u.s=!0;var f=u.Ga;qi||Yi(),Mt||(qi(),Mt=!0),Wi.add(f,u),u.B=0}}function Mn(u,f){return Sl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zn(E(u.Ga,u,f),Wl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new An(this,this.j,u),O=this.o;if(this.S&&(O?(O=I(O),M(O,this.S)):O=this.S),this.m!==null||this.O||(x.H=O,O=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=zl(this,x,f),m=fn(this.I),Ye(m,"RID",u),Ye(m,"CVER",22),this.D&&Ye(m,"X-HTTP-Session-Id",this.D),Sr(this,m),O&&(this.O?f="headers="+encodeURIComponent(String(Vl(O)))+"&"+f:this.m&&po(m,this.m,O)),lo(this.h,x),this.Ua&&Ye(m,"TYPE","init"),this.P?(Ye(m,"$req",f),Ye(m,"SID","null"),x.T=!0,uo(x,m,null)):uo(x,m,f),this.G=2}}else this.G==3&&(u?Hl(this,u):this.i.length==0||Tl(this.h)||Hl(this))};function Hl(u,f){var m;f?m=f.l:m=u.U++;let w=fn(u.I);Ye(w,"SID",u.K),Ye(w,"RID",m),Ye(w,"AID",u.T),Sr(u,w),u.m&&u.o&&po(w,u.m,u.o),m=new An(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=zl(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lo(u.h,m),uo(m,w,f)}function Sr(u,f){u.H&&Z(u.H,function(m,w){Ye(f,w,m)}),u.l&&Du({},function(m,w){Ye(f,w,m)})}function zl(u,f,m){m=Math.min(u.i.length,m);var w=u.l?E(u.l.Na,u.l,u):null;e:{var x=u.i;let O=-1;for(;;){let B=["count="+m];O==-1?0<m?(O=x[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let je=!0;for(let pt=0;pt<m;pt++){let Me=x[pt].g,fe=x[pt].map;if(Me-=O,0>Me)O=Math.max(0,x[pt].g-100),je=!1;else try{Jp(fe,B,"req"+Me+"_")}catch{w&&w(fe)}}if(je){w=B.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,w}function Gl(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;qi||Yi(),Mt||(qi(),Mt=!0),Wi.add(f,u),u.v=0}}function Tu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zn(E(u.Fa,u),Wl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zn(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Jt(this),yo(this))};function li(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function yo(u){u.g=new An(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=fn(u.qa);Ye(f,"RID","rpc"),Ye(f,"SID",u.K),Ye(f,"AID",u.T),Ye(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(f,"TO",u.ja),Ye(f,"TYPE","xmlhttp"),Sr(u,f),u.m&&u.o&&po(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=ho(fn(f)),m.m=null,m.P=!0,Dl(m,u)}n.Za=function(){this.C!=null&&(this.C=null,Jt(this),Tu(this),ot(19))};function vo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function ql(u,f){var m=null;if(u.g==f){vo(u),li(u),u.g=null;var w=2}else if(Iu(u.h,f))m=f.D,Eu(u.h,f),w=1;else return;if(u.G!=0){if(f.o)if(w==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=u.B;w=bt(),ye(w,new wl(w,m)),mo(u)}else Gl(u);else if(x=f.s,x==3||x==0&&0<f.X||!(w==1&&Mn(u,f)||w==2&&Tu(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),x){case 1:Qn(u,5);break;case 4:Qn(u,10);break;case 3:Qn(u,6);break;default:Qn(u,2)}}}function Wl(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Qn(u,f){if(u.j.info("Error code "+f),f==2){var m=E(u.fb,u),w=u.Xa;let x=!w;w=new hn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Wn(w,"https"),ho(w),x?Kp(w.toString(),m):Qp(w.toString(),m)}else ot(2);u.G=0,u.l&&u.l.sa(f),Yl(u),go(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Yl(u){if(u.G=0,u.ka=[],u.l){let f=Al(u.h);(f.length!=0||u.i.length!=0)&&(F(u.ka,f),F(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function Kl(u,f,m){var w=m instanceof hn?fn(m):new hn(m);if(w.g!="")f&&(w.g=f+"."+w.g),qt(w,w.s);else{var x=c.location;w=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var O=new hn(null);w&&Wn(O,w),f&&(O.g=f),x&&qt(O,x),m&&(O.l=m),w=O}return m=u.D,f=u.ya,m&&f&&Ye(w,m,f),Ye(w,"VER",u.la),Sr(u,w),w}function Ql(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Xe(new is({eb:m})):new Xe(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zl(){}n=Zl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(u,f){return new Rt(u,f)};function Rt(u,f){st.call(this),this.g=new $l(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!J(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new di(this)}A(Rt,st),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){ci(this.g)},Rt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=mu(u),u=m);f.i.push(new $p(f.Ya++,u)),f.G==3&&mo(f)},Rt.prototype.N=function(){this.g.l=null,delete this.j,ci(this.g),delete this.g,Rt.aa.N.call(this)};function Jl(u){q.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}A(Jl,q);function Ar(){yu.call(this),this.status=1}A(Ar,yu);function di(u){this.g=u}A(di,Zl),di.prototype.ua=function(){ye(this.g,"a")},di.prototype.ta=function(u){ye(this.g,new Jl(u))},di.prototype.sa=function(u){ye(this.g,new Ar)},di.prototype.ra=function(){ye(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,e_=Xr.createWebChannelTransport=function(){return new _o},Xv=Xr.getStatEventTarget=function(){return bt()},Jv=Xr.Event=Ir,Mf=Xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,Ac=Xr.ErrorCode=dn,Il.COMPLETE="complete",Zv=Xr.EventType=Il,ao.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",st.prototype.listen=st.prototype.K,Da=Xr.WebChannel=ao,Gj=Xr.FetchXmlHttpFactory=is,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Qv=Xr.XhrIo=Xe}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});var pS="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var qa="10.14.0";var Bs=new xi("@firebase/firestore");function Mc(){return Bs.logLevel}function K(n,...e){if(Bs.logLevel<=Se.DEBUG){let t=e.map(Lw);Bs.debug(`Firestore (${qa}): ${n}`,...t)}}function ei(n,...e){if(Bs.logLevel<=Se.ERROR){let t=e.map(Lw);Bs.error(`Firestore (${qa}): ${n}`,...t)}}function Na(n,...e){if(Bs.logLevel<=Se.WARN){let t=e.map(Lw);Bs.warn(`Firestore (${qa}): ${n}`,...t)}}function Lw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ae(n="Unexpected state"){let e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function ze(n,e){n||ae()}function de(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Of=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},s_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Et.UNAUTHENTICATED))}shutdown(){}},o_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},a_=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>S(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new Of(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Et(e)}},u_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},c_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new u_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},l_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},d_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);let r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new l_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var kf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=qj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Le(n,e){return n<e?-1:n>e?1:0}function xa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var St=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ff=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(),r===void 0?r=e.length-t:r>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},rt=class n extends Ff{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class n extends Ff{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new Q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new Q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(rt.fromString(e))}static fromName(e){return new n(rt.fromString(e).popFirst(5))}static empty(){return new n(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new rt(e.slice()))}};var h_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};h_.UNKNOWN_ID=-1;function Yj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new $s(i,re.empty(),e)}function Kj(n){return new $s(n.readTime,n.key,-1)}var $s=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ge.min(),re.empty(),-1)}static max(){return new n(ge.max(),re.empty(),-1)}};function Qj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}var Zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",f_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qc(n){return S(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==Zj)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let h=l;t(e[h]).next(y=>{o[h]=y,++c,c===s&&r(o)},y=>i(y))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Jj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wc(n){return n.name==="IndexedDbTransactionError"}var GS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function lp(n){return n==null}function kc(n){return n===0&&1/n==-1/0}function Xj(n){return typeof n=="number"&&Number.isInteger(n)&&!kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var eB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PY=[...eB,"documentOverlays"],tB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nB=tB,rB=[...nB,"indexConfiguration","indexState","indexEntries"];var OY=[...rB,"globals"];function gS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ys(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var it=class n{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sa(this.root,e,this.comparator,!0)}},Sa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,r,i,s){return this}insert(e,t,r){return new lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pt=class n{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vf(this.data.getIterator())}getIteratorFrom(e){return new Vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Vf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bn=class n{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Pt(sn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Lf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lf("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var iB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(n){if(ze(!!n),typeof n=="string"){let e=0,t=iB.exec(n);if(ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $i(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}function Uw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jw(n){let e=n.mapValue.fields.__previous_value__;return Uw(e)?jw(e):e}function Fc(n){let e=ti(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}var p_=class{constructor(e,t,r,i,s,o,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},Uf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uw(n)?4:YS(n)?9007199254740991:WS(n)?10:11:ae()}function fr(n,e){if(n===e)return!0;let t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fc(n).isEqual(Fc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ti(i.timestampValue),c=ti(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return $i(i.bytesValue).isEqual($i(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=et(i.doubleValue),c=et(s.doubleValue);return o===c?kc(o)===kc(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return xa(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(gS(o)!==gS(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!fr(o[l],c[l])))return!1;return!0}(n,e);default:return ae()}}function Vc(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Pa(n,e){if(n===e)return 0;let t=Hs(n),r=Hs(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return mS(n.timestampValue,e.timestampValue);case 4:return mS(Fc(n),Fc(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,o){let c=$i(s),l=$i(o);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){let y=Le(c[h],l[h]);if(y!==0)return y}return Le(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Le(et(s.latitude),et(o.latitude));return c!==0?c:Le(et(s.longitude),et(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yS(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,h,y;let _=s.fields||{},E=o.fields||{},C=(c=_.value)===null||c===void 0?void 0:c.arrayValue,A=(l=E.value)===null||l===void 0?void 0:l.arrayValue,V=Le(((h=C?.values)===null||h===void 0?void 0:h.length)||0,((y=A?.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:yS(C,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rf.mapValue&&o===Rf.mapValue)return 0;if(s===Rf.mapValue)return 1;if(o===Rf.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),h=o.fields||{},y=Object.keys(h);l.sort(),y.sort();for(let _=0;_<l.length&&_<y.length;++_){let E=Le(l[_],y[_]);if(E!==0)return E;let C=Pa(c[l[_]],h[y[_]]);if(C!==0)return C}return Le(l.length,y.length)}(n.mapValue,e.mapValue);default:throw ae()}}function mS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);let t=ti(n),r=ti(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function yS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Pa(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function Oa(n){return g_(n)}function g_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ti(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=g_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${g_(t.fields[o])}`;return i+"}"}(n.mapValue):ae()}function m_(n){return!!n&&"integerValue"in n}function Bw(n){return!!n&&"arrayValue"in n}function vS(n){return!!n&&"nullValue"in n}function _S(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function WS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(t)}setAll(e){let t=sn.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Nc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ys(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Nc(this.value))}};function KS(n){let e=[];return Ys(n.fields,(t,r)=>{let i=new sn([t]);if(xf(r)){let s=KS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}var jn=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),rn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ge.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ka=class{constructor(e,t){this.position=e,this.inclusive=t}};function wS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),t.key):r=Pa(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function IS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}var Fa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var jf=class{},_t=class n extends jf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new v_(e,t,r):t==="array-contains"?new I_(e,r):t==="in"?new E_(e,r):t==="not-in"?new D_(e,r):t==="array-contains-any"?new b_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new __(e,r):new w_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Pa(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pr=class n extends jf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return QS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function QS(n){return n.op==="and"}function ZS(n){return oB(n)&&QS(n)}function oB(n){for(let e of n.filters)if(e instanceof pr)return!1;return!0}function y_(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+Oa(n.value);if(ZS(n))return n.filters.map(e=>y_(e)).join(",");{let e=n.filters.map(t=>y_(t)).join(",");return`${n.op}(${e})`}}function JS(n,e){return n instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(n,e):n instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&JS(o,i.filters[c]),!0):!1}(n,e):void ae()}function XS(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${Oa(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(XS).join(" ,")+"}"}(n):"Filter"}var v_=class extends _t{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},__=class extends _t{constructor(e,t){super(e,"in",t),this.keys=eA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},w_=class extends _t{constructor(e,t){super(e,"not-in",t),this.keys=eA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function eA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var I_=class extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Bw(t)&&Vc(t.arrayValue,this.value)}},E_=class extends _t{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}},D_=class extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Vc(this.value.arrayValue,t)}},b_=class extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Bw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}};var C_=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function ES(n,e=null,t=[],r=[],i=null,s=null,o=null){return new C_(n,e,t,r,i,s,o)}function $w(n){let e=de(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>y_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oa(r)).join(",")),e.ue=t}return e.ue}function Hw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IS(n.startAt,e.startAt)&&IS(n.endAt,e.endAt)}function T_(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Va=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function aB(n,e,t,r,i,s,o,c){return new Va(n,e,t,r,i,s,o,c)}function tA(n){return new Va(n)}function DS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uB(n){return n.collectionGroup!==null}function xc(n){let e=de(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Pt(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fa(s,r))}),t.has(sn.keyField().canonicalString())||e.ce.push(new Fa(sn.keyField(),r))}return e.ce}function dr(n){let e=de(n);return e.le||(e.le=cB(e,xc(n))),e.le}function cB(n,e){if(n.limitType==="F")return ES(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fa(i.field,s)});let t=n.endAt?new ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ka(n.startAt.position,n.startAt.inclusive):null;return ES(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function S_(n,e,t){return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dp(n,e){return Hw(dr(n),dr(e))&&n.limitType===e.limitType}function nA(n){return`${$w(dr(n))}|lt:${n.limitType}`}function ba(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XS(i)).join(", ")}]`),lp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Oa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Oa(i)).join(",")),`Target(${r})`}(dr(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of xc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,l){let h=wS(o,c,l);return o.inclusive?h<=0:h<0}(r.startAt,xc(r),i)||r.endAt&&!function(o,c,l){let h=wS(o,c,l);return o.inclusive?h>=0:h>0}(r.endAt,xc(r),i))}(n,e)}function lB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rA(n){return(e,t)=>{let r=!1;for(let i of xc(n)){let s=dB(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dB(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):function(s,o,c){let l=o.data.field(s),h=c.data.field(s);return l!==null&&h!==null?Pa(l,h):ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Hi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}};var hB=new it(re.comparator);function ni(){return hB}var iA=new it(re.comparator);function Rc(...n){let e=iA;for(let t of n)e=e.insert(t.key,t);return e}function sA(n){let e=iA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return Pc()}function oA(){return Pc()}function Pc(){return new Hi(n=>n.toString(),(n,e)=>n.isEqual(e))}var fB=new it(re.comparator),pB=new Pt(re.comparator);function Ae(...n){let e=pB;for(let t of n)e=e.add(t);return e}var gB=new Pt(Le);function mB(){return gB}function zw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function aA(n){return{integerValue:""+n}}function yB(n,e){return Xj(e)?aA(e):zw(n,e)}var La=class{constructor(){this._=void 0}};function vB(n,e,t){return n instanceof Ua?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uw(s)&&(s=jw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof zs?cA(n,e):n instanceof Gs?lA(n,e):function(i,s){let o=uA(i,s),c=bS(o)+bS(i.Pe);return m_(o)&&m_(i.Pe)?aA(c):zw(i.serializer,c)}(n,e)}function _B(n,e,t){return n instanceof zs?cA(n,e):n instanceof Gs?lA(n,e):t}function uA(n,e){return n instanceof ja?function(r){return m_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ua=class extends La{},zs=class extends La{constructor(e){super(),this.elements=e}};function cA(n,e){let t=dA(e);for(let r of n.elements)t.some(i=>fr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Gs=class extends La{constructor(e){super(),this.elements=e}};function lA(n,e){let t=dA(e);for(let r of n.elements)t=t.filter(i=>!fr(i,r));return{arrayValue:{values:t}}}var ja=class extends La{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function bS(n){return et(n.integerValue||n.doubleValue)}function dA(n){return Bw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof zs&&i instanceof zs||r instanceof Gs&&i instanceof Gs?xa(r.elements,i.elements,fr):r instanceof ja&&i instanceof ja?fr(r.Pe,i.Pe):r instanceof Ua&&i instanceof Ua}(n.transform,e.transform)}var A_=class{constructor(e,t){this.version=e,this.transformResults=t}},ji=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ba=class{};function hA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bf(n.key,ji.none()):new qs(n.key,n.data,ji.none());{let t=n.data,r=rn.empty(),i=new Pt(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gr(n.key,r,new bn(i.toArray()),ji.none())}}function IB(n,e,t){n instanceof qs?function(i,s,o){let c=i.value.clone(),l=TS(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof gr?function(i,s,o){if(!Pf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=TS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fA(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Oc(n,e,t,r){return n instanceof qs?function(s,o,c,l){if(!Pf(s.precondition,o))return c;let h=s.value.clone(),y=SS(s.fieldTransforms,l,o);return h.setAll(y),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof gr?function(s,o,c,l){if(!Pf(s.precondition,o))return c;let h=SS(s.fieldTransforms,l,o),y=o.data;return y.setAll(fA(s)),y.setAll(h),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(s,o,c){return Pf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function EB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=uA(r.transform,i||null);s!=null&&(t===null&&(t=rn.empty()),t.set(r.field,s))}return t||null}function CS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xa(r,i,(s,o)=>wB(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var qs=class extends Ba{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gr=class extends Ba{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function fA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function TS(n,e,t){let r=new Map;ze(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,_B(o,c,t[i]))}return r}function SS(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,vB(s,o,e))}return r}var Bf=class extends Ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},M_=class extends Ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var R_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&IB(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=oA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let l=hA(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(t,r)=>CS(t,r))&&xa(this.baseMutations,e.baseMutations,(t,r)=>CS(t,r))}},N_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ze(e.mutations.length===r.length);let i=function(){return fB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var x_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var P_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ht,ke;function DB(n){switch(n){default:return ae();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function pA(n){if(n===void 0)return ei("GRPC error has no .code"),L.UNKNOWN;switch(n){case ht.OK:return L.OK;case ht.CANCELLED:return L.CANCELLED;case ht.UNKNOWN:return L.UNKNOWN;case ht.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ht.INTERNAL:return L.INTERNAL;case ht.UNAVAILABLE:return L.UNAVAILABLE;case ht.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ht.NOT_FOUND:return L.NOT_FOUND;case ht.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ht.ABORTED:return L.ABORTED;case ht.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ht.DATA_LOSS:return L.DATA_LOSS;default:return ae()}}(ke=ht||(ht={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var AS=null;function bB(){return new TextEncoder}var CB=new Ui([4294967295,4294967295],0);function MS(n){let e=bB().encode(n),t=new Kv;return t.update(e),new Uint8Array(t.digest())}function RS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ui([t,r],0),new Ui([i,s],0)]}var O_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new js(`Invalid padding: ${t}`);if(r<0)throw new js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new js(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new js(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ui.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ui.fromNumber(r)));return i.compare(CB)===1&&(i=new Ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=MS(e),[r,i]=RS(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=MS(e),[r,i]=RS(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},js=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $f=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ge.min(),i,new it(Le),ni(),Ae())}},Lc=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Ma=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Hf=class{constructor(e,t){this.targetId=e,this.me=t}},zf=class{constructor(e,t,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Gf=class{constructor(){this.fe=0,this.ge=xS(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Lc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=xS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},k_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=NS(),this.Qe=new it(Le)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(T_(s))if(r===0){let o=new re(s.path);this.Ue(t,o,jn.newNoDocument(o,ge.min()))}else ze(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}AS?.et(function(y,_,E,C,A){var V,F,H,J,X,me;let Ge={localCacheCount:y,existenceFilterCount:_.count,databaseId:E.database,projectId:E.projectId},Z=_.unchangedNames;return Z&&(Ge.bloomFilter={applied:A===0,hashCount:(V=Z?.hashCount)!==null&&V!==void 0?V:0,bitmapLength:(J=(H=(F=Z?.bits)===null||F===void 0?void 0:F.bitmap)===null||H===void 0?void 0:H.length)!==null&&J!==void 0?J:0,padding:(me=(X=Z?.bits)===null||X===void 0?void 0:X.padding)!==null&&me!==void 0?me:0,mightContain:R=>{var I;return(I=C?.mightContain(R))!==null&&I!==void 0&&I}}),Ge}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=$i(r).toUint8Array()}catch(l){if(l instanceof Lf)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new O_(o,i,s)}catch(l){return Na(l instanceof js?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&T_(c.target)){let l=new re(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,jn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Ae();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new $f(e,t,this.Qe,this.ke,r);return this.ke=ni(),this.qe=NS(),this.Qe=new it(Le),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Gf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Le),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function NS(){return new it(re.comparator)}function xS(){return new it(re.comparator)}var TB={asc:"ASCENDING",desc:"DESCENDING"},SB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AB={and:"AND",or:"OR"},F_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function V_(n,e){return n.useProto3Json||lp(e)?e:{value:e}}function qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MB(n,e){return qf(n,e.toTimestamp())}function hr(n){return ze(!!n),ge.fromTimestamp(function(t){let r=ti(t);return new St(r.seconds,r.nanos)}(n))}function Gw(n,e){return L_(n,e).canonicalString()}function L_(n,e){let t=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mA(n){let e=rt.fromString(n);return ze(IA(e)),e}function U_(n,e){return Gw(n.databaseId,e.path)}function t_(n,e){let t=mA(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(vA(t))}function yA(n,e){return Gw(n.databaseId,e)}function RB(n){let e=mA(n);return e.length===4?rt.emptyPath():vA(e)}function j_(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vA(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function PS(n,e,t){return{name:U_(n,e),fields:t.value.mapValue.fields}}function NB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,y){return h.useProto3Json?(ze(y===void 0||typeof y=="string"),Ot.fromBase64String(y||"")):(ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ot.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){let y=h.code===void 0?L.UNKNOWN:pA(h.code);return new Q(y,h.message||"")}(o);t=new zf(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=t_(n,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):ge.min(),c=new rn({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(i,s,o,c),h=r.targetIds||[],y=r.removedTargetIds||[];t=new Ma(h,y,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=t_(n,r.document),s=r.readTime?hr(r.readTime):ge.min(),o=jn.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Ma([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=t_(n,r.document),s=r.removedTargetIds||[];t=new Ma([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new P_(i,s),c=r.targetId;t=new Hf(c,o)}}return t}function xB(n,e){let t;if(e instanceof qs)t={update:PS(n,e.key,e.value)};else if(e instanceof Bf)t={delete:U_(n,e.key)};else if(e instanceof gr)t={update:PS(n,e.key,e.data),updateMask:BB(e.fieldMask)};else{if(!(e instanceof M_))return ae();t={verify:U_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Ua)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ja)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(n,e.precondition)),t}function PB(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(ge.min())&&(o=hr(s)),new A_(o,i.transformResults||[])}(t,e))):[]}function OB(n,e){return{documents:[yA(n,e.path)]}}function kB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yA(n,i);let s=function(h){if(h.length!==0)return wA(pr.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(h){if(h.length!==0)return h.map(y=>function(E){return{field:Ca(E.field),direction:LB(E.dir)}}(y))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=V_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:i}}function FB(n){let e=RB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ze(r===1);let y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(_){let E=_A(_);return E instanceof pr&&ZS(E)?E.getFilters():[E]}(t.where));let o=[];t.orderBy&&(o=function(_){return _.map(E=>function(A){return new Fa(Ta(A.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(_){let E;return E=typeof _=="object"?_.value:_,lp(E)?null:E}(t.limit));let l=null;t.startAt&&(l=function(_){let E=!!_.before,C=_.values||[];return new ka(C,E)}(t.startAt));let h=null;return t.endAt&&(h=function(_){let E=!_.before,C=_.values||[];return new ka(C,E)}(t.endAt)),aB(e,i,o,s,c,"F",l,h)}function VB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _A(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ta(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ta(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ta(t.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ta(t.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Ta(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(r=>_A(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function LB(n){return TB[n]}function UB(n){return SB[n]}function jB(n){return AB[n]}function Ca(n){return{fieldPath:n.canonicalString()}}function Ta(n){return sn.fromServerFormat(n.fieldPath)}function wA(n){return n instanceof _t?function(t){if(t.op==="=="){if(_S(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NAN"}};if(vS(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_S(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NOT_NAN"}};if(vS(t.value))return{unaryFilter:{field:Ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(t.field),op:UB(t.op),value:t.value}}}(n):n instanceof pr?function(t){let r=t.getFilters().map(i=>wA(i));return r.length===1?r[0]:{compositeFilter:{op:jB(t.op),filters:r}}}(n):ae()}function BB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uc=class n{constructor(e,t,r,i,s=ge.min(),o=ge.min(),c=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var B_=class{constructor(e){this.ct=e}};function $B(n){let e=FB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?S_(e,e.limit,"L"):e}var Wf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),kc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ti(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt($i(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?YS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):WS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ae()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(et(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Wf.vt=new Wf;var $_=class{constructor(){this.un=new H_}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve($s.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},H_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(rt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}};var FY=new Uint8Array(0);var ur=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);var jc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var z_=class{constructor(){this.changes=new Hi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var G_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var q_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Oc(r.mutation,i,bn.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Rc();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=ni(),o=Pc(),c=function(){return Pc()}();return t.forEach((l,h)=>{let y=r.get(h.key);i.has(h.key)&&(y===void 0||y.mutation instanceof gr)?s=s.insert(h.key,h):y!==void 0?(o.set(h.key,y.mutation.getFieldMask()),Oc(y.mutation,h,y.mutation.getFieldMask(),St.now())):o.set(h.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,y)=>o.set(h,y)),t.forEach((h,y)=>{var _;return c.set(h,new G_(y,(_=o.get(h))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Pc(),i=new it((o,c)=>o-c),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let y=r.get(l)||bn.empty();y=c.applyToLocalView(h,y),r.set(l,y);let _=(i.get(c.batchId)||Ae()).add(l);i=i.insert(c.batchId,_)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,y=l.value,_=oA();y.forEach(E=>{if(!s.has(E)){let C=hA(t.get(E),r.get(E));C!==null&&_.set(E,C),s=s.add(E)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):j.resolve(Us()),c=-1,l=s;return o.next(h=>j.forEach(h,(y,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{l=l.insert(y,E)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Ae())).next(y=>({batchId:c,changes:sA(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Rc();return this.indexManager.getCollectionParents(e,s).next(c=>j.forEach(c,l=>{let h=function(_,E){return new Va(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(y=>{y.forEach((_,E)=>{o=o.insert(_,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,h)=>{let y=h.getKey();o.get(y)===null&&(o=o.insert(y,jn.newInvalidDocument(y)))});let c=Rc();return o.forEach((l,h)=>{let y=s.get(l);y!==void 0&&Oc(y.mutation,h,bn.empty(),St.now()),hp(t,h)&&(c=c.insert(l,h))}),c})}};var W_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:$B(i.bundledQuery),readTime:hr(i.readTime)}}(t)),j.resolve()}};var Y_=class{constructor(){this.overlays=new it(re.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Us();return j.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=Us(),s=t.length+1,o=new re(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new it((h,y)=>h-y),o=this.overlays.getIterator();for(;o.hasNext();){let h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let y=s.get(h.largestBatchId);y===null&&(y=Us(),s=s.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}let c=Us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,y)=>c.set(h,y)),!(c.size()>=i)););return j.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x_(t,r));let s=this.Ir.get(t);s===void 0&&(s=Ae(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var K_=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var Bc=class{constructor(){this.Tr=new Pt(ft.Er),this.dr=new Pt(ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ft(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ft(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new re(new rt([])),r=new ft(t,e),i=new ft(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new re(new rt([])),r=new ft(t,e),i=new ft(t,e+1),s=Ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new ft(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ft=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return re.comparator(e.key,t.key)||Le(e.wr,t.wr)}static Ar(e,t){return Le(e.wr,t.wr)||re.comparator(e.key,t.key)}};var Q_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Pt(ft.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new R_(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new ft(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ft(t,0),i=new ft(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Le);return t.forEach(i=>{let s=new ft(i,0),o=new ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;re.isDocumentKey(s)||(s=s.child(""));let o=new ft(new re(s),0),c=new Pt(Le);return this.br.forEachWhile(l=>{let h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.wr)),!0)},o),j.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(t.mutations,i=>{let s=new ft(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ft(t,0),i=this.br.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Z_=class{constructor(e){this.Mr=e,this.docs=function(){return new it(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=ni();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ni(),o=t.path,c=new re(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:y}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Qj(Kj(y),r)<=0||(i.has(y.key)||hp(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ae()}Or(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J_(this)}getSize(e){return j.resolve(this.size)}},J_=class extends z_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var X_=class{constructor(e){this.persistence=e,this.Nr=new Hi(t=>$w(t),Hw),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bc,this.targetCount=0,this.kr=jc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var ew=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new GS(0),this.Kr=!1,this.Kr=!0,this.$r=new K_,this.referenceDelegate=e(this),this.Ur=new X_(this),this.indexManager=new $_,this.remoteDocumentCache=function(i){return new Z_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new B_(t),this.Gr=new W_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Q_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new tw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},tw=class extends f_{constructor(e){super(),this.currentSequenceNumber=e}},nw=class n{constructor(e){this.persistence=e,this.Jr=new Bc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var rw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ae(),i=Ae();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var iw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nT()?8:Jj(It())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new iw;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Mc()<=Se.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ba(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Mc()<=Se.DEBUG&&K("QueryEngine","Query:",ba(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Mc()<=Se.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ba(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):j.resolve())}Yi(e,t){if(DS(t))return j.resolve(null);let r=dr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=S_(t,null,"F"),r=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ae(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let h=this.ts(t,c);return this.ns(t,h,o,l.readTime)?this.Yi(e,S_(t,null,"F")):this.rs(e,h,t,l)}))})))}Zi(e,t,r,i){return DS(t)||i.isEqual(ge.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?j.resolve(null):(Mc()<=Se.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(t)),this.rs(e,o,t,Yj(i,-1)).next(c=>c))})}ts(e,t){let r=new Pt(rA(e));return t.forEach((i,s)=>{hp(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Mc()<=Se.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ba(t)),this.Ji.getDocumentsMatchingQuery(e,t,$s.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var ow=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new it(Le),this._s=new Hi(s=>$w(s),Hw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function HB(n,e,t,r){return new ow(n,e,t,r)}function EA(n,e){return S(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=Ae();for(let h of i){o.push(h.batchId);for(let y of h.mutations)l=l.add(y.key)}for(let h of s){c.push(h.batchId);for(let y of h.mutations)l=l.add(y.key)}return t.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})})}function zB(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,y){let _=h.batch,E=_.keys(),C=j.resolve();return E.forEach(A=>{C=C.next(()=>y.getEntry(l,A)).next(V=>{let F=h.docVersions.get(A);ze(F!==null),V.version.compareTo(F)<0&&(_.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),y.addEntry(V)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(l,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=Ae();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function DA(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function GB(n,e){let t=de(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((y,_)=>{let E=i.get(_);if(!E)return;c.push(t.Ur.removeMatchingKeys(s,y.removedDocuments,_).next(()=>t.Ur.addMatchingKeys(s,y.addedDocuments,_)));let C=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(Ot.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),i=i.insert(_,C),function(V,F,H){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,C,y)&&c.push(t.Ur.updateTargetData(s,C))});let l=ni(),h=Ae();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),c.push(qB(s,o,e.documentUpdates).next(y=>{l=y.Ps,h=y.Is})),!r.isEqual(ge.min())){let y=t.Ur.getLastRemoteSnapshotVersion(s).next(_=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(y)}return j.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(t.os=i,s))}function qB(n,e,t){let r=Ae(),i=Ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ni();return t.forEach((c,l)=>{let h=s.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function WB(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YB(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Uc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function aw(n,e,t){return S(this,null,function*(){let r=de(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Wc(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function OS(n,e,t){let r=de(n),i=ge.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,y){let _=de(l),E=_._s.get(y);return E!==void 0?j.resolve(_.os.get(E)):_.Ur.getTargetData(h,y)}(r,o,dr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ge.min(),t?s:Ae())).next(c=>(KB(r,lB(e),c),{documents:c,Ts:s})))}function KB(n,e,t){let r=n.us.get(e)||ge.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Yf=class{constructor(){this.activeTargetIds=mB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uw=class{constructor(){this.so=new Yf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cw=class{_o(e){}shutdown(){}};var Kf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nf=null;function n_(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}var QB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var lw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var xt="WebChannelConnection",dw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=n_(),l=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${c}:`,l,i);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(t,l,h,i).then(y=>(K("RestConnection",`Received RPC '${t}' ${c}: `,y),y),y=>{throw Na("RestConnection",`RPC '${t}' ${c} failed with error: `,y,"url: ",l,"request:",i),y})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=QB[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=n_();return new Promise((o,c)=>{let l=new Qv;l.setWithCredentials(!0),l.listenOnce(Zv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ac.NO_ERROR:let y=l.getResponseJson();K(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case Ac.TIMEOUT:K(xt,`RPC '${e}' ${s} timed out`),c(new Q(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let _=l.getStatus();if(K(xt,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let E=l.getResponseJson();Array.isArray(E)&&(E=E[0]);let C=E?.error;if(C&&C.status&&C.message){let A=function(F){let H=F.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(H)>=0?H:L.UNKNOWN}(C.status);c(new Q(A,C.message))}else c(new Q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Q(L.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{K(xt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);K(xt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}Bo(e,t,r){let i=n_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e_(),c=Xv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let y=s.join("");K(xt,`Creating RPC '${e}' stream ${i}: ${y}`,l);let _=o.createWebChannel(y,l),E=!1,C=!1,A=new lw({Io:F=>{C?K(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(E||(K(xt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),K(xt,`RPC '${e}' stream ${i} sending:`,F),_.send(F))},To:()=>_.close()}),V=(F,H,J)=>{F.listen(H,X=>{try{J(X)}catch(me){setTimeout(()=>{throw me},0)}})};return V(_,Da.EventType.OPEN,()=>{C||(K(xt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),V(_,Da.EventType.CLOSE,()=>{C||(C=!0,K(xt,`RPC '${e}' stream ${i} transport closed`),A.So())}),V(_,Da.EventType.ERROR,F=>{C||(C=!0,Na(xt,`RPC '${e}' stream ${i} transport errored:`,F),A.So(new Q(L.UNAVAILABLE,"The operation could not be completed")))}),V(_,Da.EventType.MESSAGE,F=>{var H;if(!C){let J=F.data[0];ze(!!J);let X=J,me=X.error||((H=X[0])===null||H===void 0?void 0:H.error);if(me){K(xt,`RPC '${e}' stream ${i} received error:`,me);let Ge=me.status,Z=function(D){let M=ht[D];if(M!==void 0)return pA(M)}(Ge),R=me.message;Z===void 0&&(Z=L.INTERNAL,R="Unknown error status: "+Ge+" with message "+me.message),C=!0,A.So(new Q(Z,R)),_.close()}else K(xt,`RPC '${e}' stream ${i} received:`,J),A.bo(J)}}),V(c,Jv.STAT_EVENT,F=>{F.stat===Mf.PROXY?K(xt,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Mf.NOPROXY&&K(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function r_(){return typeof document<"u"?document:null}function fp(n){return new F_(n,!0)}var Qf=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Zf=class{constructor(e,t,r,i,s,o,c,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hw=class extends Zf{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=NB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?hr(o.readTime):ge.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=j_(this.serializer),t.addTarget=function(s,o){let c,l=o.target;if(c=T_(l)?{documents:OB(s,l)}:{query:kB(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=gA(s,o.resumeToken);let h=V_(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ge.min())>0){c.readTime=qf(s,o.snapshotVersion.toTimestamp());let h=V_(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let r=VB(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=j_(this.serializer),t.removeTarget=e,this.a_(t)}},fw=class extends Zf{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=PB(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=j_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>xB(this.serializer,r))};this.a_(t)}};var pw=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,L_(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(L.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,L_(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},gw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var mw=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){Ks(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(l){return S(this,null,function*(){let h=de(l);h.L_.add(4),yield Yc(h),h.q_.set("Unknown"),h.L_.delete(4),yield pp(h)})}(this))}))}),this.q_=new gw(r,i)}};function pp(n){return S(this,null,function*(){if(Ks(n))for(let e of n.B_)yield e(!0)})}function Yc(n){return S(this,null,function*(){for(let e of n.B_)yield e(!1)})}function bA(n,e){let t=de(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Kw(t)?Yw(t):Wa(t).r_()&&Ww(t,e))}function qw(n,e){let t=de(n),r=Wa(t);t.N_.delete(e),r.r_()&&CA(t,e),t.N_.size===0&&(r.r_()?r.o_():Ks(t)&&t.q_.set("Unknown"))}function Ww(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wa(n).A_(e)}function CA(n,e){n.Q_.xe(e),Wa(n).R_(e)}function Yw(n){n.Q_=new k_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Wa(n).start(),n.q_.v_()}function Kw(n){return Ks(n)&&!Wa(n).n_()&&n.N_.size>0}function Ks(n){return de(n).L_.size===0}function TA(n){n.Q_=void 0}function ZB(n){return S(this,null,function*(){n.q_.set("Online")})}function JB(n){return S(this,null,function*(){n.N_.forEach((e,t)=>{Ww(n,e)})})}function XB(n,e){return S(this,null,function*(){TA(n),Kw(n)?(n.q_.M_(e),Yw(n)):n.q_.set("Unknown")})}function e$(n,e,t){return S(this,null,function*(){if(n.q_.set("Online"),e instanceof zf&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jf(n,r)}else if(e instanceof Ma?n.Q_.Ke(e):e instanceof Hf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ge.min()))try{let r=yield DA(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let y=s.N_.get(h);y&&s.N_.set(h,y.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,h)=>{let y=s.N_.get(l);if(!y)return;s.N_.set(l,y.withResumeToken(Ot.EMPTY_BYTE_STRING,y.snapshotVersion)),CA(s,l);let _=new Uc(y.target,l,h,y.sequenceNumber);Ww(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Jf(n,r)}})}function Jf(n,e,t){return S(this,null,function*(){if(!Wc(e))throw e;n.L_.add(1),yield Yc(n),n.q_.set("Offline"),t||(t=()=>DA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield pp(n)}))})}function SA(n,e){return e().catch(t=>Jf(n,t,e))}function gp(n){return S(this,null,function*(){let e=de(n),t=zi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;t$(e);)try{let i=yield WB(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,n$(e,i)}catch(i){yield Jf(e,i)}AA(e)&&MA(e)})}function t$(n){return Ks(n)&&n.O_.length<10}function n$(n,e){n.O_.push(e);let t=zi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function AA(n){return Ks(n)&&!zi(n).n_()&&n.O_.length>0}function MA(n){zi(n).start()}function r$(n){return S(this,null,function*(){zi(n).p_()})}function i$(n){return S(this,null,function*(){let e=zi(n);for(let t of n.O_)e.m_(t.mutations)})}function s$(n,e,t){return S(this,null,function*(){let r=n.O_.shift(),i=N_.from(r,e,t);yield SA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gp(n)})}function o$(n,e){return S(this,null,function*(){e&&zi(n).V_&&(yield function(r,i){return S(this,null,function*(){if(function(o){return DB(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();zi(r).s_(),yield SA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gp(r)}})}(n,e)),AA(n)&&MA(n)})}function kS(n,e){return S(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Ks(t);t.L_.add(3),yield Yc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield pp(t)})}function a$(n,e){return S(this,null,function*(){let t=de(n);e?(t.L_.delete(2),yield pp(t)):e||(t.L_.add(2),yield Yc(t),t.q_.set("Unknown"))})}function Wa(n){return n.K_||(n.K_=function(t,r,i){let s=de(t);return s.w_(),new hw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:ZB.bind(null,n),Ro:JB.bind(null,n),mo:XB.bind(null,n),d_:e$.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.K_.s_(),Kw(n)?Yw(n):n.q_.set("Unknown")):(yield n.K_.stop(),TA(n))}))),n.K_}function zi(n){return n.U_||(n.U_=function(t,r,i){let s=de(t);return s.w_(),new fw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r$.bind(null,n),mo:o$.bind(null,n),f_:i$.bind(null,n),g_:s$.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.U_.s_(),yield gp(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var yw=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Qw(n,e){if(ei("AsyncQueue",`${e}: ${n}`),Wc(n))return new Q(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Xf=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ep=class{constructor(){this.W_=new it(re.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},$a=class n{constructor(e,t,r,i,s,o,c,l,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,Xf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var vw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},_w=class{constructor(){this.queries=FS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=de(t),s=i.queries;i.queries=FS(),s.forEach((o,c)=>{for(let l of c.j_)l.onError(r)})})(this,new Q(L.ABORTED,"Firestore shutting down"))}};function FS(){return new Hi(n=>nA(n),dp)}function u$(n,e){return S(this,null,function*(){let t=de(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new vw,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=Qw(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Zw(t)})}function c$(n,e){return S(this,null,function*(){let t=de(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function l$(n,e){let t=de(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Zw(t)}function d$(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Zw(n){n.Y_.forEach(e=>{e.next()})}var ww,VS;(VS=ww||(ww={})).ea="default",VS.Cache="cache";var Iw=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ww.Cache}};var tp=class{constructor(e){this.key=e}},np=class{constructor(e){this.key=e}},Ew=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=rA(e),this.Ra=new Xf(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new ep,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,_)=>{let E=i.get(y),C=hp(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),F=!1;E&&C?E.data.isEqual(C.data)?A!==V&&(r.track({type:3,doc:C}),F=!0):this.ga(E,C)||(r.track({type:2,doc:C}),F=!0,(l&&this.Aa(C,l)>0||h&&this.Aa(C,h)<0)&&(c=!0)):!E&&C?(r.track({type:0,doc:C}),F=!0):E&&!C&&(r.track({type:1,doc:E}),F=!0,(l||h)&&(c=!0)),F&&(C?(o=o.add(C),s=V?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let y=this.query.limitType==="F"?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((y,_)=>function(C,A){let V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return V(C)-V(A)}(y.type,_.type)||this.Aa(y.doc,_.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new $a(this.query,e.Ra,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ep,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new np(r))}),this.da.forEach(r=>{e.has(r)||t.push(new tp(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return $a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Dw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},bw=class{constructor(e){this.key=e,this.va=!1}},Cw=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Hi(c=>nA(c),dp),this.Ma=new Map,this.xa=new Set,this.Oa=new it(re.comparator),this.Na=new Map,this.La=new Bc,this.Ba={},this.ka=new Map,this.qa=jc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function h$(n,e,t=!0){return S(this,null,function*(){let r=kA(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield RA(r,e,t,!0),i})}function f$(n,e){return S(this,null,function*(){let t=kA(n);yield RA(t,e,!0,!1)})}function RA(n,e,t,r){return S(this,null,function*(){let i=yield YB(n.localStore,dr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield p$(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&bA(n.remoteStore,i),c})}function p$(n,e,t,r,i){return S(this,null,function*(){n.Ka=(_,E,C)=>function(V,F,H,J){return S(this,null,function*(){let X=F.view.ma(H);X.ns&&(X=yield OS(V.localStore,F.query,!1).then(({documents:R})=>F.view.ma(R,X)));let me=J&&J.targetChanges.get(F.targetId),Ge=J&&J.targetMismatches.get(F.targetId)!=null,Z=F.view.applyChanges(X,V.isPrimaryClient,me,Ge);return US(V,F.targetId,Z.wa),Z.snapshot})}(n,_,E,C);let s=yield OS(n.localStore,e,!0),o=new Ew(e,s.Ts),c=o.ma(s.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(c,n.isPrimaryClient,l);US(n,t,h.wa);let y=new Dw(e,t,o);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),h.snapshot})}function g$(n,e,t){return S(this,null,function*(){let r=de(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!dp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&qw(r.remoteStore,i.targetId),Tw(r,i.targetId)}).catch(qc))):(Tw(r,i.targetId),yield aw(r.localStore,i.targetId,!0))})}function m$(n,e){return S(this,null,function*(){let t=de(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qw(t.remoteStore,r.targetId))})}function y$(n,e,t){return S(this,null,function*(){let r=b$(n);try{let i=yield function(o,c){let l=de(o),h=St.now(),y=c.reduce((C,A)=>C.add(A.key),Ae()),_,E;return l.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=ni(),V=Ae();return l.cs.getEntries(C,y).next(F=>{A=F,A.forEach((H,J)=>{J.isValidDocument()||(V=V.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(C,A)).next(F=>{_=F;let H=[];for(let J of c){let X=EB(J,_.get(J.key).overlayedDocument);X!=null&&H.push(new gr(J.key,X,KS(X.value.mapValue),ji.exists(!0)))}return l.mutationQueue.addMutationBatch(C,h,H,c)}).next(F=>{E=F;let H=F.applyToLocalDocumentSet(_,V);return l.documentOverlayCache.saveOverlays(C,F.batchId,H)})}).then(()=>({batchId:E.batchId,changes:sA(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new it(Le)),h=h.insert(c,l),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,t),yield Kc(r,i.changes),yield gp(r.remoteStore)}catch(i){let s=Qw(i,"Failed to persist write");t.reject(s)}})}function NA(n,e){return S(this,null,function*(){let t=de(n);try{let r=yield GB(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ze(o.va):i.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),yield Kc(t,r,e)}catch(r){yield qc(r)}})}function LS(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let l=de(o);l.onlineState=c;let h=!1;l.queries.forEach((y,_)=>{for(let E of _.j_)E.Z_(c)&&(h=!0)}),h&&Zw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function v$(n,e,t){return S(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new it(re.comparator);o=o.insert(s,jn.newNoDocument(s,ge.min()));let c=Ae().add(s),l=new $f(ge.min(),new Map,new it(Le),o,c);yield NA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Jw(r)}else yield aw(r.localStore,e,!1).then(()=>Tw(r,e,t)).catch(qc)})}function _$(n,e){return S(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield zB(t.localStore,e);PA(t,r,null),xA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(t,i)}catch(i){yield qc(i)}})}function w$(n,e,t){return S(this,null,function*(){let r=de(n);try{let i=yield function(o,c){let l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let y;return l.mutationQueue.lookupMutationBatch(h,c).next(_=>(ze(_!==null),y=_.keys(),l.mutationQueue.removeMutationBatch(h,_))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,y,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y)).next(()=>l.localDocuments.getDocuments(h,y))})}(r.localStore,e);PA(r,e,t),xA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(r,i)}catch(i){yield qc(i)}})}function xA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function PA(n,e,t){let r=de(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Tw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||OA(n,r)})}function OA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(qw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Jw(n))}function US(n,e,t){for(let r of t)r instanceof tp?(n.La.addReference(r.key,e),I$(n,r)):r instanceof np?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||OA(n,r.key)):ae()}function I$(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),Jw(n))}function Jw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new re(rt.fromString(e)),r=n.qa.next();n.Na.set(r,new bw(t)),n.Oa=n.Oa.insert(t,r),bA(n.remoteStore,new Uc(dr(tA(t.path)),r,"TargetPurposeLimboResolution",GS.oe))}}function Kc(n,e,t){return S(this,null,function*(){let r=de(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{o.push(r.Ka(l,e,t).then(h=>{var y;if((h||t)&&r.isPrimaryClient){let _=h?!h.fromCache:(y=t?.targetChanges.get(l.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(l.targetId,_?"current":"not-current")}if(h){i.push(h);let _=rw.Wi(l.targetId,h);s.push(_)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,h){return S(this,null,function*(){let y=de(l);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>j.forEach(h,E=>j.forEach(E.$i,C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C)).next(()=>j.forEach(E.Ui,C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))}catch(_){if(!Wc(_))throw _;K("LocalStore","Failed to update sequence numbers: "+_)}for(let _ of h){let E=_.targetId;if(!_.fromCache){let C=y.os.get(E),A=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(A);y.os=y.os.insert(E,V)}}})}(r.localStore,s))})}function E$(n,e){return S(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield EA(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new Q(L.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(t,r.hs)}})}function D$(n,e){let t=de(n),r=t.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function kA(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v$.bind(null,e),e.Ca.d_=l$.bind(null,e.eventManager),e.Ca.$a=d$.bind(null,e.eventManager),e}function b$(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w$.bind(null,e),e}var jS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=fp(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return HB(this.persistence,new sw,t.initialUser,this.serializer)}Ga(t){return new ew(nw.Zr,this.serializer)}Wa(t){return new uw}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var C$=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E$.bind(null,this.syncEngine),yield a$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new _w}()}createDatastore(t){let r=fp(t.databaseInfo.databaseId),i=function(o){return new dw(o)}(t.databaseInfo);return function(o,c,l,h){return new pw(o,c,l,h)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,l){return new mw(i,s,o,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>LS(this.syncEngine,r,0),function(){return Kf.D()?new Kf:new cw}())}createSyncEngine(t,r){return function(s,o,c,l,h,y,_){let E=new Cw(s,o,c,l,h,y);return _&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield function(s){return S(this,null,function*(){let o=de(s);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Yc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Sw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Aw=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>S(this,null,function*(){K("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Qw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function i_(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield EA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function BS(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield T$(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>kS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>kS(e.remoteStore,i)),n._onlineComponents=e})}function T$(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield i_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Na("Error using user provided cache. Falling back to memory cache: "+t),yield i_(n,new jS)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield i_(n,new jS);return n._offlineComponents})}function FA(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield BS(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield BS(n,new C$))),n._onlineComponents})}function S$(n){return FA(n).then(e=>e.syncEngine)}function A$(n){return S(this,null,function*(){let e=yield FA(n),t=e.eventManager;return t.onListen=h$.bind(null,e.syncEngine),t.onUnlisten=g$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m$.bind(null,e.syncEngine),t})}function M$(n,e,t={}){let r=new cr;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,c,l,h){let y=new Sw({next:E=>{y.Za(),o.enqueueAndForget(()=>c$(s,_)),E.fromCache&&l.source==="server"?h.reject(new Q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(E)},error:E=>h.reject(E)}),_=new Iw(c,y,{includeMetadataChanges:!0,_a:!0});return u$(s,_)}(yield A$(n),n.asyncQueue,e,t,r)})),r.promise}function VA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $S=new Map;function LA(n,e,t){if(!t)throw new Q(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R$(n,e,t,r){if(e===!0&&r===!0)throw new Q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HS(n){if(!re.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zS(n){if(re.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function Ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Xw(n);throw new Q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ha=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s_;switch(r.type){case"firstParty":return new c_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=$S.get(t);r&&(K("ComponentProvider","Removing Datastore"),$S.delete(t),r.terminate())}(this),Promise.resolve()}};function UA(n,e,t,r={}){var i;let s=(n=Ws(n,Ha))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=Et.MOCK_USER;else{c=QC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(h)}n._authCredentials=new o_(new Of(c,l))}}var ip=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},on=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Bi=class n extends ip{constructor(e,t,r){super(e,t,tA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function jA(n,e,...t){if(n=Nt(n),LA("collection","path",e),n instanceof Ha){let r=rt.fromString(e,...t);return zS(r),new Bi(n,null,r)}{if(!(n instanceof on||n instanceof Bi))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(rt.fromString(e,...t));return zS(r),new Bi(n.firestore,null,r)}}function mp(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=kf.newId()),LA("doc","path",e),n instanceof Ha){let r=rt.fromString(e,...t);return HS(r),new on(n,null,new re(r))}{if(!(n instanceof on||n instanceof Bi))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(rt.fromString(e,...t));return HS(r),new on(n.firestore,n instanceof Bi?n.converter:null,new re(r))}}var sp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qf(this,"async_queue_retry"),this.Vu=()=>{let r=r_();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=r_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=r_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=yw.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var za=class extends Ha{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sp(e),this._firestoreClient=void 0,yield e}})}};function eI(n,e){let t=typeof n=="object"?n:ya(),r=typeof n=="string"?n:e||"(default)",i=yc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=KC("firestore");s&&UA(i,...s)}return i}function BA(n){if(n._terminated)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N$(n),n._firestoreClient}function N$(n){var e,t,r;let i=n._freezeSettings(),s=function(c,l,h,y){return new p_(c,l,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VA(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Aw(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var $c=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ot.fromBase64String(e))}catch(t){throw new Q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ga=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Hc=class{constructor(e){this._methodName=e}};var zc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var Gc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var x$=/^__.*__$/,Mw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,t,this.fieldTransforms):new qs(e,this.data,t,this.fieldTransforms)}},op=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function $A(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Rw=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return up(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($A(this.Cu)&&x$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Nw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fp(e)}Qu(e,t,r,i=!1){return new Rw({Cu:e,methodName:t,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HA(n){let e=n._freezeSettings(),t=fp(n._databaseId);return new Nw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P$(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);tI("Data must be an object, but it was:",o,r);let c=zA(r,o),l,h;if(s.merge)l=new bn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){let y=[];for(let _ of s.mergeFields){let E=xw(e,_,t);if(!o.contains(E))throw new Q(L.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);qA(y,E)||y.push(E)}l=new bn(y),h=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,h=o.fieldTransforms;return new Mw(new rn(c),l,h)}var ap=class n extends Hc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function O$(n,e,t,r){let i=n.Qu(1,e,t);tI("Data must be an object, but it was:",i,r);let s=[],o=rn.empty();Ys(r,(l,h)=>{let y=nI(e,l,t);h=Nt(h);let _=i.Nu(y);if(h instanceof ap)s.push(y);else{let E=yp(h,_);E!=null&&(s.push(y),o.set(y,E))}});let c=new bn(s);return new op(o,c,i.fieldTransforms)}function k$(n,e,t,r,i,s){let o=n.Qu(1,e,t),c=[xw(e,r,t)],l=[i];if(s.length%2!=0)throw new Q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)c.push(xw(e,s[E])),l.push(s[E+1]);let h=[],y=rn.empty();for(let E=c.length-1;E>=0;--E)if(!qA(h,c[E])){let C=c[E],A=l[E];A=Nt(A);let V=o.Nu(C);if(A instanceof ap)h.push(C);else{let F=yp(A,V);F!=null&&(h.push(C),y.set(C,F))}}let _=new bn(h);return new op(y,_,o.fieldTransforms)}function yp(n,e){if(GA(n=Nt(n)))return tI("Unsupported field value:",e,n),zA(n,e);if(n instanceof Hc)return function(r,i){if(!$A(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let l=yp(c,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=St.fromDate(r);return{timestampValue:qf(i.serializer,s)}}if(r instanceof St){let s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(i.serializer,s)}}if(r instanceof zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $c)return{bytesValue:gA(i.serializer,r._byteString)};if(r instanceof on){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gc)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return zw(c.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xw(r)}`)}(n,e)}function zA(n,e){let t={};return qS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(n,(r,i)=>{let s=yp(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function GA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof zc||n instanceof $c||n instanceof on||n instanceof Hc||n instanceof Gc)}function tI(n,e,t){if(!GA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Xw(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function xw(n,e,t){if((e=Nt(e))instanceof Ga)return e._internalPath;if(typeof e=="string")return nI(n,e);throw up("Field path arguments must be of type string or ",n,!1,void 0,t)}var F$=new RegExp("[~\\*/\\[\\]]");function nI(n,e,t){if(e.search(F$)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ga(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function up(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(L.INVALID_ARGUMENT,c+n+l)}function qA(n,e){return n.some(t=>t.isEqual(e))}var cp=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(WA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Pw=class extends cp{data(){return super.data()}};function WA(n,e){return typeof e=="string"?nI(n,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}function V$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ow=class{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ys(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new Gc(s)}convertGeoPoint(e){return new zc(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=jw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){let t=ti(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=rt.fromString(e);ze(IA(r));let i=new Uf(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(t)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function L$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Aa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kw=class extends cp{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(WA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ra=class extends kw{data(e={}){return super.data(e)}},Fw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ra(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new Ra(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Aa(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Ra(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Aa(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),h=-1,y=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:U$(c.type),doc:l,oldIndex:h,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function U$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}var Vw=class extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}};function Ya(n){n=Ws(n,ip);let e=Ws(n.firestore,za),t=BA(e),r=new Vw(e);return V$(n._query),M$(t,n._query).then(i=>new Fw(e,r,n,i))}function rI(n,e,t){n=Ws(n,on);let r=Ws(n.firestore,za),i=L$(n.converter,e,t);return YA(r,[P$(HA(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ji.none())])}function iI(n,e,t,...r){n=Ws(n,on);let i=Ws(n.firestore,za),s=HA(i),o;return o=typeof(e=Nt(e))=="string"||e instanceof Ga?k$(s,"updateDoc",n._key,e,t,r):O$(s,"updateDoc",n._key,e),YA(i,[o.toMutation(n._key,ji.exists(!0))])}function YA(n,e){return function(r,i){let s=new cr;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return y$(yield S$(r),i,s)})),s.promise}(BA(n),e)}(function(e,t=!0){(function(i){qa=i})(ki),Oi(new Dn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new za(new a_(r.getProvider("auth-internal")),new d_(r.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(h.options.projectId,y)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),vt(pS,"4.7.3",e),vt(pS,"4.7.3","esm2017")})();var Qs=class{constructor(e){return e}},KA="firestore",sI=class{constructor(){return vc(KA)}};var oI=new te("angularfire2.firestore-instances");function j$(n,e){let t=cf(KA,n,e);return t&&new Qs(t)}function B$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qs(r)}}var $$={provide:sI,deps:[[new $t,oI]]},H$={provide:Qs,useFactory:j$,deps:[[new $t,oI],Qr]};function QA(n,...e){return vt("angularfire",Ps.full,"fst"),sr([H$,$$,{provide:oI,useFactory:B$(n),multi:!0,deps:[qe,Kt,wa,Os,[new $t,Sc],[new $t,_a],...e]}])}var vp=_c(jA,!0);var Qa=rx(ZA());var uI=()=>({standalone:!0});function q$(n,e){if(n&1){let t=Qu();ne(0,"form",5,0),Gt("ngSubmit",function(){Ln(t);let i=tn(3);return Un(i.login())}),ne(2,"input",6),da("ngModelChange",function(i){Ln(t);let s=tn(3);return Ju(s.guestId,i)||(s.guestId=i),Un(i)}),se(),ne(3,"button",7),G(4,"Login"),se()()}if(n&2){let t=_y(1),r=tn(3);Be(2),la("ngModel",r.guestId),Be(),We("disabled",t.invalid)}}function W$(n,e){if(n&1&&(ua(0),ne(1,"p"),G(2," Bitte melde dich mit dem PIN "),ie(3,"br"),G(4," auf deiner Einladung an, um alle Informationen "),ie(5,"br"),G(6," zu bekommen und zu- bzw. absagen zu k\xF6nnen. "),se(),In(7,q$,5,2,"form",4),ca()),n&2){let t=tn(2);Be(7),We("ngIf",!t.loggedIn)}}function Y$(n,e){n&1&&(ne(0,"p")(1,"b"),G(2,"Du bist jetzt eingeloggt"),se()())}function K$(n,e){n&1&&(ne(0,"p")(1,"b"),G(2,"Ihr seid jetzt eingeloggt"),se()())}function Q$(n,e){if(n&1){let t=Qu();ne(0,"p",21)(1,"span"),G(2),se(),ne(3,"select",22),da("ngModelChange",function(i){let s=Ln(t).$implicit;return Ju(s.zusage,i)||(s.zusage=i),Un(i)}),ne(4,"option",23),G(5,"Keine Angabe"),se(),ne(6,"option",23),G(7,"Zusage"),se(),ne(8,"option",23),G(9,"Absage"),se()()()}if(n&2){let t=e.$implicit;Be(2),Zu(t.name),Be(),la("ngModel",t.zusage),We("ngModelOptions",Vh(6,uI)),Be(),We("value",99),Be(2),We("value",1),Be(2),We("value",0)}}function Z$(n,e){n&1&&(ne(0,"span"),G(1,"Bitte trage hier ein, "),ie(2,"br"),G(3,"was du mitbringen m\xF6chtest."),se())}function J$(n,e){n&1&&(ne(0,"span"),G(1,"Bitte tragt hier ein, "),ie(2,"br"),G(3,"was ihr mitbringen m\xF6chtet."),se())}function X$(n,e){if(n&1){let t=Qu();ne(0,"div",24)(1,"input",25),da("ngModelChange",function(i){let s=Ln(t).$implicit;return Ju(s.gericht,i)||(s.gericht=i),Un(i)}),se(),ne(2,"select",26),da("ngModelChange",function(i){let s=Ln(t).$implicit;return Ju(s.pikant,i)||(s.pikant=i),Un(i)}),ne(3,"option",23),G(4,"Pikant"),se(),ne(5,"option",23),G(6,"S\xFC\xDF"),se()(),ne(7,"div",27),Gt("click",function(){let i=Ln(t).index,s=tn(3);return Un(s.removeEssen(i))}),G(8,"L\xF6schen"),se()()}if(n&2){let t=e.$implicit;Be(),la("ngModel",t.gericht),We("ngModelOptions",Vh(6,uI)),Be(),la("ngModel",t.pikant),We("ngModelOptions",Vh(7,uI)),Be(),We("value",!0),Be(2),We("value",!1)}}function eH(n,e){if(n&1&&(ne(0,"div"),G(1),se()),n&2){let t=e.$implicit;Be(),Zu(t)}}function tH(n,e){if(n&1&&(ne(0,"div"),G(1),se()),n&2){let t=e.$implicit;Be(),Zu(t)}}function nH(n,e){if(n&1){let t=Qu();ua(0),In(1,Y$,3,0,"p",3)(2,K$,3,0,"p",3),ie(3,"hr"),ne(4,"b",8),G(5,"Zu-/Absagen"),se(),ne(6,"form",5,1),Gt("ngSubmit",function(){Ln(t);let i=tn(2);return Un(i.zusageAbschicken())}),In(8,Q$,10,7,"p",9),ne(9,"button",10),G(10,"Zu-/Absagen Abschicken"),se()(),ie(11,"hr"),ne(12,"b",8),G(13,"Gerichte"),se(),ne(14,"p"),In(15,Z$,4,0,"span",3)(16,J$,4,0,"span",3),ie(17,"br"),G(18," Klick hier, um eine "),ne(19,"button",11),Gt("click",function(){Ln(t);let i=tn(2);return Un(i.addEssen())}),G(20,"Weitere Zeile f\xFCr Gerichte anzuzeigen"),se()(),ne(21,"form",12,2),Gt("ngSubmit",function(){Ln(t);let i=tn(2);return Un(i.submitForm())}),In(23,X$,9,8,"div",13),ne(24,"div")(25,"button",14),G(26,"Gerichte Abschicken"),se()()(),ie(27,"hr"),ne(28,"p"),G(29,"Hier ist eine Auflistung der Gericht die bisher mitgebracht werden:"),se(),ne(30,"div",15)(31,"div",16)(32,"p",8),G(33,"S\xFC\xDFes"),se(),In(34,eH,2,1,"div",17),se(),ne(35,"div",16)(36,"p",8),G(37,"Pikantes"),se(),In(38,tH,2,1,"div",17),se()(),ie(39,"hr"),ne(40,"b",8),G(41,"Ort und Anreise"),se(),ne(42,"p",18)(43,"img",19),Gt("click",function(){Ln(t);let i=tn(2);return Un(i.openMaps())}),se(),ne(44,"a",20),G(45,"Routenplanung via Google Maps"),se()(),ie(46,"hr"),ne(47,"b",8),G(48,"Ablauf"),se(),ne(49,"div"),ie(50,"br"),G(51," Beginn 14 Uhr "),ie(52,"br"),G(53," Zeremonie in der Schloss-Kapelle"),ie(54,"br")(55,"br"),G(56," -"),ie(57,"br")(58,"br"),G(59," ca. 14:30 Uhr"),ie(60,"br"),G(61," Kaffee und Kuchen"),ie(62,"br")(63,"br"),G(64," -"),ie(65,"br")(66,"br"),G(67," ca. 15:30 Uhr"),ie(68,"br"),G(69," Vortrag des Brautpaares"),ie(70,"br")(71,"br"),G(72," -"),ie(73,"br")(74,"br"),G(75," ca. 16:00 Uhr"),ie(76,"br"),G(77," Pikantes Buffet"),ie(78,"br")(79,"br"),G(80," -"),ie(81,"br")(82,"br"),G(83," ca. 17:30 Uhr"),ie(84,"br"),G(85," Feuerschale "),se(),ca()}if(n&2){let t=_y(22),r=tn(2);Be(),We("ngIf",r.persons.length===1),Be(),We("ngIf",r.persons.length>1),Be(6),We("ngForOf",r.persons),Be(7),We("ngIf",r.persons.length===1),Be(),We("ngIf",r.persons.length>1),Be(7),We("ngForOf",r.essen),Be(2),We("disabled",t.invalid),Be(9),We("ngForOf",r.suesses),Be(4),We("ngForOf",r.pikantes)}}function rH(n,e){if(n&1&&(ua(0),In(1,W$,8,1,"ng-container",3)(2,nH,86,9,"ng-container",3),ca()),n&2){let t=tn();Be(),We("ngIf",!t.loggedIn),Be(),We("ngIf",t.loggedIn)}}function iH(n,e){n&1&&(ne(0,"div"),G(1,"Zu viele Fehlerversuche, versuch es in 15 min nochmal."),se())}function sH(n,e){n&1&&(ne(0,"div"),G(1,"Zu viele Fehlerversuche, versuch es morgen nochmal."),se())}function oH(n,e){n&1&&(ne(0,"div"),G(1,"Zu viele Fehlerversuche, du bist gesperrt."),se())}function aH(n,e){if(n&1&&(ua(0),In(1,iH,2,0,"div",3)(2,sH,2,0,"div",3)(3,oH,2,0,"div",3),ca()),n&2){let t=tn();Be(),We("ngIf",t.attempts<5),Be(),We("ngIf",t.attempts<10),Be(),We("ngIf",t.attempts>9)}}var _p=class n{constructor(e){this.firestore=e;this.attempts=Number(localStorage.getItem("attempts")),(this.attempts===Number.NaN||this.attempts===null||this.attempts===void 0||this.attempts<0)&&(this.attempts=0);let t=localStorage.getItem("attempttime");if(this.attempts>2&&t!==null&&t!==void 0&&(0,Qa.default)(t).isValid()){let r=(0,Qa.default)(t);(this.attempts<5&&r.add(15,"minute").isAfter((0,Qa.default)())||this.attempts<10&&r.add(1,"day").isAfter((0,Qa.default)()))&&(this.attempts=0,localStorage.removeItem("attempts"),localStorage.removeItem("attempttime"))}else this.attempts>2&&(t==null||!(0,Qa.default)(t).isValid())&&(this.attempts=0,localStorage.removeItem("attempts"),localStorage.removeItem("attempttime"))}guestId=null;loggedIn=!1;attempts=0;guests$=[];persons=[];anrede="";pikantes=[];suesses=[];essen=[{id:this.generateGUID(),gericht:"",pikant:!1}];loadFood(e){return S(this,null,function*(){let t=yield Ya(vp(e,"guests"));this.guests$=t.docs.map(r=>$({id:r.id},r.data())),this.guests$.forEach(r=>S(this,null,function*(){let i=vp(this.firestore,`guests/${r.id}/essen`);yield Ya(i).catch(o=>console.log(r.id,"essen",o));let s=yield Ya(i);r.essen=s.docs.map(o=>$({id:o.id},o.data())),r.id!==this.guestId?.toString()?r.essen.forEach(o=>{o.pikant?this.pikantes.push(o.gericht):this.suesses.push(o.gericht)}):this.essen=r.essen.length>0?r.essen:this.essen}))})}login(){return S(this,null,function*(){try{let e=vp(this.firestore,`guests/${this.guestId}/personen`),r=(yield Ya(e)).docs.map(i=>$({id:i.id},i.data()));r.length>0&&r[0].id!==null?(this.persons=r.map(i=>({id:i.id,name:i.name,zusage:Number(i.zusage??99)})),console.log(this.persons),this.anrede=this.persons.map(i=>i.name).join(" und "),this.loadFood(this.firestore),this.attempts=0,this.loggedIn=!0):(this.attempts+=1,localStorage.setItem("attempts",this.attempts.toString()),this.attempts>2&&localStorage.setItem("attempttime",Date.now().toString()),this.loggedIn=!1)}catch(e){this.loggedIn=!1,console.log(e)}})}zusageAbschicken(){return S(this,null,function*(){this.persons.forEach((e,t)=>S(this,null,function*(){let r=mp(this.firestore,"guests",(this.guestId??0).toString(),"personen",e.id);yield iI(r,{zusage:e.zusage??99}),t===this.persons.length-1&&alert(`Danke f\xFCr die R\xFCckmeldung. 
 Die Daten wurden gespeichert.`)}))})}addEssen(){this.essen.push({id:this.generateGUID(),gericht:"",pikant:!1})}removeEssen(e){this.essen.splice(e,1)}submitForm(){return S(this,null,function*(){this.essen.forEach((e,t)=>S(this,null,function*(){let r=mp(this.firestore,"guests",(this.guestId??0).toString(),"essen",e.id);yield rI(r,{gericht:e.gericht,pikant:e.pikant}),t===this.essen.length-1&&alert(`Danke f\xFCr die R\xFCckmeldung. 
 Die Daten wurden gespeichert.`)}))})}openMaps(){window.open("https://www.google.com/maps/place/Schloss+Oberbrunn/@47.9642837,12.4162386,184m/data=!3m2!1e3!5s0x47760ca812ec5a51:0x3ea239746ff1bd78!4m6!3m5!1s0x47760d486ae3e96b:0xbd4bfe873ffe81d5!8m2!3d47.9642946!4d12.4163415!16s%2Fg%2F11bwfkt0z0?entry=ttu&g_ep=EgoyMDI1MDYzMC4wIKXMDSoASAFQAw%3D%3D","_blank")}generateGUID(){let e=new Date().getTime(),t=Math.floor(Math.random()*1e6);return`${e}-${t}`}static \u0275fac=function(t){return new(t||n)(Ne(Qs))};static \u0275cmp=ra({type:n,selectors:[["app-guest-form"]],standalone:!0,features:[ha],decls:2,vars:2,consts:[["loginform","ngForm"],["zusageForm","ngForm"],["form","ngForm"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["type","number","name","pin","placeholder","PIN (4 stelliger Code)","required","",3,"ngModelChange","ngModel"],["type","submit",2,"margin-left","12px",3,"disabled"],[2,"text-decoration","underline"],["style","display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 12px;",4,"ngFor","ngForOf"],["type","submit"],[3,"click"],[2,"display","flex","flex-direction","column","gap","8px",3,"ngSubmit"],["style","display: flex; flex-direction: row; gap: 4px; justify-content: center;",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","flex","flex-direction","row","gap","12px"],[2,"width","100%"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","align-items","center"],["src","karte.png","alt","Karte Schloss Oberbrunn",2,"width","75%","cursor","pointer",3,"click"],["target","_blank","href","https://www.google.com/maps/dir//Schloss+Oberbrunn,+Seeoner+Str.+4,+83132+Pittenhart/@47.9642837,12.4162386,184m/data=!3m2!1e3!5s0x47760ca812ec5a51:0x3ea239746ff1bd78!4m9!4m8!1m0!1m5!1m1!1s0x47760d486ae3e96b:0xbd4bfe873ffe81d5!2m2!1d12.4163415!2d47.9642946!3e0?entry=ttu&g_ep=EgoyMDI1MDYzMC4wIKXMDSoASAFQAw%3D%3D"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center","gap","12px"],[3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],[2,"display","flex","flex-direction","row","gap","4px","justify-content","center"],["type","text","placeholder","Gericht",3,"ngModelChange","ngModel","ngModelOptions"],["required","",3,"ngModelChange","ngModel","ngModelOptions"],[2,"text-decoration","underline","color","red","cursor","pointer",3,"click"]],template:function(t,r){t&1&&In(0,rH,3,2,"ng-container",3)(1,aH,4,3,"ng-container",3),t&2&&(We("ngIf",r.attempts<3),Be(),We("ngIf",r.attempts>2))},dependencies:[nc,sC,oC,GC,jC,$C,zC,Jh,$y,ef,PC,OC,Hy,By,jy],styles:["hr[_ngcontent-%COMP%]{width:75%;color:#d3d3d3}"]})};var Za=class n{title="Hochzeit Meissner-Klein";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ra({type:n,selectors:[["app-root"]],standalone:!0,features:[ha],decls:53,vars:0,consts:[[1,"base-container"],[1,"base-outer",2,"background-image","url('bg_1.png')"],[1,"base-center",2,"background-image","url('bg_4.png')"],[1,"pacifico-regular"]],template:function(t,r){t&1&&(ne(0,"div",0),ie(1,"div",1),ne(2,"div",2)(3,"h1",3),G(4,"Willkommen -"),ie(5,"br"),G(6," sch\xF6n, dass du da bist!"),se(),ne(7,"p"),G(8," Wir freuen uns sehr, "),ie(9,"br"),G(10,"diesen besonderen Tag "),ie(11,"br"),G(12,"mit unseren liebsten Menschen zu feiern "),ie(13,"br"),G(14,"\u2013 und du bist ein Teil davon! "),se(),ne(15,"p"),G(16," Auf dieser Seite haben wir "),ie(17,"br"),G(18,"alle wichtigen Informationen rund "),ie(19,"br"),G(20,"um unsere Hochzeit zusammengestellt: "),ie(21,"br"),G(22,"Den groben Ablauf, "),ie(23,"br"),G(24,"den Ort, "),ie(25,"br"),G(26,"sowie Hinweise zur Anreise. "),se(),ne(27,"p"),G(28," F\xFCr Getr\xE4nke wird gesorgt, aber wir bitten darum, "),ie(29,"br"),G(30,"dass jeder entweder etwas S\xFC\xDFes oder"),ie(31,"br"),G(32,"Pikantes zur Verpflegung mitbringt. "),ie(33,"br")(34,"br"),G(35," Weiter unten findest du die M\xF6glichkeit, "),ie(36,"br"),G(37,"zu- bzw. abzusagen sowie anzugeben, "),ie(38,"br"),G(39,"welches Essen du mitbringen m\xF6chtest. "),se(),ne(40,"p"),G(41," Wir freuen uns schon jetzt "),ie(42,"br"),G(43,"auf einen unvergesslichen Tag mit euch allen! "),se(),ne(44,"p")(45,"b"),G(46,"Herzliche Gr\xFC\xDFe"),se(),ie(47,"br"),G(48," Sanna und Benjamin "),se(),ie(49,"hr"),ne(50,"div"),ie(51,"app-guest-form"),se()(),ie(52,"div",1),se())},dependencies:[nc,_p],styles:[".base-container[_ngcontent-%COMP%]{background-color:#fff;height:100%;display:flex;flex-direction:row}@media screen and (min-device-width: 720px){.base-outer[_ngcontent-%COMP%]{width:75%}}.base-outer[_ngcontent-%COMP%]{background-size:contain;background-color:#00c0ff2e;opacity:.4}.base-center[_ngcontent-%COMP%]{width:100%;background-color:#ffecc6ad;display:flex;flex-direction:column;align-items:center;background-size:contain;padding:0 20px 45px 120px;text-align:center;background-repeat:repeat-y;overflow-y:auto;letter-spacing:1px}@media screen and (max-device-width: 720px){.base-center[_ngcontent-%COMP%]{padding-left:180px}}@media screen and (max-device-width: 530px){.base-center[_ngcontent-%COMP%]{padding-left:120px}}hr[_ngcontent-%COMP%]{width:75%;color:#d3d3d3}"]})};var ve="primary",hl=Symbol("RouteTitle"),fI=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ru(n){return new fI(n)}function uH(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mr(n[t],e[t]))return!1;return!0}function mr(n,e){let t=n?pI(n):void 0,r=e?pI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!sM(n[i],e[i]))return!1;return!0}function pI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function oM(n){return n.length>0?n[n.length-1]:null}function Gi(n){return Ng(n)?n:Cs(n)?at(Promise.resolve(n)):pe(n)}var lH={exact:uM,subset:cM},aM={exact:dH,subset:hH,ignored:()=>!0};function JA(n,e,t){return lH[t.paths](n.root,e.root,t.matrixParams)&&aM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function dH(n,e){return mr(n,e)}function uM(n,e,t){if(!Js(n.segments,e.segments)||!Ep(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!uM(n.children[r],e.children[r],t))return!1;return!0}function hH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sM(n[t],e[t]))}function cM(n,e,t){return lM(n,e,e.segments,t)}function lM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Js(i,t)||e.hasChildren()||!Ep(i,t,r))}else if(n.segments.length===t.length){if(!Js(n.segments,t)||!Ep(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Js(n.segments,i)||!Ep(n.segments,i,r)||!n.children[ve]?!1:lM(n.children[ve],e,s,r)}}function Ep(n,e,t){return e.every((r,i)=>aM[t](n[i].parameters,r.parameters))}var ii=class{constructor(e=new $e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ru(this.queryParams),this._queryParamMap}toString(){return gH.serialize(this)}},$e=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dp(this)}},Zs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ru(this.parameters),this._parameterMap}toString(){return hM(this)}};function fH(n,e){return Js(n,e)&&n.every((t,r)=>mr(t.parameters,e[r].parameters))}function Js(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function pH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var jI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>new nl,providedIn:"root"})}}return n})(),nl=class{parse(e){let t=new mI(e);return new ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qc(e.root,!0)}`,r=vH(e.queryParams),i=typeof e.fragment=="string"?`#${mH(e.fragment)}`:"";return`${t}${r}${i}`}},gH=new nl;function Dp(n){return n.segments.map(e=>hM(e)).join("/")}function Qc(n,e){if(!n.hasChildren())return Dp(n);if(e){let t=n.children[ve]?Qc(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ve&&r.push(`${i}:${Qc(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pH(n,(r,i)=>i===ve?[Qc(n.children[ve],!1)]:[`${i}:${Qc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${Dp(n)}/${t[0]}`:`${Dp(n)}/(${t.join("//")})`}}function dM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wp(n){return dM(n).replace(/%3B/gi,";")}function mH(n){return encodeURI(n)}function gI(n){return dM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(n){return decodeURIComponent(n)}function XA(n){return bp(n.replace(/\+/g,"%20"))}function hM(n){return`${gI(n.path)}${yH(n.parameters)}`}function yH(n){return Object.entries(n).map(([e,t])=>`;${gI(e)}=${gI(t)}`).join("")}function vH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wp(t)}=${wp(i)}`).join("&"):`${wp(t)}=${wp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _H=/^[^\/()?;#]+/;function cI(n){let e=n.match(_H);return e?e[0]:""}var wH=/^[^\/()?;=#]+/;function IH(n){let e=n.match(wH);return e?e[0]:""}var EH=/^[^=?&#]+/;function DH(n){let e=n.match(EH);return e?e[0]:""}var bH=/^[^&#]+/;function CH(n){let e=n.match(bH);return e?e[0]:""}var mI=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new $e(e,t)),r}parseSegment(){let e=cI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Zs(bp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=IH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cI(this.remaining);i&&(r=i,this.capture(r))}e[bp(t)]=bp(r)}parseQueryParam(e){let t=DH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=CH(this.remaining);o&&(r=o,this.capture(r))}let i=XA(t),s=XA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ve]:new $e([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function fM(n){return n.segments.length>0?new $e([],{[ve]:n}):n}function pM(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=pM(i);if(r===ve&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new $e(n.segments,e);return TH(t)}function TH(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new $e(n.segments.concat(e.segments),e.children)}return n}function rl(n){return n instanceof ii}function SH(n,e,t=null,r=null){let i=gM(n);return mM(i,e,t,r)}function gM(n){let e;function t(s){let o={};for(let l of s.children){let h=t(l);o[l.outlet]=h}let c=new $e(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=fM(r);return e??i}function mM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lI(i,i,i,t,r);let s=AH(e);if(s.toRoot())return lI(i,i,new $e([],{}),t,r);let o=MH(s,i,n),c=o.processChildren?Xc(o.segmentGroup,o.index,s.commands):vM(o.segmentGroup,o.index,s.commands);return lI(i,o.segmentGroup,c,t,r)}function Cp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function il(n){return typeof n=="object"&&n!=null&&n.outlets}function lI(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`});let o;n===e?o=t:o=yM(n,e,t);let c=fM(pM(o));return new ii(c,s,i)}function yM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=yM(s,e,t)}),new $e(n.segments,r)}var Tp=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cp(r[0]))throw new ee(4003,!1);let i=r.find(il);if(i&&i!==oM(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Tp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Tp(t,e,r)}var eu=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function MH(n,e,t){if(n.isAbsolute)return new eu(e,!0,0);if(!t)return new eu(e,!1,NaN);if(t.parent===null)return new eu(t,!0,0);let r=Cp(n.commands[0])?0:1,i=t.segments.length-1+r;return RH(t,i,n.numberOfDoubleDots)}function RH(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new eu(r,!1,i-s)}function NH(n){return il(n[0])?n[0].outlets:{[ve]:n}}function vM(n,e,t){if(n??=new $e([],{}),n.segments.length===0&&n.hasChildren())return Xc(n,e,t);let r=xH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new $e(n.segments.slice(0,r.pathIndex),{});return s.children[ve]=new $e(n.segments.slice(r.pathIndex),n.children),Xc(s,0,i)}else return r.match&&i.length===0?new $e(n.segments,{}):r.match&&!n.hasChildren()?yI(n,e,t):r.match?Xc(n,0,i):yI(n,e,t)}function Xc(n,e,t){if(t.length===0)return new $e(n.segments,{});{let r=NH(t),i={};if(Object.keys(r).some(s=>s!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let s=Xc(n.children[ve],e,t);return new $e(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=vM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new $e(n.segments,i)}}function xH(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(il(c))break;let l=`${c}`,h=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!tM(l,h,o))return s;r+=2}else{if(!tM(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(il(s)){let l=PH(s.outlets);return new $e(r,l)}if(i===0&&Cp(t[0])){let l=n.segments[e];r.push(new Zs(l.path,eM(t[0]))),i++;continue}let o=il(s)?s.outlets[ve]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Cp(c)?(r.push(new Zs(o,eM(c))),i+=2):(r.push(new Zs(o,{})),i++)}return new $e(r,{})}function PH(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yI(new $e([],{}),0,r))}),e}function eM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function tM(n,e,t){return n==t.path&&mr(e,t.parameters)}var el="imperative",At=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(At||{}),Cn=class{constructor(e,t){this.id=e,this.url=t}},sl=class extends Cn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=At.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xs=class extends Cn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=At.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(un||{}),vI=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(vI||{}),ri=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=At.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},eo=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=At.NavigationSkipped}},ol=class extends Cn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=At.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sp=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_I=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wI=class extends Cn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=At.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},II=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},EI=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DI=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bI=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CI=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},TI=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SI=class{constructor(e){this.snapshot=e,this.type=At.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},AI=class{constructor(e){this.snapshot=e,this.type=At.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var al=class{},iu=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function OH(n,e){return n.providers&&!n._injector&&(n._injector=vy(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bn(n){return n.outlet||ve}function kH(n,e){let t=n.filter(r=>Bn(r)===e);return t.push(...n.filter(r=>Bn(r)!==e)),t}function fl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var MI=class{get injector(){return fl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Op(this.rootInjector),this.attachRef=null}},Op=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new MI(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(De(vn))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ap=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=RI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=RI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=NI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return NI(e,this._root).map(t=>t.value)}};function RI(n,e){if(n===e.value)return e;for(let t of e.children){let r=RI(n,t);if(r)return r}return null}function NI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=NI(n,t);if(r.length)return r.unshift(e),r}return[]}var an=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Xa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mp=class extends Ap{constructor(e,t){super(e),this.snapshot=t,BI(this,e)}toString(){return this.snapshot.toString()}};function _M(n){let e=FH(n),t=new Tt([new Zs("",{})]),r=new Tt({}),i=new Tt({}),s=new Tt({}),o=new Tt(""),c=new su(t,r,s,o,i,ve,n,e.root);return c.snapshot=e.root,new Mp(new an(c,[]),e)}function FH(n){let e={},t={},r={},i="",s=new tu([],e,r,i,t,ve,n,null,{});return new Np("",new an(s,[]))}var su=class{constructor(e,t,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ee(h=>h[hl]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>ru(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>ru(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),i?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},i&&IM(i)&&(r.resolve[hl]=i.title),r}var tu=class{get title(){return this.data?.[hl]}constructor(e,t,r,i,s,o,c,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ru(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ru(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Np=class extends Ap{constructor(e,t){super(t),this.url=e,BI(this,t)}toString(){return wM(this._root)}};function BI(n,e){e.value._routerState=n,e.children.forEach(t=>BI(n,t))}function wM(n){let e=n.children.length>0?` { ${n.children.map(wM).join(", ")} } `:"";return`${n.value}${e}`}function dI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),mr(e.params,t.params)||n.paramsSubject.next(t.params),cH(e.url,t.url)||n.urlSubject.next(t.url),mr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xI(n,e){let t=mr(n.params,e.params)&&fH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xI(n.parent,e.parent))}function IM(n){return typeof n.title=="string"||n.title===null}var VH=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=W(Op),this.location=W(aa),this.changeDetector=W(Ss),this.inputBinder=W($I,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new PI(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ut({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Es]})}}return n})(),PI=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===su?this.route:e===Op?this.childContexts:this.parent.get(e,t)}},$I=new te("");function LH(n,e,t){let r=ul(n,e._root,t?t._root:void 0);return new Mp(r,e)}function ul(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=UH(n,e,t);return new an(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ul(n,c)),o}}let r=jH(e.value),i=e.children.map(s=>ul(n,s));return new an(r,i)}}function UH(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ul(n,r,i);return ul(n,r)})}function jH(n){return new su(new Tt(n.url),new Tt(n.params),new Tt(n.queryParams),new Tt(n.fragment),new Tt(n.data),n.outlet,n.component,n)}var cl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},EM="ngNavigationCancelingError";function xp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=rl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DM(!1,un.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function DM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[EM]=!0,t.cancellationCode=e,t}function BH(n){return bM(n)&&rl(n.url)}function bM(n){return!!n&&n[EM]}var $H=(n,e,t,r)=>Ee(i=>(new OI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),OI=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Xa(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Xa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new AI(s.value.snapshot))}),e.children.length&&this.forwardEvent(new TI(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(dI(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),dI(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Pp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},nu=class{constructor(e,t){this.component=e,this.route=t}};function HH(n,e,t){let r=n._root,i=e?e._root:null;return Zc(r,i,t,[r.value])}function zH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function au(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!GD(n)?n:e.get(n):r}function Zc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xa(e);return n.children.forEach(o=>{GH(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>tl(c,t.getContext(o),i)),i}function GH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=qH(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Pp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Zc(n,e,c?c.children:null,r,i):Zc(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new nu(c.outlet.component,o))}else o&&tl(e,c,i),i.canActivateChecks.push(new Pp(r)),s.component?Zc(n,null,c?c.children:null,r,i):Zc(n,null,t,r,i);return i}function qH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Js(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Js(n.url,e.url)||!mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xI(n,e)||!mr(n.queryParams,e.queryParams);case"paramsChange":default:return!xI(n,e)}}function tl(n,e,t){let r=Xa(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?tl(o,e.children.getContext(s),t):tl(o,null,t):tl(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new nu(e.outlet.component,i)):t.canDeactivateChecks.push(new nu(null,i)):t.canDeactivateChecks.push(new nu(null,i))}function pl(n){return typeof n=="function"}function WH(n){return typeof n=="boolean"}function YH(n){return n&&pl(n.canLoad)}function KH(n){return n&&pl(n.canActivate)}function QH(n){return n&&pl(n.canActivateChild)}function ZH(n){return n&&pl(n.canDeactivate)}function JH(n){return n&&pl(n.canMatch)}function CM(n){return n instanceof Or||n?.name==="EmptyError"}var Ip=Symbol("INITIAL_VALUE");function ou(){return Pn(n=>kd(n.map(e=>e.pipe(kr(1),Vg(Ip)))).pipe(Ee(e=>{for(let t of e)if(t!==!0){if(t===Ip)return Ip;if(t===!1||XH(t))return t}return!0}),xn(e=>e!==Ip),kr(1)))}function XH(n){return rl(n)||n instanceof cl}function ez(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?pe(be($({},t),{guardsResult:!0})):tz(o,r,i,n).pipe(mt(c=>c&&WH(c)?nz(r,s,n,e):pe(c)),Ee(c=>be($({},t),{guardsResult:c})))})}function tz(n,e,t,r){return at(n).pipe(mt(i=>az(i.component,i.route,t,e,r)),Zn(i=>i!==!0,!0))}function nz(n,e,t,r){return at(e).pipe(Vo(i=>Fo(iz(i.route.parent,r),rz(i.route,r),oz(n,i.path,t),sz(n,i.route,t))),Zn(i=>i!==!0,!0))}function rz(n,e){return n!==null&&e&&e(new SI(n)),pe(!0)}function iz(n,e){return n!==null&&e&&e(new CI(n)),pe(!0)}function sz(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(s=>Fd(()=>{let o=fl(e)??t,c=au(s,o),l=KH(c)?c.canActivate(e,n):jr(o,()=>c(e,n));return Gi(l).pipe(Zn())}));return pe(i).pipe(ou())}function oz(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>zH(o)).filter(o=>o!==null).map(o=>Fd(()=>{let c=o.guards.map(l=>{let h=fl(o.node)??t,y=au(l,h),_=QH(y)?y.canActivateChild(r,n):jr(h,()=>y(r,n));return Gi(_).pipe(Zn())});return pe(c).pipe(ou())}));return pe(s).pipe(ou())}function az(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return pe(!0);let o=s.map(c=>{let l=fl(e)??i,h=au(c,l),y=ZH(h)?h.canDeactivate(n,e,t,r):jr(l,()=>h(n,e,t,r));return Gi(y).pipe(Zn())});return pe(o).pipe(ou())}function uz(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let s=i.map(o=>{let c=au(o,n),l=YH(c)?c.canLoad(e,t):jr(n,()=>c(e,t));return Gi(l)});return pe(s).pipe(ou(),TM(r))}function TM(n){return Dg(yt(e=>{if(typeof e!="boolean")throw xp(n,e)}),Ee(e=>e===!0))}function cz(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let s=i.map(o=>{let c=au(o,n),l=JH(c)?c.canMatch(e,t):jr(n,()=>c(e,t));return Gi(l)});return pe(s).pipe(ou(),TM(r))}var ll=class{constructor(e){this.segmentGroup=e||null}},dl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ja(n){return ko(new ll(n))}function lz(n){return ko(new ee(4e3,!1))}function dz(n){return ko(DM(!1,un.GuardRejected))}var kI=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[ve])return lz(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:h,routeConfig:y,url:_,outlet:E,params:C,data:A,title:V}=i,F=jr(s,()=>c({params:C,data:A,queryParams:l,fragment:h,routeConfig:y,url:_,outlet:E,title:V}));if(F instanceof ii)throw new dl(F);t=F}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new dl(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new ii(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new $e(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},FI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hz(n,e,t,r,i){let s=SM(n,e,t);return s.matched?(r=OH(e,r),cz(r,e,t,i).pipe(Ee(o=>o===!0?s:$({},FI)))):pe(s)}function SM(n,e,t){if(e.path==="**")return fz(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},FI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uH)(t,n,e);if(!i)return $({},FI);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?$($({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fz(n){return{matched:!0,parameters:n.length>0?oM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nM(n,e,t,r){return t.length>0&&mz(n,t,r)?{segmentGroup:new $e(e,gz(r,new $e(t,n.children))),slicedSegments:[]}:t.length===0&&yz(n,t,r)?{segmentGroup:new $e(n.segments,pz(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new $e(n.segments,n.children),slicedSegments:t}}function pz(n,e,t,r){let i={};for(let s of t)if(kp(n,e,s)&&!r[Bn(s)]){let o=new $e([],{});i[Bn(s)]=o}return $($({},r),i)}function gz(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&Bn(r)!==ve){let i=new $e([],{});t[Bn(r)]=i}return t}function mz(n,e,t){return t.some(r=>kp(n,e,r)&&Bn(r)!==ve)}function yz(n,e,t){return t.some(r=>kp(n,e,r))}function kp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vz(n,e,t){return e.length===0&&!n.children[t]}var VI=class{};function _z(n,e,t,r,i,s,o="emptyOnly"){return new LI(n,e,t,r,i,o,s).recognize()}var wz=31,LI=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new kI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=nM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:t,rootSnapshot:r})=>{let i=new an(r,t),s=new Np("",i),o=SH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new tu([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(Ee(r=>({children:r,rootSnapshot:t})),_i(r=>{if(r instanceof dl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ll?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ee(o=>o instanceof an?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return at(s).pipe(Vo(o=>{let c=r.children[o],l=kH(t,o);return this.processSegmentGroup(e,l,c,o,i)}),Fg((o,c)=>(o.push(...c),o)),wi(null),kg(),mt(o=>{if(o===null)return Ja(r);let c=AM(o);return Iz(c),pe(c)}))}processSegment(e,t,r,i,s,o,c){return at(t).pipe(Vo(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,c).pipe(_i(h=>{if(h instanceof ll)return pe(null);throw h}))),Zn(l=>!!l),_i(l=>{if(CM(l))return vz(r,i,s)?pe(new VI):Ja(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,l){return Bn(r)!==o&&(o===ve||!kp(i,s,r))?Ja(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):Ja(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:l,parameters:h,consumedSegments:y,positionalParamSegments:_,remainingSegments:E}=SM(t,i,s);if(!l)return Ja(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wz&&(this.allowRedirects=!1));let C=new tu(s,h,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,rM(i),Bn(i),i.component??i._loadedComponent??null,i,iM(i)),A=Rp(C,c,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let V=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,_,C,e);return this.applyRedirects.lineralizeSegments(i,V).pipe(mt(F=>this.processSegment(e,r,t,F.concat(E),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=hz(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Pn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pn(({routes:h})=>{let y=r._loadedInjector??e,{parameters:_,consumedSegments:E,remainingSegments:C}=l,A=new tu(E,_,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,rM(r),Bn(r),r.component??r._loadedComponent??null,r,iM(r)),V=Rp(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(V.params),A.data=Object.freeze(V.data);let{segmentGroup:F,slicedSegments:H}=nM(t,E,C,h);if(H.length===0&&F.hasChildren())return this.processChildren(y,h,F,A).pipe(Ee(X=>new an(A,X)));if(h.length===0&&H.length===0)return pe(new an(A,[]));let J=Bn(r)===s;return this.processSegment(y,h,F,H,J?ve:s,!0,A).pipe(Ee(X=>new an(A,X instanceof an?[X]:[])))}))):Ja(t)))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):uz(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(yt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):dz(t))):pe({routes:[],injector:e})}};function Iz(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function Ez(n){let e=n.value.routeConfig;return e&&e.path===""}function AM(n){let e=[],t=new Set;for(let r of n){if(!Ez(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=AM(r.children);e.push(new an(r.value,i))}return e.filter(r=>!t.has(r))}function rM(n){return n.data||{}}function iM(n){return n.resolve||{}}function Dz(n,e,t,r,i,s){return mt(o=>_z(n,e,t,r,o.extractedUrl,i,s).pipe(Ee(({state:c,tree:l})=>be($({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function bz(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let h of MM(l))o.add(h);let c=0;return at(o).pipe(Vo(l=>s.has(l)?Cz(l,r,n,e):(l.data=Rp(l,l.parent,n).resolve,pe(void 0))),yt(()=>c++),Lo(1),mt(l=>c===o.size?pe(t):en))})}function MM(n){let e=n.children.map(t=>MM(t)).flat();return[n,...e]}function Cz(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!IM(i)&&(s[hl]=i.title),Tz(s,n,e,r).pipe(Ee(o=>(n._resolvedData=o,n.data=Rp(n,n.parent,t).resolve,null)))}function Tz(n,e,t,r){let i=pI(n);if(i.length===0)return pe({});let s={};return at(i).pipe(mt(o=>Sz(n[o],e,t,r).pipe(Zn(),yt(c=>{if(c instanceof cl)throw xp(new nl,c);s[o]=c}))),Lo(1),Og(s),_i(o=>CM(o)?en:ko(o)))}function Sz(n,e,t,r){let i=fl(e)??r,s=au(n,i),o=s.resolve?s.resolve(e,t):jr(i,()=>s(e,t));return Gi(o)}function hI(n){return Pn(e=>{let t=n(e);return t?at(t).pipe(Ee(()=>e)):pe(e)})}var RM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[hl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(Az),providedIn:"root"})}}return n})(),Az=(()=>{class n extends RM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(De(mC))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HI=new te("",{providedIn:"root",factory:()=>({})}),Mz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ra({type:n,selectors:[["ng-component"]],standalone:!0,features:[ha],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[VH],encapsulation:2})}}return n})();function zI(n){let e=n.children&&n.children.map(zI),t=e?be($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=Mz),t}var GI=new te(""),Rz=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(Iy)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Gi(t.loadComponent()).pipe(Ee(NM),yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Pu(()=>{this.componentLoaders.delete(t)})),i=new No(r,()=>new Ct).pipe(Ro());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Nz(r,this.compiler,t,this.onLoadEndListener).pipe(Pu(()=>{this.childrenLoaders.delete(r)})),o=new No(s,()=>new Ct).pipe(Ro());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nz(n,e,t,r){return Gi(n.loadChildren()).pipe(Ee(NM),mt(i=>i instanceof $u||Array.isArray(i)?pe(i):at(e.compileModuleAsync(i))),Ee(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(GI,[],{optional:!0,self:!0}).flat()),{routes:o.map(zI),injector:s}}))}function xz(n){return n&&typeof n=="object"&&"default"in n}function NM(n){return xz(n)?n.default:n}var qI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(Pz),providedIn:"root"})}}return n})(),Pz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Oz=new te("");var kz=new te(""),Fz=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=W(Rz),this.environmentInjector=W(vn),this.urlSerializer=W(jI),this.rootContexts=W(Op),this.location=W(tc),this.inputBindingEnabled=W($I,{optional:!0})!==null,this.titleStrategy=W(RM),this.options=W(HI,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(qI),this.createViewTransition=W(Oz,{optional:!0}),this.navigationErrorHandler=W(kz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new DI(i)),r=i=>this.events.next(new bI(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:el,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(s=>s.id!==0),Ee(s=>be($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pn(s=>{let o=!1,c=!1;return pe(s).pipe(Pn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&y!=="reload"){let _="";return this.events.next(new eo(l.id,this.urlSerializer.serialize(l.rawUrl),_,vI.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pe(l).pipe(Pn(_=>{let E=this.transitions?.getValue();return this.events.next(new sl(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),E!==this.transitions?.getValue()?en:Promise.resolve(_)}),Dz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=be($({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let E=new Sp(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:E,source:C,restoredState:A,extras:V}=l,F=new sl(_,this.urlSerializer.serialize(E),C,A);this.events.next(F);let H=_M(this.rootComponentType).snapshot;return this.currentTransition=s=be($({},l),{targetSnapshot:H,urlAfterRedirects:E,extras:be($({},V),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,pe(s)}else{let _="";return this.events.next(new eo(l.id,this.urlSerializer.serialize(l.extractedUrl),_,vI.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),yt(l=>{let h=new _I(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ee(l=>(this.currentTransition=s=be($({},l),{guards:HH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),ez(this.environmentInjector,l=>this.events.next(l)),yt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw xp(this.urlSerializer,l.guardsResult);let h=new wI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),xn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",un.GuardRejected),!1)),hI(l=>{if(l.guards.canActivateChecks.length)return pe(l).pipe(yt(h=>{let y=new II(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Pn(h=>{let y=!1;return pe(h).pipe(bz(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",un.NoDataFromResolver)}}))}),yt(h=>{let y=new EI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),hI(l=>{let h=y=>{let _=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(y.routeConfig).pipe(yt(E=>{y.component=E}),Ee(()=>{})));for(let E of y.children)_.push(...h(E));return _};return kd(h(l.targetSnapshot.root)).pipe(wi(null),kr(1))}),hI(()=>this.afterPreactivation()),Pn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,y=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return y?at(y).pipe(Ee(()=>s)):pe(s)}),Ee(l=>{let h=LH(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=be($({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),yt(()=>{this.events.next(new al)}),$H(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),kr(1),yt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Lg(this.transitionAbortSubject.pipe(yt(l=>{throw l}))),Pu(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_i(l=>{if(c=!0,bM(l))this.events.next(new ri(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),BH(l)?this.events.next(new iu(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new ol(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let y=jr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(y instanceof cl){let{message:_,cancellationCode:E}=xp(this.urlSerializer,y);this.events.next(new ri(s.id,this.urlSerializer.serialize(s.extractedUrl),_,E)),this.events.next(new iu(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(h);let _=t.errorHandler(l);s.resolve(!!_)}}catch(y){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(y)}}return en}))}))}cancelNavigationTransition(t,r,i){let s=new ri(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Vz(n){return n!==el}var Lz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(Uz),providedIn:"root"})}}return n})(),UI=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Uz=(()=>{class n extends UI{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>W(jz),providedIn:"root"})}}return n})(),jz=(()=>{class n extends xM{constructor(){super(...arguments),this.location=W(tc),this.urlSerializer=W(jI),this.options=W(HI,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(qI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_M(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof sl)this.stateMemento=this.createStateMemento();else if(t instanceof eo)this.rawUrlTree=r.initialUrl;else if(t instanceof Sp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof al?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ri&&(t.code===un.GuardRejected||t.code===un.NoDataFromResolver)?this.restoreHistory(r):t instanceof ol?this.restoreHistory(r,!0):t instanceof Xs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ii?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=$($({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Hr(n)))(i||n)}})()}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Jc||{});function Bz(n,e){n.events.pipe(xn(t=>t instanceof Xs||t instanceof ri||t instanceof ol||t instanceof eo),Ee(t=>t instanceof Xs||t instanceof eo?Jc.COMPLETE:(t instanceof ri?t.code===un.Redirect||t.code===un.SupersededByNewNavigation:!1)?Jc.REDIRECTING:Jc.FAILED),xn(t=>t!==Jc.REDIRECTING),kr(1)).subscribe(()=>{e()})}function $z(n){throw n}var Hz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},PM=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(Lh),this.stateManager=W(xM),this.options=W(HI,{optional:!0})||{},this.pendingTasks=W(oa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(Fz),this.urlSerializer=W(jI),this.location=W(tc),this.urlHandlingStrategy=W(qI),this._events=new Ct,this.errorHandler=this.options.errorHandler||$z,this.navigated=!1,this.routeReuseStrategy=W(Lz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(GI,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W($I,{optional:!0}),this.eventsSubscription=new nt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ri&&r.code!==un.Redirect&&r.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xs)this.navigated=!0;else if(r instanceof iu){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=$({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vz(i.source)},o);this.scheduleNavigation(c,el,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}qz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=$({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:o,y=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":y=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}y!==null&&(y=this.removeEmptyProps(y));let _;try{let E=i?i.snapshot:this.routerState.snapshot.root;_=gM(E)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),_=this.currentUrlTree.root}return mM(_,t,y,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=rl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,el,null,r)}navigate(t,r={skipLocationChange:!1}){return Gz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=$({},Hz):r===!1?i=$({},zz):i=r,rl(t))return JA(this.currentUrlTree,t,i);let s=this.parseUrl(t);return JA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,h;o?(c=o.resolve,l=o.reject,h=o.promise):h=new Promise((_,E)=>{c=_,l=E});let y=this.pendingTasks.add();return Bz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}function qz(n){return!(n instanceof al)&&!(n instanceof iu)}var Wz=new te("");function OM(n,...e){return sr([{provide:GI,multi:!0,useValue:n},[],{provide:su,useFactory:Yz,deps:[PM]},{provide:wy,multi:!0,useFactory:Kz},e.map(t=>t.\u0275providers)])}function Yz(n){return n.routerState.root}function Kz(){let n=W(Kt);return e=>{let t=n.get(Ts);if(e!==t.components[0])return;let r=n.get(PM),i=n.get(Qz);n.get(Zz)===1&&r.initialNavigation(),n.get(Jz,null,we.Optional)?.setUpPreloading(),n.get(Wz,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Qz=new te("",{factory:()=>new Ct}),Zz=new te("",{providedIn:"root",factory:()=>1});var Jz=new te("");var kM=[{path:"",component:Za}];var FM={production:!0,firebase:{apiKey:"AIzaSyAteh-tPQcqpzPTARPWABMCCnWxfFsMA1k",authDomain:"marriage-65c9a.firebaseapp.com",projectId:"marriage-65c9a",storageBucket:"marriage-65c9a.firebasestorage.app",messagingSenderId:"936214382943",appId:"1:936214382943:web:5ec9f08cdc8044cc3c8eea"}};var VM=of(FM.firebase);gC(Za,{providers:[qb({eventCoalescing:!0}),OM(kM),wT(()=>VM),QA(()=>eI(VM)),lS(()=>dS())]}).then(()=>{console.log("Bootstrap erfolgreich")}).catch(n=>console.error("Bootstrap nicht erfolgreich",n));
