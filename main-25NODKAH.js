var zA=Object.create;var Tf=Object.defineProperty,qA=Object.defineProperties,GA=Object.getOwnPropertyDescriptor,WA=Object.getOwnPropertyDescriptors,YA=Object.getOwnPropertyNames,ew=Object.getOwnPropertySymbols,nw=Object.getPrototypeOf,rw=Object.prototype.hasOwnProperty,KA=Object.prototype.propertyIsEnumerable,QA=Reflect.get;var tw=(n,e,t)=>e in n?Tf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,G=(n,e)=>{for(var t in e||={})rw.call(e,t)&&tw(n,t,e[t]);if(ew)for(var t of ew(e))KA.call(e,t)&&tw(n,t,e[t]);return n},ze=(n,e)=>qA(n,WA(e));var iw=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var ZA=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var JA=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YA(e))!rw.call(n,i)&&i!==t&&Tf(n,i,{get:()=>e[i],enumerable:!(r=GA(e,i))||r.enumerable});return n};var XA=(n,e,t)=>(t=n!=null?zA(nw(n)):{},JA(e||!n||!n.__esModule?Tf(t,"default",{value:n,enumerable:!0}):t,n));var Gr=(n,e,t)=>QA(nw(n),t,e);var T=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{c(t.next(l))}catch(f){i(f)}},o=l=>{try{c(t.throw(l))}catch(f){i(f)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((t=t.apply(n,e)).next())});var WC=ZA((Yv,oa)=>{"use strict";(function(n,e){typeof Yv=="object"&&typeof oa<"u"?oa.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Yv,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(a){n=a}function r(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function i(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function s(a,d){return Object.prototype.hasOwnProperty.call(a,d)}function o(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var d;for(d in a)if(s(a,d))return!1;return!0}function c(a){return a===void 0}function l(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function f(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function y(a,d){var p=[],g,v=a.length;for(g=0;g<v;++g)p.push(d(a[g],g));return p}function w(a,d){for(var p in d)s(d,p)&&(a[p]=d[p]);return s(d,"toString")&&(a.toString=d.toString),s(d,"valueOf")&&(a.valueOf=d.valueOf),a}function b(a,d,p,g){return _e(a,d,p,g,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(a){return a._pf==null&&(a._pf=S()),a._pf}var V;Array.prototype.some?V=Array.prototype.some:V=function(a){var d=Object(this),p=d.length>>>0,g;for(g=0;g<p;g++)if(g in d&&a.call(this,d[g],g,d))return!0;return!1};function F(a){var d=null,p=!1,g=a._d&&!isNaN(a._d.getTime());if(g&&(d=x(a),p=V.call(d.parsedDateParts,function(v){return v!=null}),g=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&p),a._strict&&(g=g&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=g;else return g;return a._isValid}function Y(a){var d=b(NaN);return a!=null?w(x(d),a):x(d).userInvalidated=!0,d}var J=e.momentProperties=[],ne=!1;function De(a,d){var p,g,v,C=J.length;if(c(d._isAMomentObject)||(a._isAMomentObject=d._isAMomentObject),c(d._i)||(a._i=d._i),c(d._f)||(a._f=d._f),c(d._l)||(a._l=d._l),c(d._strict)||(a._strict=d._strict),c(d._tzm)||(a._tzm=d._tzm),c(d._isUTC)||(a._isUTC=d._isUTC),c(d._offset)||(a._offset=d._offset),c(d._pf)||(a._pf=x(d)),c(d._locale)||(a._locale=d._locale),C>0)for(p=0;p<C;p++)g=J[p],v=d[g],c(v)||(a[g]=v);return a}function Be(a){De(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ne===!1&&(ne=!0,e.updateOffset(this),ne=!1)}function Q(a){return a instanceof Be||a!=null&&a._isAMomentObject!=null}function M(a){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}function I(a,d){var p=!0;return w(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,a),p){var g=[],v,C,k,q=arguments.length;for(C=0;C<q;C++){if(v="",typeof arguments[C]=="object"){v+=`
[`+C+"] ";for(k in arguments[0])s(arguments[0],k)&&(v+=k+": "+arguments[0][k]+", ");v=v.slice(0,-2)}else v=arguments[C];g.push(v)}M(a+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return d.apply(this,arguments)},d)}var E={};function A(a,d){e.deprecationHandler!=null&&e.deprecationHandler(a,d),E[a]||(M(d),E[a]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function R(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function P(a){var d,p;for(p in a)s(a,p)&&(d=a[p],R(d)?this[p]=d:this["_"+p]=d);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(a,d){var p=w({},a),g;for(g in d)s(d,g)&&(i(a[g])&&i(d[g])?(p[g]={},w(p[g],a[g]),w(p[g],d[g])):d[g]!=null?p[g]=d[g]:delete p[g]);for(g in a)s(a,g)&&!s(d,g)&&i(a[g])&&(p[g]=w({},p[g]));return p}function Lt(a){a!=null&&this.set(a)}var Jn;Object.keys?Jn=Object.keys:Jn=function(a){var d,p=[];for(d in a)s(a,d)&&p.push(d);return p};var Zh={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wi(a,d,p){var g=this._calendar[a]||this._calendar.sameElse;return R(g)?g.call(d,p):g}function vt(a,d,p){var g=""+Math.abs(a),v=d-g.length,C=a>=0;return(C?p?"+":"":"-")+Math.pow(10,Math.max(0,v)).toString().substr(1)+g}var Ii=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_a={},Ct={};function $(a,d,p,g){var v=g;typeof g=="string"&&(v=function(){return this[g]()}),a&&(Ct[a]=v),d&&(Ct[d[0]]=function(){return vt(v.apply(this,arguments),d[1],d[2])}),p&&(Ct[p]=function(){return this.localeData().ordinal(v.apply(this,arguments),a)})}function Jh(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Di(a){var d=a.match(Ii),p,g;for(p=0,g=d.length;p<g;p++)Ct[d[p]]?d[p]=Ct[d[p]]:d[p]=Jh(d[p]);return function(v){var C="",k;for(k=0;k<g;k++)C+=R(d[k])?d[k].call(v,a):d[k];return C}}function bs(a,d){return a.isValid()?(d=Fr(d,a.localeData()),_a[d]=_a[d]||Di(d),_a[d](a)):a.localeData().invalidDate()}function Fr(a,d){var p=5;function g(v){return d.longDateFormat(v)||v}for(Ei.lastIndex=0;p>=0&&Ei.test(a);)a=a.replace(Ei,g),Ei.lastIndex=0,p-=1;return a}var Xh={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ef(a){var d=this._longDateFormat[a],p=this._longDateFormat[a.toUpperCase()];return d||!p?d:(this._longDateFormat[a]=p.match(Ii).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[a])}var Cs="Invalid date";function Ts(){return this._invalidDate}var wa="%d",Ia=/\d{1,2}/;function Ea(a){return this._ordinal.replace("%d",a)}var Da={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pc(a,d,p,g){var v=this._relativeTime[p];return R(v)?v(a,d,p,g):v.replace(/%d/i,a)}function gc(a,d){var p=this._relativeTime[a>0?"future":"past"];return R(p)?p(d):p.replace(/%s/i,d)}var mc={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Tt(a){return typeof a=="string"?mc[a]||mc[a.toLowerCase()]:void 0}function Ss(a){var d={},p,g;for(g in a)s(a,g)&&(p=Tt(g),p&&(d[p]=a[g]));return d}var ba={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function yc(a){var d=[],p;for(p in a)s(a,p)&&d.push({unit:p,priority:ba[p]});return d.sort(function(g,v){return g.priority-v.priority}),d}var vc=/\d/,ft=/\d\d/,As=/\d{3}/,bi=/\d{4}/,Xe=/[+-]?\d{6}/,he=/\d\d?/,Ci=/\d\d\d\d?/,Ca=/\d\d\d\d\d\d?/,Ti=/\d{1,3}/,Ta=/\d{1,4}/,Cn=/[+-]?\d{1,6}/,Xn=/\d+/,Si=/[+-]?\d+/,Sa=/Z|[+-]\d\d:?\d\d/gi,Ms=/Z|[+-]\d\d(?::?\d\d)?/gi,tf=/[+-]?\d+(\.\d{1,3})?/,er=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tr=/^[1-9]\d?/,Rs=/^([1-9]\d|\d)/,Tn;Tn={};function H(a,d,p){Tn[a]=R(d)?d:function(g,v){return g&&p?p:d}}function Aa(a,d){return s(Tn,a)?Tn[a](d._strict,d._locale):new RegExp(nr(a))}function nr(a){return Qt(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,p,g,v,C){return p||g||v||C}))}function Qt(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pt(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function pe(a){var d=+a,p=0;return d!==0&&isFinite(d)&&(p=pt(d)),p}var rr={};function Ne(a,d){var p,g=d,v;for(typeof a=="string"&&(a=[a]),l(d)&&(g=function(C,k){k[d]=pe(C)}),v=a.length,p=0;p<v;p++)rr[a[p]]=g}function et(a,d){Ne(a,function(p,g,v,C){v._w=v._w||{},d(p,v._w,v,C)})}function _c(a,d,p){d!=null&&s(rr,a)&&rr[a](d,p._a,p,a)}function Sn(a){return a%4===0&&a%100!==0||a%400===0}var Ke=0,dn=1,Zt=2,$e=3,Vt=4,hn=5,Jt=6,wc=7,Ma=8;$("Y",0,0,function(){var a=this.year();return a<=9999?vt(a,4):"+"+a}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),H("Y",Si),H("YY",he,ft),H("YYYY",Ta,bi),H("YYYYY",Cn,Xe),H("YYYYYY",Cn,Xe),Ne(["YYYYY","YYYYYY"],Ke),Ne("YYYY",function(a,d){d[Ke]=a.length===2?e.parseTwoDigitYear(a):pe(a)}),Ne("YY",function(a,d){d[Ke]=e.parseTwoDigitYear(a)}),Ne("Y",function(a,d){d[Ke]=parseInt(a,10)});function An(a){return Sn(a)?366:365}e.parseTwoDigitYear=function(a){return pe(a)+(pe(a)>68?1900:2e3)};var fn=ir("FullYear",!0);function Ic(){return Sn(this.year())}function ir(a,d){return function(p){return p!=null?(Ns(this,a,p),e.updateOffset(this,d),this):sr(this,a)}}function sr(a,d){if(!a.isValid())return NaN;var p=a._d,g=a._isUTC;switch(d){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}function Ns(a,d,p){var g,v,C,k,q;if(!(!a.isValid()||isNaN(p))){switch(g=a._d,v=a._isUTC,d){case"Milliseconds":return void(v?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(v?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(v?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(v?g.setUTCHours(p):g.setHours(p));case"Date":return void(v?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}C=p,k=a.month(),q=a.date(),q=q===29&&k===1&&!Sn(C)?28:q,v?g.setUTCFullYear(C,k,q):g.setFullYear(C,k,q)}}function Ec(a){return a=Tt(a),R(this[a])?this[a]():this}function Dc(a,d){if(typeof a=="object"){a=Ss(a);var p=yc(a),g,v=p.length;for(g=0;g<v;g++)this[p[g].unit](a[p[g].unit])}else if(a=Tt(a),R(this[a]))return this[a](d);return this}function nf(a,d){return(a%d+d)%d}var He;Array.prototype.indexOf?He=Array.prototype.indexOf:He=function(a){var d;for(d=0;d<this.length;++d)if(this[d]===a)return d;return-1};function xs(a,d){if(isNaN(a)||isNaN(d))return NaN;var p=nf(d,12);return a+=(d-p)/12,p===1?Sn(a)?29:28:31-p%7%2}$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),$("MMMM",0,0,function(a){return this.localeData().months(this,a)}),H("M",he,tr),H("MM",he,ft),H("MMM",function(a,d){return d.monthsShortRegex(a)}),H("MMMM",function(a,d){return d.monthsRegex(a)}),Ne(["M","MM"],function(a,d){d[dn]=pe(a)-1}),Ne(["MMM","MMMM"],function(a,d,p,g){var v=p._locale.monthsParse(a,g,p._strict);v!=null?d[dn]=v:x(p).invalidMonth=a});var Ra="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Lr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Na=er,rf=er;function bc(a,d){return a?r(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||Mn).test(d)?"format":"standalone"][a.month()]:r(this._months)?this._months:this._months.standalone}function Cc(a,d){return a?r(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Mn.test(d)?"format":"standalone"][a.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Tc(a,d,p){var g,v,C,k=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)C=b([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(C,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(C,"").toLocaleLowerCase();return p?d==="MMM"?(v=He.call(this._shortMonthsParse,k),v!==-1?v:null):(v=He.call(this._longMonthsParse,k),v!==-1?v:null):d==="MMM"?(v=He.call(this._shortMonthsParse,k),v!==-1?v:(v=He.call(this._longMonthsParse,k),v!==-1?v:null)):(v=He.call(this._longMonthsParse,k),v!==-1?v:(v=He.call(this._shortMonthsParse,k),v!==-1?v:null))}function xa(a,d,p){var g,v,C;if(this._monthsParseExact)return Tc.call(this,a,d,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(v=b([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(v,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(v,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(C="^"+this.months(v,"")+"|^"+this.monthsShort(v,""),this._monthsParse[g]=new RegExp(C.replace(".",""),"i")),p&&d==="MMMM"&&this._longMonthsParse[g].test(a))return g;if(p&&d==="MMM"&&this._shortMonthsParse[g].test(a))return g;if(!p&&this._monthsParse[g].test(a))return g}}function Ps(a,d){if(!a.isValid())return a;if(typeof d=="string"){if(/^\d+$/.test(d))d=pe(d);else if(d=a.localeData().monthsParse(d),!l(d))return a}var p=d,g=a.date();return g=g<29?g:Math.min(g,xs(a.year(),p)),a._isUTC?a._d.setUTCMonth(p,g):a._d.setMonth(p,g),a}function Pa(a){return a!=null?(Ps(this,a),e.updateOffset(this,!0),this):sr(this,"Month")}function Sc(){return xs(this.year(),this.month())}function sf(a){return this._monthsParseExact?(s(this,"_monthsRegex")||Oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Na),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function of(a){return this._monthsParseExact?(s(this,"_monthsRegex")||Oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=rf),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function Oa(){function a(re,we){return we.length-re.length}var d=[],p=[],g=[],v,C,k,q;for(v=0;v<12;v++)C=b([2e3,v]),k=Qt(this.monthsShort(C,"")),q=Qt(this.months(C,"")),d.push(k),p.push(q),g.push(q),g.push(k);d.sort(a),p.sort(a),g.sort(a),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Ac(a,d,p,g,v,C,k){var q;return a<100&&a>=0?(q=new Date(a+400,d,p,g,v,C,k),isFinite(q.getFullYear())&&q.setFullYear(a)):q=new Date(a,d,p,g,v,C,k),q}function Ai(a){var d,p;return a<100&&a>=0?(p=Array.prototype.slice.call(arguments),p[0]=a+400,d=new Date(Date.UTC.apply(null,p)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(a)):d=new Date(Date.UTC.apply(null,arguments)),d}function Xt(a,d,p){var g=7+d-p,v=(7+Ai(a,0,g).getUTCDay()-d)%7;return-v+g-1}function en(a,d,p,g,v){var C=(7+p-g)%7,k=Xt(a,g,v),q=1+7*(d-1)+C+k,re,we;return q<=0?(re=a-1,we=An(re)+q):q>An(a)?(re=a+1,we=q-An(a)):(re=a,we=q),{year:re,dayOfYear:we}}function Rn(a,d,p){var g=Xt(a.year(),d,p),v=Math.floor((a.dayOfYear()-g-1)/7)+1,C,k;return v<1?(k=a.year()-1,C=v+Nt(k,d,p)):v>Nt(a.year(),d,p)?(C=v-Nt(a.year(),d,p),k=a.year()+1):(k=a.year(),C=v),{week:C,year:k}}function Nt(a,d,p){var g=Xt(a,d,p),v=Xt(a+1,d,p);return(An(a)-g+v)/7}$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),H("w",he,tr),H("ww",he,ft),H("W",he,tr),H("WW",he,ft),et(["w","ww","W","WW"],function(a,d,p,g){d[g.substr(0,1)]=pe(a)});function Mc(a){return Rn(a,this._week.dow,this._week.doy).week}var Ve={dow:0,doy:6};function Os(){return this._week.dow}function Mi(){return this._week.doy}function Ri(a){var d=this.localeData().week(this);return a==null?d:this.add((a-d)*7,"d")}function af(a){var d=Rn(this,1,4).week;return a==null?d:this.add((a-d)*7,"d")}$("d",0,"do","day"),$("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),$("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),$("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),H("d",he),H("e",he),H("E",he),H("dd",function(a,d){return d.weekdaysMinRegex(a)}),H("ddd",function(a,d){return d.weekdaysShortRegex(a)}),H("dddd",function(a,d){return d.weekdaysRegex(a)}),et(["dd","ddd","dddd"],function(a,d,p,g){var v=p._locale.weekdaysParse(a,g,p._strict);v!=null?d.d=v:x(p).invalidWeekday=a}),et(["d","e","E"],function(a,d,p,g){d[g]=pe(a)});function Rc(a,d){return typeof a!="string"?a:isNaN(a)?(a=d.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}function uf(a,d){return typeof a=="string"?d.weekdaysParse(a)%7||7:isNaN(a)?null:a}function ka(a,d){return a.slice(d,7).concat(a.slice(0,d))}var cf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ni="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nn=er,xc=er,Pc=er;function Oc(a,d){var p=r(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return a===!0?ka(p,this._week.dow):a?p[a.day()]:p}function Vr(a){return a===!0?ka(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function lf(a){return a===!0?ka(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function df(a,d,p){var g,v,C,k=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)C=b([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(C,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(C,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(C,"").toLocaleLowerCase();return p?d==="dddd"?(v=He.call(this._weekdaysParse,k),v!==-1?v:null):d==="ddd"?(v=He.call(this._shortWeekdaysParse,k),v!==-1?v:null):(v=He.call(this._minWeekdaysParse,k),v!==-1?v:null):d==="dddd"?(v=He.call(this._weekdaysParse,k),v!==-1||(v=He.call(this._shortWeekdaysParse,k),v!==-1)?v:(v=He.call(this._minWeekdaysParse,k),v!==-1?v:null)):d==="ddd"?(v=He.call(this._shortWeekdaysParse,k),v!==-1||(v=He.call(this._weekdaysParse,k),v!==-1)?v:(v=He.call(this._minWeekdaysParse,k),v!==-1?v:null)):(v=He.call(this._minWeekdaysParse,k),v!==-1||(v=He.call(this._weekdaysParse,k),v!==-1)?v:(v=He.call(this._shortWeekdaysParse,k),v!==-1?v:null))}function hf(a,d,p){var g,v,C;if(this._weekdaysParseExact)return df.call(this,a,d,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(v=b([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(v,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(v,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(v,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(C="^"+this.weekdays(v,"")+"|^"+this.weekdaysShort(v,"")+"|^"+this.weekdaysMin(v,""),this._weekdaysParse[g]=new RegExp(C.replace(".",""),"i")),p&&d==="dddd"&&this._fullWeekdaysParse[g].test(a))return g;if(p&&d==="ddd"&&this._shortWeekdaysParse[g].test(a))return g;if(p&&d==="dd"&&this._minWeekdaysParse[g].test(a))return g;if(!p&&this._weekdaysParse[g].test(a))return g}}function xn(a){if(!this.isValid())return a!=null?this:NaN;var d=sr(this,"Day");return a!=null?(a=Rc(a,this.localeData()),this.add(a-d,"d")):d}function ff(a){if(!this.isValid())return a!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return a==null?d:this.add(a-d,"d")}function pf(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var d=uf(a,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function xi(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||or.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Nn),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function ks(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||or.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xc),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function kc(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||or.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pc),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function or(){function a(At,fr){return fr.length-At.length}var d=[],p=[],g=[],v=[],C,k,q,re,we;for(C=0;C<7;C++)k=b([2e3,1]).day(C),q=Qt(this.weekdaysMin(k,"")),re=Qt(this.weekdaysShort(k,"")),we=Qt(this.weekdays(k,"")),d.push(q),p.push(re),g.push(we),v.push(q),v.push(re),v.push(we);d.sort(a),p.sort(a),g.sort(a),v.sort(a),this._weekdaysRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ar(){return this.hours()%12||12}function Fc(){return this.hours()||24}$("H",["HH",2],0,"hour"),$("h",["hh",2],0,ar),$("k",["kk",2],0,Fc),$("hmm",0,0,function(){return""+ar.apply(this)+vt(this.minutes(),2)}),$("hmmss",0,0,function(){return""+ar.apply(this)+vt(this.minutes(),2)+vt(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+vt(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+vt(this.minutes(),2)+vt(this.seconds(),2)});function Fs(a,d){$(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}Fs("a",!0),Fs("A",!1);function We(a,d){return d._meridiemParse}H("a",We),H("A",We),H("H",he,Rs),H("h",he,tr),H("k",he,tr),H("HH",he,ft),H("hh",he,ft),H("kk",he,ft),H("hmm",Ci),H("hmmss",Ca),H("Hmm",Ci),H("Hmmss",Ca),Ne(["H","HH"],$e),Ne(["k","kk"],function(a,d,p){var g=pe(a);d[$e]=g===24?0:g}),Ne(["a","A"],function(a,d,p){p._isPm=p._locale.isPM(a),p._meridiem=a}),Ne(["h","hh"],function(a,d,p){d[$e]=pe(a),x(p).bigHour=!0}),Ne("hmm",function(a,d,p){var g=a.length-2;d[$e]=pe(a.substr(0,g)),d[Vt]=pe(a.substr(g)),x(p).bigHour=!0}),Ne("hmmss",function(a,d,p){var g=a.length-4,v=a.length-2;d[$e]=pe(a.substr(0,g)),d[Vt]=pe(a.substr(g,2)),d[hn]=pe(a.substr(v)),x(p).bigHour=!0}),Ne("Hmm",function(a,d,p){var g=a.length-2;d[$e]=pe(a.substr(0,g)),d[Vt]=pe(a.substr(g))}),Ne("Hmmss",function(a,d,p){var g=a.length-4,v=a.length-2;d[$e]=pe(a.substr(0,g)),d[Vt]=pe(a.substr(g,2)),d[hn]=pe(a.substr(v))});function gf(a){return(a+"").toLowerCase().charAt(0)==="p"}var mf=/[ap]\.?m?\.?/i,Lc=ir("Hours",!0);function Vc(a,d,p){return a>11?p?"pm":"PM":p?"am":"AM"}var Fa={calendar:Zh,longDateFormat:Xh,invalidDate:Cs,ordinal:wa,dayOfMonthOrdinalParse:Ia,relativeTime:Da,months:Ra,monthsShort:Lr,week:Ve,weekdays:cf,weekdaysMin:Ni,weekdaysShort:Nc,meridiemParse:mf},Oe={},Ur={},St;function Uc(a,d){var p,g=Math.min(a.length,d.length);for(p=0;p<g;p+=1)if(a[p]!==d[p])return p;return g}function jc(a){return a&&a.toLowerCase().replace("_","-")}function Pi(a){for(var d=0,p,g,v,C;d<a.length;){for(C=jc(a[d]).split("-"),p=C.length,g=jc(a[d+1]),g=g?g.split("-"):null;p>0;){if(v=jr(C.slice(0,p).join("-")),v)return v;if(g&&g.length>=p&&Uc(C,g)>=p-1)break;p--}d++}return St}function Bc(a){return!!(a&&a.match("^[^/\\\\]*$"))}function jr(a){var d=null,p;if(Oe[a]===void 0&&typeof oa<"u"&&oa&&oa.exports&&Bc(a))try{d=St._abbr,p=iw,p("./locale/"+a),Ut(d)}catch{Oe[a]=null}return Oe[a]}function Ut(a,d){var p;return a&&(c(d)?p=pn(a):p=Ls(a,d),p?St=p:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),St._abbr}function Ls(a,d){if(d!==null){var p,g=Fa;if(d.abbr=a,Oe[a]!=null)A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=Oe[a]._config;else if(d.parentLocale!=null)if(Oe[d.parentLocale]!=null)g=Oe[d.parentLocale]._config;else if(p=jr(d.parentLocale),p!=null)g=p._config;else return Ur[d.parentLocale]||(Ur[d.parentLocale]=[]),Ur[d.parentLocale].push({name:a,config:d}),null;return Oe[a]=new Lt(D(g,d)),Ur[a]&&Ur[a].forEach(function(v){Ls(v.name,v.config)}),Ut(a),Oe[a]}else return delete Oe[a],null}function Vs(a,d){if(d!=null){var p,g,v=Fa;Oe[a]!=null&&Oe[a].parentLocale!=null?Oe[a].set(D(Oe[a]._config,d)):(g=jr(a),g!=null&&(v=g._config),d=D(v,d),g==null&&(d.abbr=a),p=new Lt(d),p.parentLocale=Oe[a],Oe[a]=p),Ut(a)}else Oe[a]!=null&&(Oe[a].parentLocale!=null?(Oe[a]=Oe[a].parentLocale,a===Ut()&&Ut(a)):Oe[a]!=null&&delete Oe[a]);return Oe[a]}function pn(a){var d;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return St;if(!r(a)){if(d=jr(a),d)return d;a=[a]}return Pi(a)}function $c(){return Jn(Oe)}function ur(a){var d,p=a._a;return p&&x(a).overflow===-2&&(d=p[dn]<0||p[dn]>11?dn:p[Zt]<1||p[Zt]>xs(p[Ke],p[dn])?Zt:p[$e]<0||p[$e]>24||p[$e]===24&&(p[Vt]!==0||p[hn]!==0||p[Jt]!==0)?$e:p[Vt]<0||p[Vt]>59?Vt:p[hn]<0||p[hn]>59?hn:p[Jt]<0||p[Jt]>999?Jt:-1,x(a)._overflowDayOfYear&&(d<Ke||d>Zt)&&(d=Zt),x(a)._overflowWeeks&&d===-1&&(d=wc),x(a)._overflowWeekday&&d===-1&&(d=Ma),x(a).overflow=d),a}var Hc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,La=/Z|[+-]\d\d(?::?\d\d)?/,Br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Us=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],js=/^\/?Date\((-?\d+)/i,qc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gc={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Pn(a){var d,p,g=a._i,v=Hc.exec(g)||zc.exec(g),C,k,q,re,we=Br.length,At=Us.length;if(v){for(x(a).iso=!0,d=0,p=we;d<p;d++)if(Br[d][1].exec(v[1])){k=Br[d][0],C=Br[d][2]!==!1;break}if(k==null){a._isValid=!1;return}if(v[3]){for(d=0,p=At;d<p;d++)if(Us[d][1].exec(v[3])){q=(v[2]||" ")+Us[d][0];break}if(q==null){a._isValid=!1;return}}if(!C&&q!=null){a._isValid=!1;return}if(v[4])if(La.exec(v[4]))re="Z";else{a._isValid=!1;return}a._f=k+(q||"")+(re||""),m(a)}else a._isValid=!1}function Wc(a,d,p,g,v,C){var k=[Yc(a),Lr.indexOf(d),parseInt(p,10),parseInt(g,10),parseInt(v,10)];return C&&k.push(parseInt(C,10)),k}function Yc(a){var d=parseInt(a,10);return d<=49?2e3+d:d<=999?1900+d:d}function Kc(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Qc(a,d,p){if(a){var g=Nc.indexOf(a),v=new Date(d[0],d[1],d[2]).getDay();if(g!==v)return x(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function Bs(a,d,p){if(a)return Gc[a];if(d)return 0;var g=parseInt(p,10),v=g%100,C=(g-v)/100;return C*60+v}function _t(a){var d=qc.exec(Kc(a._i)),p;if(d){if(p=Wc(d[4],d[3],d[2],d[5],d[6],d[7]),!Qc(d[1],p,a))return;a._a=p,a._tzm=Bs(d[8],d[9],d[10]),a._d=Ai.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),x(a).rfc2822=!0}else a._isValid=!1}function Zc(a){var d=js.exec(a._i);if(d!==null){a._d=new Date(+d[1]);return}if(Pn(a),a._isValid===!1)delete a._isValid;else return;if(_t(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:e.createFromInputFallback(a)}e.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function cr(a,d,p){return a??d??p}function $r(a){var d=new Date(e.now());return a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function u(a){var d,p,g=[],v,C,k;if(!a._d){for(v=$r(a),a._w&&a._a[Zt]==null&&a._a[dn]==null&&h(a),a._dayOfYear!=null&&(k=cr(a._a[Ke],v[Ke]),(a._dayOfYear>An(k)||a._dayOfYear===0)&&(x(a)._overflowDayOfYear=!0),p=Ai(k,0,a._dayOfYear),a._a[dn]=p.getUTCMonth(),a._a[Zt]=p.getUTCDate()),d=0;d<3&&a._a[d]==null;++d)a._a[d]=g[d]=v[d];for(;d<7;d++)a._a[d]=g[d]=a._a[d]==null?d===2?1:0:a._a[d];a._a[$e]===24&&a._a[Vt]===0&&a._a[hn]===0&&a._a[Jt]===0&&(a._nextDay=!0,a._a[$e]=0),a._d=(a._useUTC?Ai:Ac).apply(null,g),C=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[$e]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==C&&(x(a).weekdayMismatch=!0)}}function h(a){var d,p,g,v,C,k,q,re,we;d=a._w,d.GG!=null||d.W!=null||d.E!=null?(C=1,k=4,p=cr(d.GG,a._a[Ke],Rn(ue(),1,4).year),g=cr(d.W,1),v=cr(d.E,1),(v<1||v>7)&&(re=!0)):(C=a._locale._week.dow,k=a._locale._week.doy,we=Rn(ue(),C,k),p=cr(d.gg,a._a[Ke],we.year),g=cr(d.w,we.week),d.d!=null?(v=d.d,(v<0||v>6)&&(re=!0)):d.e!=null?(v=d.e+C,(d.e<0||d.e>6)&&(re=!0)):v=C),g<1||g>Nt(p,C,k)?x(a)._overflowWeeks=!0:re!=null?x(a)._overflowWeekday=!0:(q=en(p,g,v,C,k),a._a[Ke]=q.year,a._dayOfYear=q.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function m(a){if(a._f===e.ISO_8601){Pn(a);return}if(a._f===e.RFC_2822){_t(a);return}a._a=[],x(a).empty=!0;var d=""+a._i,p,g,v,C,k,q=d.length,re=0,we,At;for(v=Fr(a._f,a._locale).match(Ii)||[],At=v.length,p=0;p<At;p++)C=v[p],g=(d.match(Aa(C,a))||[])[0],g&&(k=d.substr(0,d.indexOf(g)),k.length>0&&x(a).unusedInput.push(k),d=d.slice(d.indexOf(g)+g.length),re+=g.length),Ct[C]?(g?x(a).empty=!1:x(a).unusedTokens.push(C),_c(C,g,a)):a._strict&&!g&&x(a).unusedTokens.push(C);x(a).charsLeftOver=q-re,d.length>0&&x(a).unusedInput.push(d),a._a[$e]<=12&&x(a).bigHour===!0&&a._a[$e]>0&&(x(a).bigHour=void 0),x(a).parsedDateParts=a._a.slice(0),x(a).meridiem=a._meridiem,a._a[$e]=_(a._locale,a._a[$e],a._meridiem),we=x(a).era,we!==null&&(a._a[Ke]=a._locale.erasConvertYear(we,a._a[Ke])),u(a),ur(a)}function _(a,d,p){var g;return p==null?d:a.meridiemHour!=null?a.meridiemHour(d,p):(a.isPM!=null&&(g=a.isPM(p),g&&d<12&&(d+=12),!g&&d===12&&(d=0)),d)}function N(a){var d,p,g,v,C,k,q=!1,re=a._f.length;if(re===0){x(a).invalidFormat=!0,a._d=new Date(NaN);return}for(v=0;v<re;v++)C=0,k=!1,d=De({},a),a._useUTC!=null&&(d._useUTC=a._useUTC),d._f=a._f[v],m(d),F(d)&&(k=!0),C+=x(d).charsLeftOver,C+=x(d).unusedTokens.length*10,x(d).score=C,q?C<g&&(g=C,p=d):(g==null||C<g||k)&&(g=C,p=d,k&&(q=!0));w(a,p||d)}function O(a){if(!a._d){var d=Ss(a._i),p=d.day===void 0?d.date:d.day;a._a=y([d.year,d.month,p,d.hour,d.minute,d.second,d.millisecond],function(g){return g&&parseInt(g,10)}),u(a)}}function B(a){var d=new Be(ur(xe(a)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function xe(a){var d=a._i,p=a._f;return a._locale=a._locale||pn(a._l),d===null||p===void 0&&d===""?Y({nullInput:!0}):(typeof d=="string"&&(a._i=d=a._locale.preparse(d)),Q(d)?new Be(ur(d)):(f(d)?a._d=d:r(p)?N(a):p?m(a):rt(a),F(a)||(a._d=null),a))}function rt(a){var d=a._i;c(d)?a._d=new Date(e.now()):f(d)?a._d=new Date(d.valueOf()):typeof d=="string"?Zc(a):r(d)?(a._a=y(d.slice(0),function(p){return parseInt(p,10)}),u(a)):i(d)?O(a):l(d)?a._d=new Date(d):e.createFromInputFallback(a)}function _e(a,d,p,g,v){var C={};return(d===!0||d===!1)&&(g=d,d=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(i(a)&&o(a)||r(a)&&a.length===0)&&(a=void 0),C._isAMomentObject=!0,C._useUTC=C._isUTC=v,C._l=p,C._i=a,C._f=d,C._strict=g,B(C)}function ue(a,d,p,g){return _e(a,d,p,g,!1)}var ct=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=ue.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:Y()}),Hr=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=ue.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:Y()});function xt(a,d){var p,g;if(d.length===1&&r(d[0])&&(d=d[0]),!d.length)return ue();for(p=d[0],g=1;g<d.length;++g)(!d[g].isValid()||d[g][a](p))&&(p=d[g]);return p}function $s(){var a=[].slice.call(arguments,0);return xt("isBefore",a)}function Va(){var a=[].slice.call(arguments,0);return xt("isAfter",a)}var OT=function(){return Date.now?Date.now():+new Date},Ua=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kT(a){var d,p=!1,g,v=Ua.length;for(d in a)if(s(a,d)&&!(He.call(Ua,d)!==-1&&(a[d]==null||!isNaN(a[d]))))return!1;for(g=0;g<v;++g)if(a[Ua[g]]){if(p)return!1;parseFloat(a[Ua[g]])!==pe(a[Ua[g]])&&(p=!0)}return!0}function FT(){return this._isValid}function LT(){return gn(NaN)}function Jc(a){var d=Ss(a),p=d.year||0,g=d.quarter||0,v=d.month||0,C=d.week||d.isoWeek||0,k=d.day||0,q=d.hour||0,re=d.minute||0,we=d.second||0,At=d.millisecond||0;this._isValid=kT(d),this._milliseconds=+At+we*1e3+re*6e4+q*1e3*60*60,this._days=+k+C*7,this._months=+v+g*3+p*12,this._data={},this._locale=pn(),this._bubble()}function Xc(a){return a instanceof Jc}function yf(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function VT(a,d,p){var g=Math.min(a.length,d.length),v=Math.abs(a.length-d.length),C=0,k;for(k=0;k<g;k++)(p&&a[k]!==d[k]||!p&&pe(a[k])!==pe(d[k]))&&C++;return C+v}function P_(a,d){$(a,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+vt(~~(p/60),2)+d+vt(~~p%60,2)})}P_("Z",":"),P_("ZZ",""),H("Z",Ms),H("ZZ",Ms),Ne(["Z","ZZ"],function(a,d,p){p._useUTC=!0,p._tzm=vf(Ms,a)});var UT=/([\+\-]|\d\d)/gi;function vf(a,d){var p=(d||"").match(a),g,v,C;return p===null?null:(g=p[p.length-1]||[],v=(g+"").match(UT)||["-",0,0],C=+(v[1]*60)+pe(v[2]),C===0?0:v[0]==="+"?C:-C)}function _f(a,d){var p,g;return d._isUTC?(p=d.clone(),g=(Q(a)||f(a)?a.valueOf():ue(a).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),e.updateOffset(p,!1),p):ue(a).local()}function wf(a){return-Math.round(a._d.getTimezoneOffset())}e.updateOffset=function(){};function jT(a,d,p){var g=this._offset||0,v;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=vf(Ms,a),a===null)return this}else Math.abs(a)<16&&!p&&(a=a*60);return!this._isUTC&&d&&(v=wf(this)),this._offset=a,this._isUTC=!0,v!=null&&this.add(v,"m"),g!==a&&(!d||this._changeInProgress?L_(this,gn(a-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:wf(this)}function BT(a,d){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,d),this):-this.utcOffset()}function $T(a){return this.utcOffset(0,a)}function HT(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(wf(this),"m")),this}function zT(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=vf(Sa,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function qT(a){return this.isValid()?(a=a?ue(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function GT(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function WT(){if(!c(this._isDSTShifted))return this._isDSTShifted;var a={},d;return De(a,this),a=xe(a),a._a?(d=a._isUTC?b(a._a):ue(a._a),this._isDSTShifted=this.isValid()&&VT(a._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function YT(){return this.isValid()?!this._isUTC:!1}function KT(){return this.isValid()?this._isUTC:!1}function O_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var QT=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ZT=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function gn(a,d){var p=a,g=null,v,C,k;return Xc(a)?p={ms:a._milliseconds,d:a._days,M:a._months}:l(a)||!isNaN(+a)?(p={},d?p[d]=+a:p.milliseconds=+a):(g=QT.exec(a))?(v=g[1]==="-"?-1:1,p={y:0,d:pe(g[Zt])*v,h:pe(g[$e])*v,m:pe(g[Vt])*v,s:pe(g[hn])*v,ms:pe(yf(g[Jt]*1e3))*v}):(g=ZT.exec(a))?(v=g[1]==="-"?-1:1,p={y:Oi(g[2],v),M:Oi(g[3],v),w:Oi(g[4],v),d:Oi(g[5],v),h:Oi(g[6],v),m:Oi(g[7],v),s:Oi(g[8],v)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(k=JT(ue(p.from),ue(p.to)),p={},p.ms=k.milliseconds,p.M=k.months),C=new Jc(p),Xc(a)&&s(a,"_locale")&&(C._locale=a._locale),Xc(a)&&s(a,"_isValid")&&(C._isValid=a._isValid),C}gn.fn=Jc.prototype,gn.invalid=LT;function Oi(a,d){var p=a&&parseFloat(a.replace(",","."));return(isNaN(p)?0:p)*d}function k_(a,d){var p={};return p.months=d.month()-a.month()+(d.year()-a.year())*12,a.clone().add(p.months,"M").isAfter(d)&&--p.months,p.milliseconds=+d-+a.clone().add(p.months,"M"),p}function JT(a,d){var p;return a.isValid()&&d.isValid()?(d=_f(d,a),a.isBefore(d)?p=k_(a,d):(p=k_(d,a),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function F_(a,d){return function(p,g){var v,C;return g!==null&&!isNaN(+g)&&(A(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),C=p,p=g,g=C),v=gn(p,g),L_(this,v,a),this}}function L_(a,d,p,g){var v=d._milliseconds,C=yf(d._days),k=yf(d._months);a.isValid()&&(g=g??!0,k&&Ps(a,sr(a,"Month")+k*p),C&&Ns(a,"Date",sr(a,"Date")+C*p),v&&a._d.setTime(a._d.valueOf()+v*p),g&&e.updateOffset(a,C||k))}var XT=F_(1,"add"),eS=F_(-1,"subtract");function V_(a){return typeof a=="string"||a instanceof String}function tS(a){return Q(a)||f(a)||V_(a)||l(a)||rS(a)||nS(a)||a===null||a===void 0}function nS(a){var d=i(a)&&!o(a),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],v,C,k=g.length;for(v=0;v<k;v+=1)C=g[v],p=p||s(a,C);return d&&p}function rS(a){var d=r(a),p=!1;return d&&(p=a.filter(function(g){return!l(g)&&V_(a)}).length===0),d&&p}function iS(a){var d=i(a)&&!o(a),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],v,C;for(v=0;v<g.length;v+=1)C=g[v],p=p||s(a,C);return d&&p}function sS(a,d){var p=a.diff(d,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function oS(a,d){arguments.length===1&&(arguments[0]?tS(arguments[0])?(a=arguments[0],d=void 0):iS(arguments[0])&&(d=arguments[0],a=void 0):(a=void 0,d=void 0));var p=a||ue(),g=_f(p,this).startOf("day"),v=e.calendarFormat(this,g)||"sameElse",C=d&&(R(d[v])?d[v].call(this,p):d[v]);return this.format(C||this.localeData().calendar(v,this,ue(p)))}function aS(){return new Be(this)}function uS(a,d){var p=Q(a)?a:ue(a);return this.isValid()&&p.isValid()?(d=Tt(d)||"millisecond",d==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(d).valueOf()):!1}function cS(a,d){var p=Q(a)?a:ue(a);return this.isValid()&&p.isValid()?(d=Tt(d)||"millisecond",d==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(d).valueOf()<p.valueOf()):!1}function lS(a,d,p,g){var v=Q(a)?a:ue(a),C=Q(d)?d:ue(d);return this.isValid()&&v.isValid()&&C.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(v,p):!this.isBefore(v,p))&&(g[1]===")"?this.isBefore(C,p):!this.isAfter(C,p))):!1}function dS(a,d){var p=Q(a)?a:ue(a),g;return this.isValid()&&p.isValid()?(d=Tt(d)||"millisecond",d==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(d).valueOf()<=g&&g<=this.clone().endOf(d).valueOf())):!1}function hS(a,d){return this.isSame(a,d)||this.isAfter(a,d)}function fS(a,d){return this.isSame(a,d)||this.isBefore(a,d)}function pS(a,d,p){var g,v,C;if(!this.isValid())return NaN;if(g=_f(a,this),!g.isValid())return NaN;switch(v=(g.utcOffset()-this.utcOffset())*6e4,d=Tt(d),d){case"year":C=el(this,g)/12;break;case"month":C=el(this,g);break;case"quarter":C=el(this,g)/3;break;case"second":C=(this-g)/1e3;break;case"minute":C=(this-g)/6e4;break;case"hour":C=(this-g)/36e5;break;case"day":C=(this-g-v)/864e5;break;case"week":C=(this-g-v)/6048e5;break;default:C=this-g}return p?C:pt(C)}function el(a,d){if(a.date()<d.date())return-el(d,a);var p=(d.year()-a.year())*12+(d.month()-a.month()),g=a.clone().add(p,"months"),v,C;return d-g<0?(v=a.clone().add(p-1,"months"),C=(d-g)/(g-v)):(v=a.clone().add(p+1,"months"),C=(d-g)/(v-g)),-(p+C)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gS(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mS(a){if(!this.isValid())return null;var d=a!==!0,p=d?this.clone().utc():this;return p.year()<0||p.year()>9999?bs(p,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",bs(p,"Z")):bs(p,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yS(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",d="",p,g,v,C;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),p="["+a+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",v="-MM-DD[T]HH:mm:ss.SSS",C=d+'[")]',this.format(p+g+v+C)}function vS(a){a||(a=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=bs(this,a);return this.localeData().postformat(d)}function _S(a,d){return this.isValid()&&(Q(a)&&a.isValid()||ue(a).isValid())?gn({to:this,from:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function wS(a){return this.from(ue(),a)}function IS(a,d){return this.isValid()&&(Q(a)&&a.isValid()||ue(a).isValid())?gn({from:this,to:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function ES(a){return this.to(ue(),a)}function U_(a){var d;return a===void 0?this._locale._abbr:(d=pn(a),d!=null&&(this._locale=d),this)}var j_=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function B_(){return this._locale}var tl=1e3,Hs=60*tl,nl=60*Hs,$_=(365*400+97)*24*nl;function zs(a,d){return(a%d+d)%d}function H_(a,d,p){return a<100&&a>=0?new Date(a+400,d,p)-$_:new Date(a,d,p).valueOf()}function z_(a,d,p){return a<100&&a>=0?Date.UTC(a+400,d,p)-$_:Date.UTC(a,d,p)}function DS(a){var d,p;if(a=Tt(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?z_:H_,a){case"year":d=p(this.year(),0,1);break;case"quarter":d=p(this.year(),this.month()-this.month()%3,1);break;case"month":d=p(this.year(),this.month(),1);break;case"week":d=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=p(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=zs(d+(this._isUTC?0:this.utcOffset()*Hs),nl);break;case"minute":d=this._d.valueOf(),d-=zs(d,Hs);break;case"second":d=this._d.valueOf(),d-=zs(d,tl);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function bS(a){var d,p;if(a=Tt(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?z_:H_,a){case"year":d=p(this.year()+1,0,1)-1;break;case"quarter":d=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=p(this.year(),this.month()+1,1)-1;break;case"week":d=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=nl-zs(d+(this._isUTC?0:this.utcOffset()*Hs),nl)-1;break;case"minute":d=this._d.valueOf(),d+=Hs-zs(d,Hs)-1;break;case"second":d=this._d.valueOf(),d+=tl-zs(d,tl)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function CS(){return this._d.valueOf()-(this._offset||0)*6e4}function TS(){return Math.floor(this.valueOf()/1e3)}function SS(){return new Date(this.valueOf())}function AS(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function MS(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function RS(){return this.isValid()?this.toISOString():null}function NS(){return F(this)}function xS(){return w({},x(this))}function PS(){return x(this).overflow}function OS(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$("N",0,0,"eraAbbr"),$("NN",0,0,"eraAbbr"),$("NNN",0,0,"eraAbbr"),$("NNNN",0,0,"eraName"),$("NNNNN",0,0,"eraNarrow"),$("y",["y",1],"yo","eraYear"),$("y",["yy",2],0,"eraYear"),$("y",["yyy",3],0,"eraYear"),$("y",["yyyy",4],0,"eraYear"),H("N",If),H("NN",If),H("NNN",If),H("NNNN",qS),H("NNNNN",GS),Ne(["N","NN","NNN","NNNN","NNNNN"],function(a,d,p,g){var v=p._locale.erasParse(a,g,p._strict);v?x(p).era=v:x(p).invalidEra=a}),H("y",Xn),H("yy",Xn),H("yyy",Xn),H("yyyy",Xn),H("yo",WS),Ne(["y","yy","yyy","yyyy"],Ke),Ne(["yo"],function(a,d,p,g){var v;p._locale._eraYearOrdinalRegex&&(v=a.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?d[Ke]=p._locale.eraYearOrdinalParse(a,v):d[Ke]=parseInt(a,10)});function kS(a,d){var p,g,v,C=this._eras||pn("en")._eras;for(p=0,g=C.length;p<g;++p){switch(typeof C[p].since){case"string":v=e(C[p].since).startOf("day"),C[p].since=v.valueOf();break}switch(typeof C[p].until){case"undefined":C[p].until=1/0;break;case"string":v=e(C[p].until).startOf("day").valueOf(),C[p].until=v.valueOf();break}}return C}function FS(a,d,p){var g,v,C=this.eras(),k,q,re;for(a=a.toUpperCase(),g=0,v=C.length;g<v;++g)if(k=C[g].name.toUpperCase(),q=C[g].abbr.toUpperCase(),re=C[g].narrow.toUpperCase(),p)switch(d){case"N":case"NN":case"NNN":if(q===a)return C[g];break;case"NNNN":if(k===a)return C[g];break;case"NNNNN":if(re===a)return C[g];break}else if([k,q,re].indexOf(a)>=0)return C[g]}function LS(a,d){var p=a.since<=a.until?1:-1;return d===void 0?e(a.since).year():e(a.since).year()+(d-a.offset)*p}function VS(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].name;return""}function US(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].narrow;return""}function jS(){var a,d,p,g=this.localeData().eras();for(a=0,d=g.length;a<d;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].abbr;return""}function BS(){var a,d,p,g,v=this.localeData().eras();for(a=0,d=v.length;a<d;++a)if(p=v[a].since<=v[a].until?1:-1,g=this.clone().startOf("day").valueOf(),v[a].since<=g&&g<=v[a].until||v[a].until<=g&&g<=v[a].since)return(this.year()-e(v[a].since).year())*p+v[a].offset;return this.year()}function $S(a){return s(this,"_erasNameRegex")||Ef.call(this),a?this._erasNameRegex:this._erasRegex}function HS(a){return s(this,"_erasAbbrRegex")||Ef.call(this),a?this._erasAbbrRegex:this._erasRegex}function zS(a){return s(this,"_erasNarrowRegex")||Ef.call(this),a?this._erasNarrowRegex:this._erasRegex}function If(a,d){return d.erasAbbrRegex(a)}function qS(a,d){return d.erasNameRegex(a)}function GS(a,d){return d.erasNarrowRegex(a)}function WS(a,d){return d._eraYearOrdinalRegex||Xn}function Ef(){var a=[],d=[],p=[],g=[],v,C,k,q,re,we=this.eras();for(v=0,C=we.length;v<C;++v)k=Qt(we[v].name),q=Qt(we[v].abbr),re=Qt(we[v].narrow),d.push(k),a.push(q),p.push(re),g.push(k),g.push(q),g.push(re);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rl(a,d){$(0,[a,a.length],0,d)}rl("gggg","weekYear"),rl("ggggg","weekYear"),rl("GGGG","isoWeekYear"),rl("GGGGG","isoWeekYear"),H("G",Si),H("g",Si),H("GG",he,ft),H("gg",he,ft),H("GGGG",Ta,bi),H("gggg",Ta,bi),H("GGGGG",Cn,Xe),H("ggggg",Cn,Xe),et(["gggg","ggggg","GGGG","GGGGG"],function(a,d,p,g){d[g.substr(0,2)]=pe(a)}),et(["gg","GG"],function(a,d,p,g){d[g]=e.parseTwoDigitYear(a)});function YS(a){return q_.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KS(a){return q_.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function QS(){return Nt(this.year(),1,4)}function ZS(){return Nt(this.isoWeekYear(),1,4)}function JS(){var a=this.localeData()._week;return Nt(this.year(),a.dow,a.doy)}function XS(){var a=this.localeData()._week;return Nt(this.weekYear(),a.dow,a.doy)}function q_(a,d,p,g,v){var C;return a==null?Rn(this,g,v).year:(C=Nt(a,g,v),d>C&&(d=C),eA.call(this,a,d,p,g,v))}function eA(a,d,p,g,v){var C=en(a,d,p,g,v),k=Ai(C.year,0,C.dayOfYear);return this.year(k.getUTCFullYear()),this.month(k.getUTCMonth()),this.date(k.getUTCDate()),this}$("Q",0,"Qo","quarter"),H("Q",vc),Ne("Q",function(a,d){d[dn]=(pe(a)-1)*3});function tA(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}$("D",["DD",2],"Do","date"),H("D",he,tr),H("DD",he,ft),H("Do",function(a,d){return a?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),Ne(["D","DD"],Zt),Ne("Do",function(a,d){d[Zt]=pe(a.match(he)[0])});var G_=ir("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),H("DDD",Ti),H("DDDD",As),Ne(["DDD","DDDD"],function(a,d,p){p._dayOfYear=pe(a)});function nA(a){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?d:this.add(a-d,"d")}$("m",["mm",2],0,"minute"),H("m",he,Rs),H("mm",he,ft),Ne(["m","mm"],Vt);var rA=ir("Minutes",!1);$("s",["ss",2],0,"second"),H("s",he,Rs),H("ss",he,ft),Ne(["s","ss"],hn);var iA=ir("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return this.millisecond()*10}),$(0,["SSSSS",5],0,function(){return this.millisecond()*100}),$(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),$(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),$(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),$(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),H("S",Ti,vc),H("SS",Ti,ft),H("SSS",Ti,As);var zr,W_;for(zr="SSSS";zr.length<=9;zr+="S")H(zr,Xn);function sA(a,d){d[Jt]=pe(("0."+a)*1e3)}for(zr="S";zr.length<=9;zr+="S")Ne(zr,sA);W_=ir("Milliseconds",!1),$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");function oA(){return this._isUTC?"UTC":""}function aA(){return this._isUTC?"Coordinated Universal Time":""}var U=Be.prototype;U.add=XT,U.calendar=oS,U.clone=aS,U.diff=pS,U.endOf=bS,U.format=vS,U.from=_S,U.fromNow=wS,U.to=IS,U.toNow=ES,U.get=Ec,U.invalidAt=PS,U.isAfter=uS,U.isBefore=cS,U.isBetween=lS,U.isSame=dS,U.isSameOrAfter=hS,U.isSameOrBefore=fS,U.isValid=NS,U.lang=j_,U.locale=U_,U.localeData=B_,U.max=Hr,U.min=ct,U.parsingFlags=xS,U.set=Dc,U.startOf=DS,U.subtract=eS,U.toArray=AS,U.toObject=MS,U.toDate=SS,U.toISOString=mS,U.inspect=yS,typeof Symbol<"u"&&Symbol.for!=null&&(U[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),U.toJSON=RS,U.toString=gS,U.unix=TS,U.valueOf=CS,U.creationData=OS,U.eraName=VS,U.eraNarrow=US,U.eraAbbr=jS,U.eraYear=BS,U.year=fn,U.isLeapYear=Ic,U.weekYear=YS,U.isoWeekYear=KS,U.quarter=U.quarters=tA,U.month=Pa,U.daysInMonth=Sc,U.week=U.weeks=Ri,U.isoWeek=U.isoWeeks=af,U.weeksInYear=JS,U.weeksInWeekYear=XS,U.isoWeeksInYear=QS,U.isoWeeksInISOWeekYear=ZS,U.date=G_,U.day=U.days=xn,U.weekday=ff,U.isoWeekday=pf,U.dayOfYear=nA,U.hour=U.hours=Lc,U.minute=U.minutes=rA,U.second=U.seconds=iA,U.millisecond=U.milliseconds=W_,U.utcOffset=jT,U.utc=$T,U.local=HT,U.parseZone=zT,U.hasAlignedHourOffset=qT,U.isDST=GT,U.isLocal=YT,U.isUtcOffset=KT,U.isUtc=O_,U.isUTC=O_,U.zoneAbbr=oA,U.zoneName=aA,U.dates=I("dates accessor is deprecated. Use date instead.",G_),U.months=I("months accessor is deprecated. Use month instead",Pa),U.years=I("years accessor is deprecated. Use year instead",fn),U.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",BT),U.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",WT);function uA(a){return ue(a*1e3)}function cA(){return ue.apply(null,arguments).parseZone()}function Y_(a){return a}var Ae=Lt.prototype;Ae.calendar=wi,Ae.longDateFormat=ef,Ae.invalidDate=Ts,Ae.ordinal=Ea,Ae.preparse=Y_,Ae.postformat=Y_,Ae.relativeTime=pc,Ae.pastFuture=gc,Ae.set=P,Ae.eras=kS,Ae.erasParse=FS,Ae.erasConvertYear=LS,Ae.erasAbbrRegex=HS,Ae.erasNameRegex=$S,Ae.erasNarrowRegex=zS,Ae.months=bc,Ae.monthsShort=Cc,Ae.monthsParse=xa,Ae.monthsRegex=of,Ae.monthsShortRegex=sf,Ae.week=Mc,Ae.firstDayOfYear=Mi,Ae.firstDayOfWeek=Os,Ae.weekdays=Oc,Ae.weekdaysMin=lf,Ae.weekdaysShort=Vr,Ae.weekdaysParse=hf,Ae.weekdaysRegex=xi,Ae.weekdaysShortRegex=ks,Ae.weekdaysMinRegex=kc,Ae.isPM=gf,Ae.meridiem=Vc;function il(a,d,p,g){var v=pn(),C=b().set(g,d);return v[p](C,a)}function K_(a,d,p){if(l(a)&&(d=a,a=void 0),a=a||"",d!=null)return il(a,d,p,"month");var g,v=[];for(g=0;g<12;g++)v[g]=il(a,g,p,"month");return v}function Df(a,d,p,g){typeof a=="boolean"?(l(d)&&(p=d,d=void 0),d=d||""):(d=a,p=d,a=!1,l(d)&&(p=d,d=void 0),d=d||"");var v=pn(),C=a?v._week.dow:0,k,q=[];if(p!=null)return il(d,(p+C)%7,g,"day");for(k=0;k<7;k++)q[k]=il(d,(k+C)%7,g,"day");return q}function lA(a,d){return K_(a,d,"months")}function dA(a,d){return K_(a,d,"monthsShort")}function hA(a,d,p){return Df(a,d,p,"weekdays")}function fA(a,d,p){return Df(a,d,p,"weekdaysShort")}function pA(a,d,p){return Df(a,d,p,"weekdaysMin")}Ut("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var d=a%10,p=pe(a%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return a+p}}),e.lang=I("moment.lang is deprecated. Use moment.locale instead.",Ut),e.langData=I("moment.langData is deprecated. Use moment.localeData instead.",pn);var lr=Math.abs;function gA(){var a=this._data;return this._milliseconds=lr(this._milliseconds),this._days=lr(this._days),this._months=lr(this._months),a.milliseconds=lr(a.milliseconds),a.seconds=lr(a.seconds),a.minutes=lr(a.minutes),a.hours=lr(a.hours),a.months=lr(a.months),a.years=lr(a.years),this}function Q_(a,d,p,g){var v=gn(d,p);return a._milliseconds+=g*v._milliseconds,a._days+=g*v._days,a._months+=g*v._months,a._bubble()}function mA(a,d){return Q_(this,a,d,1)}function yA(a,d){return Q_(this,a,d,-1)}function Z_(a){return a<0?Math.floor(a):Math.ceil(a)}function vA(){var a=this._milliseconds,d=this._days,p=this._months,g=this._data,v,C,k,q,re;return a>=0&&d>=0&&p>=0||a<=0&&d<=0&&p<=0||(a+=Z_(bf(p)+d)*864e5,d=0,p=0),g.milliseconds=a%1e3,v=pt(a/1e3),g.seconds=v%60,C=pt(v/60),g.minutes=C%60,k=pt(C/60),g.hours=k%24,d+=pt(k/24),re=pt(J_(d)),p+=re,d-=Z_(bf(re)),q=pt(p/12),p%=12,g.days=d,g.months=p,g.years=q,this}function J_(a){return a*4800/146097}function bf(a){return a*146097/4800}function _A(a){if(!this.isValid())return NaN;var d,p,g=this._milliseconds;if(a=Tt(a),a==="month"||a==="quarter"||a==="year")switch(d=this._days+g/864e5,p=this._months+J_(d),a){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(d=this._days+Math.round(bf(this._months)),a){case"week":return d/7+g/6048e5;case"day":return d+g/864e5;case"hour":return d*24+g/36e5;case"minute":return d*1440+g/6e4;case"second":return d*86400+g/1e3;case"millisecond":return Math.floor(d*864e5)+g;default:throw new Error("Unknown unit "+a)}}function dr(a){return function(){return this.as(a)}}var X_=dr("ms"),wA=dr("s"),IA=dr("m"),EA=dr("h"),DA=dr("d"),bA=dr("w"),CA=dr("M"),TA=dr("Q"),SA=dr("y"),AA=X_;function MA(){return gn(this)}function RA(a){return a=Tt(a),this.isValid()?this[a+"s"]():NaN}function ki(a){return function(){return this.isValid()?this._data[a]:NaN}}var NA=ki("milliseconds"),xA=ki("seconds"),PA=ki("minutes"),OA=ki("hours"),kA=ki("days"),FA=ki("months"),LA=ki("years");function VA(){return pt(this.days()/7)}var hr=Math.round,qs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function UA(a,d,p,g,v){return v.relativeTime(d||1,!!p,a,g)}function jA(a,d,p,g){var v=gn(a).abs(),C=hr(v.as("s")),k=hr(v.as("m")),q=hr(v.as("h")),re=hr(v.as("d")),we=hr(v.as("M")),At=hr(v.as("w")),fr=hr(v.as("y")),qr=C<=p.ss&&["s",C]||C<p.s&&["ss",C]||k<=1&&["m"]||k<p.m&&["mm",k]||q<=1&&["h"]||q<p.h&&["hh",q]||re<=1&&["d"]||re<p.d&&["dd",re];return p.w!=null&&(qr=qr||At<=1&&["w"]||At<p.w&&["ww",At]),qr=qr||we<=1&&["M"]||we<p.M&&["MM",we]||fr<=1&&["y"]||["yy",fr],qr[2]=d,qr[3]=+a>0,qr[4]=g,UA.apply(null,qr)}function BA(a){return a===void 0?hr:typeof a=="function"?(hr=a,!0):!1}function $A(a,d){return qs[a]===void 0?!1:d===void 0?qs[a]:(qs[a]=d,a==="s"&&(qs.ss=d-1),!0)}function HA(a,d){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=qs,v,C;return typeof a=="object"&&(d=a,a=!1),typeof a=="boolean"&&(p=a),typeof d=="object"&&(g=Object.assign({},qs,d),d.s!=null&&d.ss==null&&(g.ss=d.s-1)),v=this.localeData(),C=jA(this,!p,g,v),p&&(C=v.pastFuture(+this,C)),v.postformat(C)}var Cf=Math.abs;function Gs(a){return(a>0)-(a<0)||+a}function sl(){if(!this.isValid())return this.localeData().invalidDate();var a=Cf(this._milliseconds)/1e3,d=Cf(this._days),p=Cf(this._months),g,v,C,k,q=this.asSeconds(),re,we,At,fr;return q?(g=pt(a/60),v=pt(g/60),a%=60,g%=60,C=pt(p/12),p%=12,k=a?a.toFixed(3).replace(/\.?0+$/,""):"",re=q<0?"-":"",we=Gs(this._months)!==Gs(q)?"-":"",At=Gs(this._days)!==Gs(q)?"-":"",fr=Gs(this._milliseconds)!==Gs(q)?"-":"",re+"P"+(C?we+C+"Y":"")+(p?we+p+"M":"")+(d?At+d+"D":"")+(v||g||a?"T":"")+(v?fr+v+"H":"")+(g?fr+g+"M":"")+(a?fr+k+"S":"")):"P0D"}var be=Jc.prototype;be.isValid=FT,be.abs=gA,be.add=mA,be.subtract=yA,be.as=_A,be.asMilliseconds=X_,be.asSeconds=wA,be.asMinutes=IA,be.asHours=EA,be.asDays=DA,be.asWeeks=bA,be.asMonths=CA,be.asQuarters=TA,be.asYears=SA,be.valueOf=AA,be._bubble=vA,be.clone=MA,be.get=RA,be.milliseconds=NA,be.seconds=xA,be.minutes=PA,be.hours=OA,be.days=kA,be.weeks=VA,be.months=FA,be.years=LA,be.humanize=HA,be.toISOString=sl,be.toString=sl,be.toJSON=sl,be.locale=U_,be.localeData=B_,be.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sl),be.lang=j_,$("X",0,0,"unix"),$("x",0,0,"valueOf"),H("x",Si),H("X",tf),Ne("X",function(a,d,p){p._d=new Date(parseFloat(a)*1e3)}),Ne("x",function(a,d,p){p._d=new Date(pe(a))});return e.version="2.30.1",t(ue),e.fn=U,e.min=$s,e.max=Va,e.now=OT,e.utc=b,e.unix=uA,e.months=lA,e.isDate=f,e.locale=Ut,e.invalid=Y,e.duration=gn,e.isMoment=Q,e.weekdays=hA,e.parseZone=cA,e.localeData=pn,e.isDuration=Xc,e.monthsShort=dA,e.weekdaysMin=pA,e.defineLocale=Ls,e.updateLocale=Vs,e.locales=$c,e.weekdaysShort=fA,e.normalizeUnits=Tt,e.relativeTimeRounding=BA,e.relativeTimeThreshold=$A,e.calendarFormat=sS,e.prototype=U,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Af=null;var Sf=1,sw=Symbol("SIGNAL");function Ue(n){let e=Af;return Af=n,e}function ow(){return Af}var Mf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function eM(n){if(!(Of(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sf)){if(!n.producerMustRecompute(n)&&!Nf(n)){n.dirty=!1,n.lastCleanEpoch=Sf;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Sf}}function Rf(n){return n&&(n.nextProducerIndex=0),Ue(n)}function aw(n,e){if(Ue(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Of(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Pf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Nf(n){kf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(eM(t),r!==t.version))return!0}return!1}function xf(n){if(kf(n),Of(n))for(let e=0;e<n.producerNode.length;e++)Pf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Pf(n,e){if(tM(n),n.liveConsumerNode.length===1&&nM(n))for(let r=0;r<n.producerNode.length;r++)Pf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];kf(i),i.producerIndexOfThis[r]=e}}function Of(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function kf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function tM(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function nM(n){return n.producerNode!==void 0}function rM(){throw new Error}var iM=rM;function uw(n){iM=n}function ae(n){return typeof n=="function"}function Ws(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ol=Ws(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(s){e=s instanceof ol?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{cw(s)}catch(o){e=e??[],o instanceof ol?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ol(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};Qe.EMPTY=(()=>{let n=new Qe;return n.closed=!0,n})();var Ff=Qe.EMPTY;function al(n){return n instanceof Qe||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function cw(n){ae(n)?n():n.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ys={setTimeout(n,e,...t){let{delegate:r}=Ys;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ys;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ul(n){Ys.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(n);else throw n})}function ja(){}var lw=Lf("C",void 0,void 0);function dw(n){return Lf("E",void 0,n)}function hw(n){return Lf("N",n,void 0)}function Lf(n,e,t){return{kind:n,value:e,error:t}}var Li=null;function Ks(n){if(mn.useDeprecatedSynchronousErrorHandling){let e=!Li;if(e&&(Li={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Li;if(Li=null,t)throw r}}else n()}function fw(n){mn.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=n)}var Vi=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,al(e)&&e.add(this)):this.destination=aM}static create(e,t,r){return new Qs(e,t,r)}next(e){this.isStopped?Uf(hw(e),this):this._next(e)}error(e){this.isStopped?Uf(dw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Uf(lw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sM=Function.prototype.bind;function Vf(n,e){return sM.call(n,e)}var jf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cl(t)}}},Qs=class extends Vi{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vf(e.next,s),error:e.error&&Vf(e.error,s),complete:e.complete&&Vf(e.complete,s)}):i=e}this.destination=new jf(i)}};function cl(n){mn.useDeprecatedSynchronousErrorHandling?fw(n):ul(n)}function oM(n){throw n}function Uf(n,e){let{onStoppedNotification:t}=mn;t&&Ys.setTimeout(()=>t(n,e))}var aM={closed:!0,next:ja,error:oM,complete:ja};var Zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function Bf(...n){return $f(n)}function $f(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=cM(t)?t:new Qs(t,r,i);return Ks(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=pw(r),new r((i,s)=>{let o=new Qs({next:c=>{try{t(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Zs](){return this}pipe(...t){return $f(t)(this)}toPromise(t){return t=pw(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function pw(n){var e;return(e=n??mn.Promise)!==null&&e!==void 0?e:Promise}function uM(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function cM(n){return n&&n instanceof Vi||uM(n)&&al(n)}function Hf(n){return ae(n?.lift)}function Ce(n){return e=>{if(Hf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new zf(n,e,t,r,i)}var zf=class extends Vi{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Js(){return Ce((n,e)=>{let t=null;n._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Xs=class extends Me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return Js()(this)}};var gw=Ws(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class n extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ll(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gw}next(t){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ff:(this.currentObservers=null,s.push(t),new Qe(()=>{this.currentObservers=null,Fi(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Me;return t.source=this,t}}return n.create=(e,t)=>new ll(e,t),n})(),ll=class extends Mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ff}};var gt=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qf={now(){return(qf.delegate||Date).now()},delegate:void 0};var dl=class extends Qe{constructor(e,t){super()}schedule(e,t=0){return this}};var Ba={setInterval(n,e,...t){let{delegate:r}=Ba;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ba;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var eo=class extends dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ba.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ba.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var to=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};to.now=qf.now;var no=class extends to{constructor(e,t=to.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gf=new no(eo);var hl=class extends eo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fl=class extends no{};var Wf=new fl(hl);var Bt=new Me(n=>n.complete());function mw(n){return n&&ae(n.schedule)}function yw(n){return n[n.length-1]}function vw(n){return ae(yw(n))?n.pop():void 0}function Wr(n){return mw(yw(n))?n.pop():void 0}function Yf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ww(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(y){try{f(r.next(y))}catch(w){o(w)}}function l(y){try{f(r.throw(y))}catch(w){o(w)}}function f(y){y.done?s(y.value):i(y.value).then(c,l)}f((r=r.apply(n,e||[])).next())})}function _w(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(n){return this instanceof Ui?(this.v=n,this):new Ui(n)}function Iw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(S){return function(x){return Promise.resolve(x).then(S,w)}}function c(S,x){r[S]&&(i[S]=function(V){return new Promise(function(F,Y){s.push([S,V,F,Y])>1||l(S,V)})},x&&(i[S]=x(i[S])))}function l(S,x){try{f(r[S](x))}catch(V){b(s[0][3],V)}}function f(S){S.value instanceof Ui?Promise.resolve(S.value.v).then(y,w):b(s[0][2],S)}function y(S){l("next",S)}function w(S){l("throw",S)}function b(S,x){S(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Ew(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _w=="function"?_w(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,l){o=n[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(f){s({value:f,done:c})},o)}}var pl=n=>n&&typeof n.length=="number"&&typeof n!="function";function gl(n){return ae(n?.then)}function ml(n){return ae(n[Zs])}function yl(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function vl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _l=lM();function wl(n){return ae(n?.[_l])}function Il(n){return Iw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ui(t.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{t.releaseLock()}})}function El(n){return ae(n?.getReader)}function lt(n){if(n instanceof Me)return n;if(n!=null){if(ml(n))return dM(n);if(pl(n))return hM(n);if(gl(n))return fM(n);if(yl(n))return Dw(n);if(wl(n))return pM(n);if(El(n))return gM(n)}throw vl(n)}function dM(n){return new Me(e=>{let t=n[Zs]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hM(n){return new Me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fM(n){return new Me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ul)})}function pM(n){return new Me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Dw(n){return new Me(e=>{mM(n,e).catch(t=>e.error(t))})}function gM(n){return Dw(Il(n))}function mM(n,e){var t,r,i,s;return ww(this,void 0,void 0,function*(){try{for(t=Ew(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Yr(n,e=0){return Ce((t,r)=>{t.subscribe(Te(r,i=>Pt(r,n,()=>r.next(i),e),()=>Pt(r,n,()=>r.complete(),e),i=>Pt(r,n,()=>r.error(i),e)))})}function Kr(n,e=0){return Ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bw(n,e){return lt(n).pipe(Kr(e),Yr(e))}function Cw(n,e){return lt(n).pipe(Kr(e),Yr(e))}function Tw(n,e){return new Me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Sw(n,e){return new Me(t=>{let r;return Pt(t,e,()=>{r=n[_l](),Pt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Dl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Me(t=>{Pt(t,e,()=>{let r=n[Symbol.asyncIterator]();Pt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Aw(n,e){return Dl(Il(n),e)}function Mw(n,e){if(n!=null){if(ml(n))return bw(n,e);if(pl(n))return Tw(n,e);if(gl(n))return Cw(n,e);if(yl(n))return Dl(n,e);if(wl(n))return Sw(n,e);if(El(n))return Aw(n,e)}throw vl(n)}function it(n,e){return e?Mw(n,e):lt(n)}function ce(...n){let e=Wr(n);return it(n,e)}function ro(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new Me(e?i=>e.schedule(r,0,i):r)}function Kf(n){return!!n&&(n instanceof Me||ae(n.lift)&&ae(n.subscribe))}var pr=Ws(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ie(n,e){return Ce((t,r)=>{let i=0;t.subscribe(Te(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:yM}=Array;function vM(n,e){return yM(e)?n(...e):n(e)}function Rw(n){return Ie(e=>vM(n,e))}var{isArray:_M}=Array,{getPrototypeOf:wM,prototype:IM,keys:EM}=Object;function Nw(n){if(n.length===1){let e=n[0];if(_M(e))return{args:e,keys:null};if(DM(e)){let t=EM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function DM(n){return n&&typeof n=="object"&&wM(n)===IM}function xw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function bl(...n){let e=Wr(n),t=vw(n),{args:r,keys:i}=Nw(n);if(r.length===0)return it([],e);let s=new Me(bM(r,e,i?o=>xw(i,o):jt));return t?s.pipe(Rw(t)):s}function bM(n,e,t=jt){return r=>{Pw(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)Pw(e,()=>{let f=it(n[l],e),y=!1;f.subscribe(Te(r,w=>{s[l]=w,y||(y=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Pw(n,e,t){n?Pt(t,n,e):e()}function Ow(n,e,t,r,i,s,o,c){let l=[],f=0,y=0,w=!1,b=()=>{w&&!l.length&&!f&&e.complete()},S=V=>f<r?x(V):l.push(V),x=V=>{s&&e.next(V),f++;let F=!1;lt(t(V,y++)).subscribe(Te(e,Y=>{i?.(Y),s?S(Y):e.next(Y)},()=>{F=!0},void 0,()=>{if(F)try{for(f--;l.length&&f<r;){let Y=l.shift();o?Pt(e,o,()=>x(Y)):x(Y)}b()}catch(Y){e.error(Y)}}))};return n.subscribe(Te(e,S,()=>{w=!0,b()})),()=>{c?.()}}function st(n,e,t=1/0){return ae(e)?st((r,i)=>Ie((s,o)=>e(r,s,i,o))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Ce((r,i)=>Ow(r,i,n,t)))}function Qf(n=1/0){return st(jt,n)}function kw(){return Qf(1)}function io(...n){return kw()(it(n,Wr(n)))}function Cl(n){return new Me(e=>{lt(n()).subscribe(e)})}function yn(n,e){return Ce((t,r)=>{let i=0;t.subscribe(Te(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Qr(n){return Ce((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Te(t,void 0,void 0,o=>{s=lt(n(o,Qr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Fw(n,e,t,r,i){return(s,o)=>{let c=t,l=e,f=0;s.subscribe(Te(o,y=>{let w=f++;l=c?n(l,y,w):(c=!0,y),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function so(n,e){return ae(e)?st(n,e,1):st(n,1)}function Zr(n){return Ce((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gr(n){return n<=0?()=>Bt:Ce((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zf(n){return Ie(()=>n)}function Tl(n=CM){return Ce((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function CM(){return new pr}function $a(n){return Ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function On(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yn((i,s)=>n(i,s,r)):jt,gr(1),t?Zr(e):Tl(()=>new pr))}function oo(n){return n<=0?()=>Bt:Ce((e,t)=>{let r=[];e.subscribe(Te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yn((i,s)=>n(i,s,r)):jt,oo(1),t?Zr(e):Tl(()=>new pr))}function Xf(n,e){return Ce(Fw(n,e,arguments.length>=2,!0))}function ep(...n){let e=Wr(n);return Ce((t,r)=>{(e?io(n,t,e):io(n,t)).subscribe(r)})}function vn(n,e){return Ce((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(Te(r,l=>{i?.unsubscribe();let f=0,y=s++;lt(n(l,y)).subscribe(i=Te(r,w=>r.next(e?e(l,w,y,f++):w),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function tp(n){return Ce((e,t)=>{lt(n).subscribe(Te(t,()=>t.complete(),ja)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Te(s,l=>{var f;(f=r.next)===null||f===void 0||f.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var f;c=!1,(f=r.error)===null||f===void 0||f.call(r,l),s.error(l)},()=>{var l,f;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):jt}var ee=class extends Error{constructor(e,t){super(zp(e,t)),this.code=e}};function zp(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function tu(n){return{toString:n}.toString()}var Sl="__parameters__";function TM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function SM(n,e,t){return tu(()=>{let r=TM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,f,y){let w=l.hasOwnProperty(Sl)?l[Sl]:Object.defineProperty(l,Sl,{value:[]})[Sl];for(;w.length<=y;)w.push(null);return(w[y]=w[y]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function $t(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map($t).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Lw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var AM=je({__forward_ref__:je});function qp(n){return n.__forward_ref__=qp,n.toString=function(){return $t(this())},n}function nn(n){return vI(n)?n():n}function vI(n){return typeof n=="function"&&n.hasOwnProperty(AM)&&n.__forward_ref__===qp}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jl(n){return Vw(n,wI)||Vw(n,II)}function _I(n){return Jl(n)!==null}function Vw(n,e){return n.hasOwnProperty(e)?n[e]:null}function MM(n){let e=n&&(n[wI]||n[II]);return e||null}function Uw(n){return n&&(n.hasOwnProperty(jw)||n.hasOwnProperty(RM))?n[jw]:null}var wI=je({\u0275prov:je}),jw=je({\u0275inj:je}),II=je({ngInjectableDef:je}),RM=je({ngInjectorDef:je}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function EI(n){return n&&!!n.\u0275providers}var NM=je({\u0275cmp:je}),xM=je({\u0275dir:je}),PM=je({\u0275pipe:je}),OM=je({\u0275mod:je}),Ol=je({\u0275fac:je}),qa=je({__NG_ELEMENT_ID__:je}),Bw=je({__NG_ENV_ID__:je});function kM(n){return typeof n=="string"?n:n==null?"":String(n)}function FM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():kM(n)}function LM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ee(-200,n)}function Gp(n,e){throw new ee(-201,!1)}var ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ge||{}),lp;function DI(){return lp}function tn(n){let e=lp;return lp=n,e}function bI(n,e,t){let r=Jl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ge.Optional)return null;if(e!==void 0)return e;Gp(n,"Injector")}var VM={},Ga=VM,dp="__NG_DI_FLAG__",kl="ngTempTokenPath",UM="ngTokenPath",jM=/\n/gm,BM="\u0275",$w="__source",lo;function $M(){return lo}function Jr(n){let e=lo;return lo=n,e}function HM(n,e=ge.Default){if(lo===void 0)throw new ee(-203,!1);return lo===null?bI(n,void 0,e):lo.get(n,e&ge.Optional?null:void 0,e)}function me(n,e=ge.Default){return(DI()||HM)(nn(n),e)}function z(n,e=ge.Default){return me(n,Xl(e))}function Xl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hp(n){let e=[];for(let t=0;t<n.length;t++){let r=nn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=ge.Default;for(let o=0;o<r.length;o++){let c=r[o],l=qM(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(me(i,s))}else e.push(me(r))}return e}function zM(n,e){return n[dp]=e,n.prototype[dp]=e,n}function qM(n){return n[dp]}function GM(n,e,t,r){let i=n[kl];throw e[$w]&&i.unshift(e[$w]),n.message=WM(`
`+n.message,i,t,r),n[UM]=i,n[kl]=null,n}function WM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==BM?n.slice(2):n;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):$t(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jM,`
  `)}`}var kt=zM(SM("Optional"),8);function fo(n,e){let t=n.hasOwnProperty(Ol);return t?n[Ol]:null}function Wp(n,e){n.forEach(t=>Array.isArray(t)?Wp(t,e):e(t))}function CI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Wa={},kn=[],po=new X(""),TI=new X("",-1),SI=new X(""),Ll=class{get(e,t=Ga){if(t===Ga){let r=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw r.name="NullInjectorError",r}return t}},AI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(AI||{}),Ln=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ln||{}),ti=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ti||{});function YM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function fp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];QM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function KM(n){return n===3||n===4||n===6}function QM(n){return n.charCodeAt(0)===64}function Yp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Hw(n,t,i,null,e[++r]):Hw(n,t,i,null,null))}}return n}function Hw(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var MI="ng-template";function ZM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kp(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Kp(n){return n.type===4&&n.value!==MI}function JM(n,e,t){let r=n.type===4&&!t?MI:n.value;return e===r}function XM(n,e,t){let r=4,i=n.attrs,s=i!==null?nR(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!_n(r)&&!_n(l))return!1;if(o&&_n(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!JM(n,l,t)||l===""&&e.length===1){if(_n(r))return!1;o=!0}}else if(r&8){if(i===null||!ZM(n,i,l,t)){if(_n(r))return!1;o=!0}}else{let f=e[++c],y=eR(l,i,Kp(n),t);if(y===-1){if(_n(r))return!1;o=!0;continue}if(f!==""){let w;if(y>s?w="":w=i[y+1].toLowerCase(),r&2&&f!==w){if(_n(r))return!1;o=!0}}}}return _n(r)||o}function _n(n){return(n&1)===0}function eR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rR(e,n)}function tR(n,e,t=!1){for(let r=0;r<e.length;r++)if(XM(n,e[r],t))return!0;return!1}function nR(n){for(let e=0;e<n.length;e++){let t=n[e];if(KM(t))return e}return n.length}function rR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zw(n,e){return n?":not("+e.trim()+")":e}function iR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!_n(o)&&(e+=zw(s,i),i=""),r=o,s=s||!_n(r);t++}return i!==""&&(e+=zw(s,i)),e}function sR(n){return n.map(iR).join(",")}function oR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!_n(i))break;i=s}r++}return{attrs:e,classes:t}}function Io(n){return tu(()=>{let e=OI(n),t=ze(G({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===AI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ln.Emulated,styles:n.styles||kn,_:null,schemas:n.schemas||null,tView:null,id:""});kI(t);let r=n.dependencies;return t.directiveDefs=Gw(r,!1),t.pipeDefs=Gw(r,!0),t.id=cR(t),t})}function aR(n){return $i(n)||RI(n)}function uR(n){return n!==null}function Yi(n){return tu(()=>({type:n.type,bootstrap:n.bootstrap||kn,declarations:n.declarations||kn,imports:n.imports||kn,exports:n.exports||kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qw(n,e){if(n==null)return Wa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=ti.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==ti.None?[r,c]:r,e[s]=o):t[s]=r}return t}function ed(n){return tu(()=>{let e=OI(n);return kI(e),e})}function $i(n){return n[NM]||null}function RI(n){return n[xM]||null}function NI(n){return n[PM]||null}function xI(n){let e=$i(n)||RI(n)||NI(n);return e!==null?e.standalone:!1}function PI(n,e){let t=n[OM]||null;if(!t&&e===!0)throw new Error(`Type ${$t(n)} does not have '\u0275mod' property.`);return t}function OI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||kn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qw(n.inputs,e),outputs:qw(n.outputs),debugInfo:null}}function kI(n){n.features?.forEach(e=>e(n))}function Gw(n,e){if(!n)return null;let t=e?NI:aR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(uR)}function cR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jn(n){return{\u0275providers:n}}function lR(...n){return{\u0275providers:FI(!0,n),\u0275fromNgModule:!0}}function FI(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Wp(e,o=>{let c=o;pp(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&LI(i,s),t}function LI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Qp(i,s=>{e(s,r)})}}function pp(n,e,t,r){if(n=nn(n),!n)return!1;let i=null,s=Uw(n),o=!s&&$i(n);if(!s&&!o){let l=n.ngModule;if(s=Uw(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let f of l)pp(f,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let f;try{Wp(s.imports,y=>{pp(y,e,t,r)&&(f||=[],f.push(y))})}finally{}f!==void 0&&LI(f,e)}if(!c){let f=fo(i)||(()=>new i);e({provide:i,useFactory:f,deps:kn},i),e({provide:SI,useValue:i,multi:!0},i),e({provide:po,useValue:()=>me(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let f=n;Qp(l,y=>{e(y,f)})}}else return!1;return i!==n&&n.providers!==void 0}function Qp(n,e){for(let t of n)EI(t)&&(t=t.\u0275providers),Array.isArray(t)?Qp(t,e):e(t)}var dR=je({provide:String,useValue:je});function VI(n){return n!==null&&typeof n=="object"&&dR in n}function hR(n){return!!(n&&n.useExisting)}function fR(n){return!!(n&&n.useFactory)}function gp(n){return typeof n=="function"}var td=new X(""),Ml={},pR={},np;function Zp(){return np===void 0&&(np=new Ll),np}var on=class{},Ya=class extends on{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(e,o=>this.processProvider(o)),this.records.set(TI,ao(void 0,this)),i.has("environment")&&this.records.set(on,ao(void 0,this));let s=this.records.get(td);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SI,kn,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Jr(this),r=tn(void 0),i;try{return e()}finally{Jr(t),tn(r)}}get(e,t=Ga,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bw))return e[Bw](this);r=Xl(r);let i,s=Jr(this),o=tn(void 0);try{if(!(r&ge.SkipSelf)){let l=this.records.get(e);if(l===void 0){let f=wR(e)&&Jl(e);f&&this.injectableDefInScope(f)?l=ao(mp(e),Ml):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&ge.Self?Zp():this.parent;return t=r&ge.Optional&&t===Ga?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[kl]=c[kl]||[]).unshift($t(e)),s)throw c;return GM(c,e,"R3InjectorError",this.source)}else throw c}finally{tn(o),Jr(s)}}resolveInjectorInitializers(){let e=Ue(null),t=Jr(this),r=tn(void 0),i;try{let s=this.get(po,kn,ge.Self);for(let o of s)o()}finally{Jr(t),tn(r),Ue(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push($t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=nn(e);let t=gp(e)?e:nn(e&&e.provide),r=mR(e);if(!gp(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ao(void 0,Ml,!0),i.factory=()=>hp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ue(null);try{return t.value===Ml&&(t.value=pR,t.value=t.factory()),typeof t.value=="object"&&t.value&&_R(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function mp(n){let e=Jl(n),t=e!==null?e.factory:fo(n);if(t!==null)return t;if(n instanceof X)throw new ee(204,!1);if(n instanceof Function)return gR(n);throw new ee(204,!1)}function gR(n){if(n.length>0)throw new ee(204,!1);let t=MM(n);return t!==null?()=>t.factory(n):()=>new n}function mR(n){if(VI(n))return ao(void 0,n.useValue);{let e=yR(n);return ao(e,Ml)}}function yR(n,e,t){let r;if(gp(n)){let i=nn(n);return fo(i)||mp(i)}else if(VI(n))r=()=>nn(n.useValue);else if(fR(n))r=()=>n.useFactory(...hp(n.deps||[]));else if(hR(n))r=()=>me(nn(n.useExisting));else{let i=nn(n&&(n.useClass||n.provide));if(vR(n))r=()=>new i(...hp(n.deps));else return fo(i)||mp(i)}return r}function ao(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function vR(n){return!!n.deps}function _R(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function wR(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function yp(n,e){for(let t of n)Array.isArray(t)?yp(t,e):t&&EI(t)?yp(t.\u0275providers,e):e(t)}function _r(n,e){n instanceof Ya&&n.assertNotDestroyed();let t,r=Jr(n),i=tn(void 0);try{return e()}finally{Jr(r),tn(i)}}function IR(){return DI()!==void 0||$M()!=null}function ER(n){return typeof n=="function"}var wr=0,Ee=1,le=2,Rt=3,wn=4,En=5,Vl=6,Ww=7,ni=8,go=9,mr=10,Vn=11,Ka=12,Yw=13,nu=14,Un=15,Qa=16,uo=17,nd=18,rd=19,UI=20,ei=21,rp=22,rn=23,Hi=25,jI=1;var zi=7,Ul=8,jl=9,sn=10,Bl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Bl||{});function ji(n){return Array.isArray(n)&&typeof n[jI]=="object"}function Ir(n){return Array.isArray(n)&&n[jI]===!0}function BI(n){return(n.flags&4)!==0}function Jp(n){return n.componentOffset>-1}function DR(n){return(n.flags&1)===1}function ru(n){return!!n.template}function vp(n){return(n[le]&512)!==0}var _p=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function $I(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function iu(){return HI}function HI(n){return n.type.prototype.ngOnChanges&&(n.setInput=CR),bR}iu.ngInherit=!0;function bR(){let n=qI(this),e=n?.current;if(e){let t=n.previous;if(t===Wa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function CR(n,e,t,r,i){let s=this.declaredInputs[r],o=qI(n)||TR(n,{previous:Wa,current:null}),c=o.current||(o.current={}),l=o.previous,f=l[s];c[s]=new _p(f&&f.currentValue,t,l===Wa),$I(n,e,i,t)}var zI="__ngSimpleChanges__";function qI(n){return n[zI]||null}function TR(n,e){return n[zI]=e}var Kw=null;var Xr=function(n,e,t){Kw?.(n,e,t)},SR="svg",AR="math";function ri(n){for(;Array.isArray(n);)n=n[wr];return n}function Er(n,e){return ri(e[n.index])}function MR(n,e){return n.data[e]}function su(n,e){let t=e[n];return ji(t)?t:t[wr]}function Xp(n){return(n[le]&128)===128}function RR(n){return Ir(n[Rt])}function Qw(n,e){return e==null?null:n[e]}function GI(n){n[uo]=0}function WI(n){n[le]&1024||(n[le]|=1024,Xp(n)&&sd(n))}function id(n){return!!(n[le]&9216||n[rn]?.dirty)}function wp(n){n[mr].changeDetectionScheduler?.notify(8),n[le]&64&&(n[le]|=1024),id(n)&&sd(n)}function sd(n){n[mr].changeDetectionScheduler?.notify(0);let e=qi(n);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!Xp(e)));)e=qi(e)}function YI(n,e){if((n[le]&256)===256)throw new ee(911,!1);n[ei]===null&&(n[ei]=[]),n[ei].push(e)}function NR(n,e){if(n[ei]===null)return;let t=n[ei].indexOf(e);t!==-1&&n[ei].splice(t,1)}function qi(n){let e=n[Rt];return Ir(e)?e[Rt]:e}var Le={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var KI=!1;function xR(){return Le.lFrame.elementDepthCount}function PR(){Le.lFrame.elementDepthCount++}function OR(){Le.lFrame.elementDepthCount--}function QI(){return Le.bindingsEnabled}function kR(){return Le.skipHydrationRootTNode!==null}function FR(n){return Le.skipHydrationRootTNode===n}function LR(){Le.skipHydrationRootTNode=null}function In(){return Le.lFrame.lView}function eg(){return Le.lFrame.tView}function Dr(){let n=ZI();for(;n!==null&&n.type===64;)n=n.parent;return n}function ZI(){return Le.lFrame.currentTNode}function VR(){let n=Le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function od(n,e){let t=Le.lFrame;t.currentTNode=n,t.isParent=e}function JI(){return Le.lFrame.isParent}function UR(){Le.lFrame.isParent=!1}function XI(){return KI}function Zw(n){KI=n}function jR(n){return Le.lFrame.bindingIndex=n}function BR(){return Le.lFrame.inI18n}function $R(n,e){let t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ip(e)}function HR(){return Le.lFrame.currentDirectiveIndex}function Ip(n){Le.lFrame.currentDirectiveIndex=n}function eE(n){Le.lFrame.currentQueryIndex=n}function zR(n){let e=n[Ee];return e.type===2?e.declTNode:e.type===1?n[En]:null}function tE(n,e,t){if(t&ge.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&ge.Host);)if(i=zR(s),i===null||(s=s[nu],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Le.lFrame=nE();return r.currentTNode=e,r.lView=n,!0}function tg(n){let e=nE(),t=n[Ee];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nE(){let n=Le.lFrame,e=n===null?null:n.child;return e===null?rE(n):e}function rE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function iE(){let n=Le.lFrame;return Le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sE=iE;function ng(){let n=iE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qR(){return Le.lFrame.selectedIndex}function Gi(n){Le.lFrame.selectedIndex=n}function GR(){return Le.lFrame.currentNamespace}var oE=!0;function aE(){return oE}function uE(n){oE=n}function WR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=HI(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function cE(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:f,ngOnDestroy:y}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),l&&(n.viewHooks??=[]).push(-t,l),f&&((n.viewHooks??=[]).push(t,f),(n.viewCheckHooks??=[]).push(t,f)),y!=null&&(n.destroyHooks??=[]).push(t,y)}}function Rl(n,e,t){lE(n,e,3,t)}function Nl(n,e,t,r){(n[le]&3)===t&&lE(n,e,t,r)}function ip(n,e){let t=n[le];(t&3)===e&&(t&=16383,t+=1,n[le]=t)}function lE(n,e,t,r){let i=r!==void 0?n[uo]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(n[uo]+=65536),(c<s||s==-1)&&(YR(n,t,e,l),n[uo]=(n[uo]&4294901760)+l+2),l++}function Jw(n,e){Xr(4,n,e);let t=Ue(null);try{e.call(n)}finally{Ue(t),Xr(5,n,e)}}function YR(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[le]>>14<n[uo]>>16&&(n[le]&3)===e&&(n[le]+=16384,Jw(c,s)):Jw(c,s)}var ho=-1,Za=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function KR(n){return n instanceof Za}function QR(n){return(n.flags&8)!==0}function ZR(n){return(n.flags&16)!==0}var sp={},Ep=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Xl(r);let i=this.injector.get(e,sp,r);return i!==sp||t===sp?i:this.parentInjector.get(e,t,r)}};function dE(n){return n!==ho}function $l(n){return n&32767}function JR(n){return n>>16}function Hl(n,e){let t=JR(n),r=e;for(;t>0;)r=r[nu],t--;return r}var Dp=!0;function Xw(n){let e=Dp;return Dp=n,e}var XR=256,hE=XR-1,fE=5,eN=0,Fn={};function tN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qa)&&(r=t[qa]),r==null&&(r=t[qa]=eN++);let i=r&hE,s=1<<i;e.data[n+(i>>fE)]|=s}function pE(n,e){let t=gE(n,e);if(t!==-1)return t;let r=e[Ee];r.firstCreatePass&&(n.injectorIndex=e.length,op(r.data,n),op(e,null),op(r.blueprint,null));let i=rg(n,e),s=n.injectorIndex;if(dE(i)){let o=$l(i),c=Hl(i,e),l=c[Ee].data;for(let f=0;f<8;f++)e[s+f]=c[o+f]|l[o+f]}return e[s+8]=i,s}function op(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function rg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wE(i),r===null)return ho;if(t++,i=i[nu],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ho}function nN(n,e,t){tN(n,e,t)}function mE(n,e,t){if(t&ge.Optional||n!==void 0)return n;Gp(e,"NodeInjector")}function yE(n,e,t,r){if(t&ge.Optional&&r===void 0&&(r=null),!(t&(ge.Self|ge.Host))){let i=n[go],s=tn(void 0);try{return i?i.get(e,r,t&ge.Optional):bI(e,r,t&ge.Optional)}finally{tn(s)}}return mE(r,e,t)}function vE(n,e,t,r=ge.Default,i){if(n!==null){if(e[le]&2048&&!(r&ge.Self)){let o=aN(n,e,t,r,Fn);if(o!==Fn)return o}let s=_E(n,e,t,r,Fn);if(s!==Fn)return s}return yE(e,t,r,i)}function _E(n,e,t,r,i){let s=sN(t);if(typeof s=="function"){if(!tE(e,n,r))return r&ge.Host?mE(i,t,r):yE(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&ge.Optional))Gp(t);else return o}finally{sE()}}else if(typeof s=="number"){let o=null,c=gE(n,e),l=ho,f=r&ge.Host?e[Un][En]:null;for((c===-1||r&ge.SkipSelf)&&(l=c===-1?rg(n,e):e[c+8],l===ho||!tI(r,!1)?c=-1:(o=e[Ee],c=$l(l),e=Hl(l,e)));c!==-1;){let y=e[Ee];if(eI(s,c,y.data)){let w=rN(c,e,t,o,r,f);if(w!==Fn)return w}l=e[c+8],l!==ho&&tI(r,e[Ee].data[c+8]===f)&&eI(s,c,e)?(o=y,c=$l(l),e=Hl(l,e)):c=-1}}return i}function rN(n,e,t,r,i,s){let o=e[Ee],c=o.data[n+8],l=r==null?Jp(c)&&Dp:r!=o&&(c.type&3)!==0,f=i&ge.Host&&s===c,y=iN(c,o,t,l,f);return y!==null?Ja(e,o,y,c):Fn}function iN(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,l=n.directiveStart,f=n.directiveEnd,y=s>>20,w=r?c:c+y,b=i?c+y:f;for(let S=w;S<b;S++){let x=o[S];if(S<l&&t===x||S>=l&&x.type===t)return S}if(i){let S=o[l];if(S&&ru(S)&&S.type===t)return l}return null}function Ja(n,e,t,r){let i=n[t],s=e.data;if(KR(i)){let o=i;o.resolving&&LM(FM(s[t]));let c=Xw(o.canSeeViewProviders);o.resolving=!0;let l,f=o.injectImpl?tn(o.injectImpl):null,y=tE(n,r,ge.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&WR(t,s[t],e)}finally{f!==null&&tn(f),Xw(c),o.resolving=!1,sE()}}return i}function sN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qa)?n[qa]:void 0;return typeof e=="number"?e>=0?e&hE:oN:e}function eI(n,e,t){let r=1<<n;return!!(t[e+(n>>fE)]&r)}function tI(n,e){return!(n&ge.Self)&&!(n&ge.Host&&e)}var Bi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vE(this._tNode,this._lView,e,Xl(r),t)}};function oN(){return new Bi(Dr(),In())}function ad(n){return tu(()=>{let e=n.prototype.constructor,t=e[Ol]||bp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Ol]||bp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function bp(n){return vI(n)?()=>{let e=bp(nn(n));return e&&e()}:fo(n)}function aN(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[le]&2048&&!(o[le]&512);){let c=_E(s,o,t,r|ge.Self,Fn);if(c!==Fn)return c;let l=s.parent;if(!l){let f=o[UI];if(f){let y=f.get(t,Fn,r);if(y!==Fn)return y}l=wE(o),o=o[nu]}s=l}return i}function wE(n){let e=n[Ee],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function nI(n,e=null,t=null,r){let i=IE(n,e,t,r);return i.resolveInjectorInitializers(),i}function IE(n,e=null,t=null,r,i=new Set){let s=[t||kn,lR(n)];return r=r||(typeof n=="object"?void 0:$t(n)),new Ya(s,e||Zp(),r||null,i)}var Ot=class n{static{this.THROW_IF_NOT_FOUND=Ga}static{this.NULL=new Ll}static create(e,t){if(Array.isArray(e))return nI({name:""},t,e,"");{let r=e.name??"";return nI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ie({token:n,providedIn:"any",factory:()=>me(TI)})}static{this.__NG_ELEMENT_ID__=-1}};var uN=new X("");uN.__NG_ELEMENT_ID__=n=>{let e=Dr();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(n&ge.Optional)return null;throw new ee(204,!1)};var cN="ngOriginalError";function ap(n){return n[cN]}var EE=!0,DE=(()=>{class n{static{this.__NG_ELEMENT_ID__=lN}static{this.__NG_ENV_ID__=t=>t}}return n})(),Cp=class extends DE{constructor(e){super(),this._lView=e}onDestroy(e){return YI(this._lView,e),()=>NR(this._lView,e)}};function lN(){return new Cp(In())}var Eo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Tp=class extends Mt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,IR()&&(this.destroyRef=z(DE,{optional:!0})??void 0,this.pendingTasks=z(Eo,{optional:!0})??void 0)}emit(e){let t=Ue(null);try{super.next(e)}finally{Ue(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Qe&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},wt=Tp;function zl(...n){}function bE(n){let e,t;function r(){n=zl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function rI(n){return queueMicrotask(()=>n()),()=>{n=zl}}var ig="isAngularZone",ql=ig+"_ID",dN=0,Fe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wt(!1),this.onMicrotaskEmpty=new wt(!1),this.onStable=new wt(!1),this.onError=new wt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=EE}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,pN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ig)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hN,zl,zl);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},hN={};function sg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bE(()=>{n.callbackScheduled=!1,Sp(n),n.isCheckStableRunning=!0,sg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Sp(n)}function pN(n){let e=()=>{fN(n)},t=dN++;n._inner=n._inner.fork({name:"angular",properties:{[ig]:!0,[ql]:t,[ql+t]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(gN(l))return r.invokeTask(s,o,c,l);try{return iI(n),r.invokeTask(s,o,c,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sI(n)}},onInvoke:(r,i,s,o,c,l,f)=>{try{return iI(n),r.invoke(s,o,c,l,f)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!mN(l)&&e(),sI(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Sp(n),sg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Sp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function iI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sI(n){n._nesting--,sg(n)}var Ap=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wt,this.onMicrotaskEmpty=new wt,this.onStable=new wt,this.onError=new wt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function gN(n){return CE(n,"__ignore_ng_zone__")}function mN(n){return CE(n,"__scheduler_tick__")}function CE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var yr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ap(e);for(;t&&ap(t);)t=ap(t);return t||null}},yN=new X("",{providedIn:"root",factory:()=>{let n=z(Fe),e=z(yr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function vN(){return og(Dr(),In())}function og(n,e){return new ou(Er(n,e))}var ou=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=vN}}return n})();function TE(n){return(n.flags&128)===128}var SE=new Map,_N=0;function wN(){return _N++}function IN(n){SE.set(n[rd],n)}function Mp(n){SE.delete(n[rd])}var oI="__ngContext__";function mo(n,e){ji(e)?(n[oI]=e[rd],IN(e)):n[oI]=e}function AE(n){return RE(n[Ka])}function ME(n){return RE(n[wn])}function RE(n){for(;n!==null&&!Ir(n);)n=n[wn];return n}var Rp;function NE(n){Rp=n}function EN(){if(Rp!==void 0)return Rp;if(typeof document<"u")return document;throw new ee(210,!1)}var ag=new X("",{providedIn:"root",factory:()=>DN}),DN="ng",ug=new X(""),si=new X("",{providedIn:"platform",factory:()=>"unknown"});var cg=new X("",{providedIn:"root",factory:()=>EN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bN="h",CN="b";var TN=()=>null;function lg(n,e,t=!1){return TN(n,e,t)}var xE=!1,SN=new X("",{providedIn:"root",factory:()=>xE});function PE(n){return n instanceof Function?n():n}var Ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ki||{}),AN;function dg(n,e){return AN(n,e)}function co(n,e,t,r,i){if(r!=null){let s,o=!1;Ir(r)?s=r:ji(r)&&(o=!0,r=r[wr]);let c=ri(r);n===0&&t!==null?i==null?VE(e,t,c):Gl(e,t,c,i||null,!0):n===1&&t!==null?Gl(e,t,c,i||null,!0):n===2?$N(e,c,o):n===3&&e.destroyNode(c),s!=null&&zN(e,n,s,t,i)}}function MN(n,e){return n.createText(e)}function OE(n,e,t){return n.createElement(e,t)}function RN(n,e){kE(n,e),e[wr]=null,e[En]=null}function NN(n,e,t,r,i,s){r[wr]=i,r[En]=e,ud(n,r,t,1,i,s)}function kE(n,e){e[mr].changeDetectionScheduler?.notify(9),ud(n,e,e[Vn],2,null,null)}function xN(n){let e=n[Ka];if(!e)return up(n[Ee],n);for(;e;){let t=null;if(ji(e))t=e[Ka];else{let r=e[sn];r&&(t=r)}if(!t){for(;e&&!e[wn]&&e!==n;)ji(e)&&up(e[Ee],e),e=e[Rt];e===null&&(e=n),ji(e)&&up(e[Ee],e),t=e&&e[wn]}e=t}}function PN(n,e,t,r){let i=sn+r,s=t.length;r>0&&(t[i-1][wn]=e),r<s-sn?(e[wn]=t[i],CI(t,sn+r,e)):(t.push(e),e[wn]=null),e[Rt]=t;let o=e[Qa];o!==null&&t!==o&&FE(o,e);let c=e[nd];c!==null&&c.insertView(n),wp(e),e[le]|=128}function FE(n,e){let t=n[jl],r=e[Rt];if(ji(r))n[le]|=Bl.HasTransplantedViews;else{let i=r[Rt][Un];e[Un]!==i&&(n[le]|=Bl.HasTransplantedViews)}t===null?n[jl]=[e]:t.push(e)}function hg(n,e){let t=n[jl],r=t.indexOf(e);t.splice(r,1)}function Np(n,e){if(n.length<=sn)return;let t=sn+e,r=n[t];if(r){let i=r[Qa];i!==null&&i!==n&&hg(i,r),e>0&&(n[t-1][wn]=r[wn]);let s=Fl(n,sn+e);RN(r[Ee],r);let o=s[nd];o!==null&&o.detachView(s[Ee]),r[Rt]=null,r[wn]=null,r[le]&=-129}return r}function LE(n,e){if(!(e[le]&256)){let t=e[Vn];t.destroyNode&&ud(n,e,t,3,null,null),xN(e)}}function up(n,e){if(e[le]&256)return;let t=Ue(null);try{e[le]&=-129,e[le]|=256,e[rn]&&xf(e[rn]),kN(n,e),ON(n,e),e[Ee].type===1&&e[Vn].destroy();let r=e[Qa];if(r!==null&&Ir(e[Rt])){r!==e[Rt]&&hg(r,e);let i=e[nd];i!==null&&i.detachView(n)}Mp(e)}finally{Ue(t)}}function ON(n,e){let t=n.cleanup,r=e[Ww];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Ww]=null);let i=e[ei];if(i!==null){e[ei]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function kN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Za)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];Xr(4,c,l);try{l.call(c)}finally{Xr(5,c,l)}}else{Xr(4,i,s);try{s.call(i)}finally{Xr(5,i,s)}}}}}function FN(n,e,t){return LN(n,e.parent,t)}function LN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[wr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ln.None||s===Ln.Emulated)return null}return Er(r,t)}}function Gl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function VE(n,e,t){n.appendChild(e,t)}function aI(n,e,t,r,i){r!==null?Gl(n,e,t,r,i):VE(n,e,t)}function UE(n,e){return n.parentNode(e)}function VN(n,e){return n.nextSibling(e)}function UN(n,e,t){return BN(n,e,t)}function jN(n,e,t){return n.type&40?Er(n,t):null}var BN=jN,uI;function jE(n,e,t,r){let i=FN(n,r,e),s=e[Vn],o=r.parent||e[En],c=UN(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)aI(s,i,t[l],c,!1);else aI(s,i,t,c,!1);uI!==void 0&&uI(s,r,e,t,i)}function Ha(n,e){if(e!==null){let t=e.type;if(t&3)return Er(e,n);if(t&4)return xp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ha(n,r);{let i=n[e.index];return Ir(i)?xp(-1,i):ri(i)}}else{if(t&128)return Ha(n,e.next);if(t&32)return dg(e,n)()||ri(n[e.index]);{let r=BE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qi(n[Un]);return Ha(i,r)}else return Ha(n,e.next)}}}return null}function BE(n,e){if(e!==null){let r=n[Un][En],i=e.projection;return r.projection[i]}return null}function xp(n,e){let t=sn+n+1;if(t<e.length){let r=e[t],i=r[Ee].firstChild;if(i!==null)return Ha(r,i)}return e[zi]}function $N(n,e,t){n.removeChild(null,e,t)}function fg(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(o&&e===0&&(c&&mo(ri(c),r),t.flags|=2),(t.flags&32)!==32)if(l&8)fg(n,e,t.child,r,i,s,!1),co(e,n,i,c,s);else if(l&32){let f=dg(t,r),y;for(;y=f();)co(e,n,i,y,s);co(e,n,i,c,s)}else l&16?HN(n,e,r,t,i,s):co(e,n,i,c,s);t=o?t.projectionNext:t.next}}function ud(n,e,t,r,i,s){fg(t,r,n.firstChild,e,i,s,!1)}function HN(n,e,t,r,i,s){let o=t[Un],l=o[En].projection[r.projection];if(Array.isArray(l))for(let f=0;f<l.length;f++){let y=l[f];co(e,n,i,y,s)}else{let f=l,y=o[Rt];TE(r)&&(f.flags|=128),fg(n,e,f,y,i,s,!0)}}function zN(n,e,t,r,i){let s=t[zi],o=ri(t);s!==o&&co(e,n,r,s,i);for(let c=sn;c<t.length;c++){let l=t[c];ud(l[Ee],l,n,e,r,s)}}function qN(n,e,t){n.setAttribute(e,"style",t)}function $E(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HE(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&fp(n,e,r),i!==null&&$E(n,e,i),s!==null&&qN(n,e,s)}var zE={};function GN(n,e,t,r){if(!r)if((e[le]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Rl(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Nl(e,s,0,t)}Gi(t)}function Do(n,e=ge.Default){let t=In();if(t===null)return me(n,e);let r=Dr();return vE(r,t,nn(n),e)}function qE(n,e,t,r,i,s){let o=Ue(null);try{let c=null;i&ti.SignalBased&&(c=e[r][sw]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ti.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):$I(e,c,r,s)}finally{Ue(o)}}function WN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Gi(~i);else{let s=i,o=t[++r],c=t[++r];$R(o,s);let l=e[s];c(2,l)}}}finally{Gi(-1)}}function pg(n,e,t,r,i,s,o,c,l,f,y){let w=e.blueprint.slice();return w[wr]=i,w[le]=r|4|128|8|64,(f!==null||n&&n[le]&2048)&&(w[le]|=2048),GI(w),w[Rt]=w[nu]=n,w[ni]=t,w[mr]=o||n&&n[mr],w[Vn]=c||n&&n[Vn],w[go]=l||n&&n[go]||null,w[En]=s,w[rd]=wN(),w[Vl]=y,w[UI]=f,w[Un]=e.type==2?n[Un]:w,w}function gg(n,e,t,r,i){let s=n.data[e];if(s===null)s=YN(n,e,t,r,i),BR()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=VR();s.injectorIndex=o===null?-1:o.injectorIndex}return od(s,!0),s}function YN(n,e,t,r,i){let s=ZI(),o=JI(),c=o?s:s&&s.parent,l=n.data[e]=tx(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function GE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function WE(n,e,t,r,i){let s=qR(),o=r&2;try{Gi(-1),o&&e.length>Hi&&GN(n,e,Hi,!1),Xr(o?2:0,i),t(r,i)}finally{Gi(s),Xr(o?3:1,i)}}function YE(n,e,t){if(BI(e)){let r=Ue(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let l=t[o];c.contentQueries(1,l,o)}}}finally{Ue(r)}}}function KN(n,e,t){QI()&&(ox(n,e,t,Er(t,e)),(t.flags&64)===64&&JE(n,e,t))}function QN(n,e,t=Er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function KE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=QE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function QE(n,e,t,r,i,s,o,c,l,f,y){let w=Hi+r,b=w+i,S=ZN(w,b),x=typeof f=="function"?f():f;return S[Ee]={type:n,blueprint:S,template:t,queries:null,viewQuery:c,declTNode:e,data:S.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:y}}function ZN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zE);return t}function JN(n,e,t,r){let s=r.get(SN,xE)||t===Ln.ShadowDom,o=n.selectRootElement(e,s);return XN(o),o}function XN(n){ex(n)}var ex=()=>null;function tx(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return kR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cI(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,l=ti.None;Array.isArray(o)?(c=o[0],l=o[1]):c=o;let f=s;if(i!==null){if(!i.hasOwnProperty(s))continue;f=i[s]}n===0?lI(r,t,f,c,l):lI(r,t,f,c)}return r}function lI(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function nx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],l=null,f=null;for(let y=r;y<i;y++){let w=s[y],b=t?t.get(w):null,S=b?b.inputs:null,x=b?b.outputs:null;l=cI(0,w.inputs,y,l,S),f=cI(1,w.outputs,y,f,x);let V=l!==null&&o!==null&&!Kp(e)?gx(l,y,o):null;c.push(V)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=f}function rx(n,e,t,r){if(QI()){let i=r===null?null:{"":-1},s=ux(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&ZE(n,e,t,o,i,c),i&&cx(t,r,i)}t.mergedAttrs=Yp(t.mergedAttrs,t.attrs)}function ZE(n,e,t,r,i,s){for(let f=0;f<r.length;f++)nN(pE(t,e),n,r[f].type);dx(t,n.data.length,r.length);for(let f=0;f<r.length;f++){let y=r[f];y.providersResolver&&y.providersResolver(y)}let o=!1,c=!1,l=GE(n,e,r.length,null);for(let f=0;f<r.length;f++){let y=r[f];t.mergedAttrs=Yp(t.mergedAttrs,y.hostAttrs),hx(n,t,e,l,y),lx(l,y,i),y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let w=y.type.prototype;!o&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),l++}nx(n,t,s)}function ix(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;sx(o)!=c&&o.push(c),o.push(t,r,s)}}function sx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ox(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Jp(t)&&fx(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||pE(t,e),mo(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let l=n.data[c],f=Ja(e,n,c,t);if(mo(f,e),o!==null&&px(e,c-i,f,l,t,o),ru(l)){let y=su(t.index,e);y[ni]=Ja(e,n,c,t)}}}function JE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=HR();try{Gi(s);for(let c=r;c<i;c++){let l=n.data[c],f=e[c];Ip(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ax(l,f)}}finally{Gi(-1),Ip(o)}}function ax(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ux(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(tR(e,o.selectors,!1))if(r||(r=[]),ru(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let l=c.length;Pp(n,e,l)}else r.unshift(o),Pp(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Pp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cx(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}}function lx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ru(e)&&(t[""]=n)}}function dx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hx(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=fo(i.type,!0)),o=new Za(s,ru(i),Do);n.blueprint[r]=o,t[r]=o,ix(n,e,r,GE(n,t,i.hostVars,zE),i)}function fx(n,e,t){let r=Er(e,n),i=KE(t),s=n[mr].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=mg(n,pg(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function px(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let l=o[c++],f=o[c++],y=o[c++],w=o[c++];qE(r,t,l,f,y,w)}}function gx(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function mx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function XE(n,e){let t=n.contentQueries;if(t!==null){let r=Ue(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];eE(s),c.contentQueries(2,e[o],o)}}}finally{Ue(r)}}}function mg(n,e){return n[Ka]?n[Yw][wn]=e:n[Ka]=e,n[Yw]=e,e}function Op(n,e,t){eE(0);let r=Ue(null);try{e(n,t)}finally{Ue(r)}}function yx(n,e){let t=n[go],r=t?t.get(yr,null):null;r&&r.handleError(e)}function eD(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],l=t[s++],f=e[o],y=n.data[o];qE(y,f,r,c,l,i)}}function vx(n,e){let t=su(e,n),r=t[Ee];_x(r,t);let i=t[wr];i!==null&&t[Vl]===null&&(t[Vl]=lg(i,t[go])),tD(r,t,t[ni])}function _x(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function tD(n,e,t){tg(e);try{let r=n.viewQuery;r!==null&&Op(1,r,t);let i=n.template;i!==null&&WE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[nd]?.finishViewCreation(n),n.staticContentQueries&&XE(n,e),n.staticViewQueries&&Op(2,n.viewQuery,t);let s=n.components;s!==null&&wx(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,ng()}}function wx(n,e){for(let t=0;t<e.length;t++)vx(n,e[t])}function dI(n,e){return!e||e.firstChild===null||TE(n)}function Ix(n,e,t,r=!0){let i=e[Ee];if(PN(i,e,n,t),r){let o=xp(t,n),c=e[Vn],l=UE(c,n[zi]);l!==null&&NN(i,n[En],c,e,l,o)}let s=e[Vl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Wl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(ri(s)),Ir(s)&&Ex(s,r);let o=t.type;if(o&8)Wl(n,e,t.child,r);else if(o&32){let c=dg(t,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=BE(e,t);if(Array.isArray(c))r.push(...c);else{let l=qi(e[Un]);Wl(l[Ee],l,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Ex(n,e){for(let t=sn;t<n.length;t++){let r=n[t],i=r[Ee].firstChild;i!==null&&Wl(r[Ee],r,i,e)}n[zi]!==n[wr]&&e.push(n[zi])}var nD=[];function Dx(n){return n[rn]??bx(n)}function bx(n){let e=nD.pop()??Object.create(Tx);return e.lView=n,e}function Cx(n){n.lView[rn]!==n&&(n.lView=null,nD.push(n))}var Tx=ze(G({},Mf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sd(n.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function Sx(n){let e=n[rn]??Object.create(Ax);return e.lView=n,e}var Ax=ze(G({},Mf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=qi(n.lView);for(;e&&!rD(e[Ee]);)e=qi(e);e&&WI(e)},consumerOnSignalRead(){this.lView[rn]=this}});function rD(n){return n.type!==2}var Mx=100;function iD(n,e=!0,t=0){let r=n[mr],i=r.rendererFactory,s=!1;s||i.begin?.();try{Rx(n,t)}catch(o){throw e&&yx(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Rx(n,e){let t=XI();try{Zw(!0),kp(n,e);let r=0;for(;id(n);){if(r===Mx)throw new ee(103,!1);r++,kp(n,1)}}finally{Zw(t)}}function Nx(n,e,t,r){let i=e[le];if((i&256)===256)return;let s=!1,o=!1;!s&&e[mr].inlineEffectRunner?.flush(),tg(e);let c=!0,l=null,f=null;s||(rD(n)?(f=Dx(e),l=Rf(f)):ow()===null?(c=!1,f=Sx(e),l=Rf(f)):e[rn]&&(xf(e[rn]),e[rn]=null));try{GI(e),jR(n.bindingStartIndex),t!==null&&WE(n,e,t,2,r);let y=(i&3)===3;if(!s)if(y){let S=n.preOrderCheckHooks;S!==null&&Rl(e,S,null)}else{let S=n.preOrderHooks;S!==null&&Nl(e,S,0,null),ip(e,0)}if(o||xx(e),sD(e,0),n.contentQueries!==null&&XE(n,e),!s)if(y){let S=n.contentCheckHooks;S!==null&&Rl(e,S)}else{let S=n.contentHooks;S!==null&&Nl(e,S,1),ip(e,1)}WN(n,e);let w=n.components;w!==null&&aD(e,w,0);let b=n.viewQuery;if(b!==null&&Op(2,b,r),!s)if(y){let S=n.viewCheckHooks;S!==null&&Rl(e,S)}else{let S=n.viewHooks;S!==null&&Nl(e,S,2),ip(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rp]){for(let S of e[rp])S();e[rp]=null}s||(e[le]&=-73)}catch(y){throw s||sd(e),y}finally{f!==null&&(aw(f,l),c&&Cx(f)),ng()}}function sD(n,e){for(let t=AE(n);t!==null;t=ME(t))for(let r=sn;r<t.length;r++){let i=t[r];oD(i,e)}}function xx(n){for(let e=AE(n);e!==null;e=ME(e)){if(!(e[le]&Bl.HasTransplantedViews))continue;let t=e[jl];for(let r=0;r<t.length;r++){let i=t[r];WI(i)}}}function Px(n,e,t){let r=su(e,n);oD(r,t)}function oD(n,e){Xp(n)&&kp(n,e)}function kp(n,e){let r=n[Ee],i=n[le],s=n[rn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Nf(s)),o||=!1,s&&(s.dirty=!1),n[le]&=-9217,o)Nx(r,n,r.template,n[ni]);else if(i&8192){sD(n,1);let c=r.components;c!==null&&aD(n,c,1)}}function aD(n,e,t){for(let r=0;r<e.length;r++)Px(n,e[r],t)}function uD(n,e){let t=XI()?64:1088;for(n[mr].changeDetectionScheduler?.notify(e);n;){n[le]|=t;let r=qi(n);if(vp(n)&&!r)return n;n=r}return null}var yo=class{get rootNodes(){let e=this._lView,t=e[Ee];return Wl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ni]}set context(e){this._lView[ni]=e}get destroyed(){return(this._lView[le]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Ir(e)){let t=e[Ul],r=t?t.indexOf(this):-1;r>-1&&(Np(e,r),Fl(t,r))}this._attachedToViewContainer=!1}LE(this._lView[Ee],this._lView)}onDestroy(e){YI(this._lView,e)}markForCheck(){uD(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){wp(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,iD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vp(this._lView),t=this._lView[Qa];t!==null&&!e&&hg(t,this._lView),kE(this._lView[Ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=vp(this._lView),r=this._lView[Qa];r!==null&&!t&&FE(r,this._lView),wp(this._lView)}};var o4=new RegExp(`^(\\d+)*(${CN}|${bN})*(.*)`);var Ox=()=>null;function hI(n,e){return Ox(n,e)}var vo=class{},cd=new X("",{providedIn:"root",factory:()=>!1});var cD=new X(""),lD=new X(""),Fp=class{},Yl=class{};function kx(n){let e=Error(`No component factory found for ${$t(n)}.`);return e[Fx]=n,e}var Fx="ngComponent";var Lp=class{resolveComponentFactory(e){throw kx(e)}},_o=class{static{this.NULL=new Lp}},wo=class{};var Lx=(()=>{class n{static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>null})}}return n})();function Vp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Lw(i,c);else if(s==2){let l=c,f=e[++o];r=Lw(r,l+": "+f+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Kl=class extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=$i(e);return new Xa(t,this.ngModule)}};function fI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ti.None;e?t.push({propName:o,templateName:r,isSignal:(c&ti.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function Vx(n){let e=n.toLowerCase();return e==="svg"?SR:e==="math"?AR:null}var Xa=class extends Yl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=fI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return fI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Ue(null);try{i=i||this.ngModule;let o=i instanceof on?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Ep(e,o):e,l=c.get(wo,null);if(l===null)throw new ee(407,!1);let f=c.get(Lx,null),y=c.get(vo,null),w={rendererFactory:l,sanitizer:f,inlineEffectRunner:null,changeDetectionScheduler:y},b=l.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=r?JN(b,r,this.componentDef.encapsulation,c):OE(b,S,Vx(S)),V=512;this.componentDef.signals?V|=4096:this.componentDef.onPush||(V|=16);let F=null;x!==null&&(F=lg(x,c,!0));let Y=QE(0,null,null,1,0,null,null,null,null,null,null),J=pg(null,Y,null,V,null,null,w,b,c,null,F);tg(J);let ne,De,Be=null;try{let Q=this.componentDef,M,I=null;Q.findHostDirectiveDefs?(M=[],I=new Map,Q.findHostDirectiveDefs(Q,M,I),M.push(Q)):M=[Q];let E=Ux(J,x);Be=jx(E,x,Q,M,J,w,b),De=MR(Y,Hi),x&&Hx(b,Q,x,r),t!==void 0&&zx(De,this.ngContentSelectors,t),ne=$x(Be,Q,M,I,J,[qx]),tD(Y,J,null)}catch(Q){throw Be!==null&&Mp(Be),Mp(J),Q}finally{ng()}return new Up(this.componentType,ne,og(De,J),J,De)}finally{Ue(s)}}},Up=class extends Fp{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;eD(s[Ee],s,i,e,t),this.previousInputValues.set(e,t);let o=su(this._tNode.index,s);uD(o,1)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ux(n,e){let t=n[Ee],r=Hi;return n[r]=e,gg(t,r,2,"#host",null)}function jx(n,e,t,r,i,s,o){let c=i[Ee];Bx(r,n,e,o);let l=null;e!==null&&(l=lg(e,i[go]));let f=s.rendererFactory.createRenderer(e,t),y=16;t.signals?y=4096:t.onPush&&(y=64);let w=pg(i,KE(t),null,y,i[n.index],n,s,f,null,null,l);return c.firstCreatePass&&Pp(c,n,r.length-1),mg(i,w),i[n.index]=w}function Bx(n,e,t,r){for(let i of n)e.mergedAttrs=Yp(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Vp(e,e.mergedAttrs,!0),t!==null&&HE(r,t,e))}function $x(n,e,t,r,i,s){let o=Dr(),c=i[Ee],l=Er(o,i);ZE(c,i,o,t,null,r);for(let y=0;y<t.length;y++){let w=o.directiveStart+y,b=Ja(i,c,w,o);mo(b,i)}JE(c,i,o),l&&mo(l,i);let f=Ja(i,c,o.directiveStart+o.componentOffset,o);if(n[ni]=i[ni]=f,s!==null)for(let y of s)y(f,e);return YE(c,o,i),f}function Hx(n,e,t,r){if(r)fp(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=oR(e.selectors[0]);i&&fp(n,t,i),s&&s.length>0&&$E(n,t,s.join(" "))}}function zx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function qx(){let n=Dr();cE(In()[Ee],n)}var ld=(()=>{class n{static{this.__NG_ELEMENT_ID__=Gx}}return n})();function Gx(){let n=Dr();return Yx(n,In())}var Wx=ld,dD=class extends Wx{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return og(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=rg(this._hostTNode,this._hostLView);if(dE(e)){let t=Hl(e,this._hostLView),r=$l(e),i=t[Ee].data[r+8];return new Bi(i,t)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=hI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,dI(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!ER(e),c;if(o)c=t;else{let x=t||{};c=x.index,r=x.injector,i=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef}let l=o?e:new Xa($i(e)),f=r||this.parentInjector;if(!s&&l.ngModule==null){let V=(o?f:this.parentInjector).get(on,null);V&&(s=V)}let y=$i(l.componentType??{}),w=hI(this._lContainer,y?.id??null),b=w?.firstChild??null,S=l.create(f,i,b,s);return this.insertImpl(S.hostView,c,dI(this._hostTNode,w)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(RR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[Rt],f=new dD(l,l[En],l[Rt]);f.detach(f.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Ix(o,i,s,r),e.attachToViewContainerRef(),CI(cp(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Np(this._lContainer,t);r&&(Fl(cp(this._lContainer),t),LE(r[Ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=Np(this._lContainer,t);return r&&Fl(cp(this._lContainer),t)!=null?new yo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pI(n){return n[Ul]}function cp(n){return n[Ul]||(n[Ul]=[])}function Yx(n,e){let t,r=e[n.index];return Ir(r)?t=r:(t=mx(r,e,null,n),e[n.index]=t,mg(e,t)),Qx(t,e,n,r),new dD(t,n,e)}function Kx(n,e){let t=n[Vn],r=t.createComment(""),i=Er(e,n),s=UE(t,i);return Gl(t,s,r,VN(t,i),!1),r}var Qx=Zx;function Zx(n,e,t,r){if(n[zi])return;let i;t.type&8?i=ri(r):i=Kx(e,t),n[zi]=i}var gI=new Set;function yg(n){gI.has(n)||(gI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ii=class{},eu=class{};var jp=class extends ii{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kl(this);let s=PI(e);this._bootstrapComponents=PE(s.bootstrap),this._r3Injector=IE(e,t,[{provide:ii,useValue:this},{provide:_o,useValue:this.componentFactoryResolver},...r],$t(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bp=class extends eu{constructor(e){super(),this.moduleType=e}create(e){return new jp(this.moduleType,e,[])}};var Ql=class extends ii{constructor(e){super(),this.componentFactoryResolver=new Kl(this),this.instance=null;let t=new Ya([...e.providers,{provide:ii,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],e.parent||Zp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vg(n,e,t=null){return new Ql({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Jx(n){return(n.flags&32)===32}var za=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(za||{}),Xx=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}}return n})(),mI=class n{constructor(){this.ngZone=z(Fe),this.scheduler=z(vo),this.errorHandler=z(yr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[za.EarlyRead,za.Write,za.MixedReadWrite,za.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}};function yI(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";eD(n,t,s[o],o,r)}function eP(n,e,t,r,i,s){let o=e.consts,c=Qw(o,i),l=gg(e,n,2,r,c);return rx(e,t,l,Qw(o,s)),l.attrs!==null&&Vp(l,l.attrs,!1),l.mergedAttrs!==null&&Vp(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Ht(n,e,t,r){let i=In(),s=eg(),o=Hi+n,c=i[Vn],l=s.firstCreatePass?eP(o,s,i,e,t,r):s.data[o],f=tP(s,i,l,c,e,n);i[o]=f;let y=DR(l);return od(l,!0),HE(c,f,l),!Jx(l)&&aE()&&jE(s,i,f,l),xR()===0&&mo(f,i),PR(),y&&(KN(s,i,l),YE(s,l,i)),r!==null&&QN(i,l),Ht}function Ft(){let n=Dr();JI()?UR():(n=n.parent,od(n,!1));let e=n;FR(e)&&LR(),OR();let t=eg();return t.firstCreatePass&&(cE(t,n),BI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&QR(e)&&yI(t,e,In(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZR(e)&&yI(t,e,In(),e.stylesWithoutHost,!1),Ft}function qe(n,e,t,r){return Ht(n,e,t,r),Ft(),qe}var tP=(n,e,t,r,i,s)=>(uE(!0),OE(r,i,GR()));var Zl="en-US";var nP=Zl;function rP(n){typeof n=="string"&&(nP=n.toLowerCase().replace(/_/g,"-"))}function Ge(n,e=""){let t=In(),r=eg(),i=n+Hi,s=r.firstCreatePass?gg(r,i,1,e,null):r.data[i],o=iP(r,t,s,e,n);t[i]=o,aE()&&jE(r,t,o,s),od(s,!1)}var iP=(n,e,t,r,i)=>(uE(!0),MN(e[Vn],r));var sP=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=FI(!1,t.type),i=r.length>0?vg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(me(on))})}}return n})();function bo(n){yg("NgStandalone"),n.getStandaloneInjector=e=>e.get(sP).getOrCreateStandaloneInjector(n)}var vr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},hD=new vr("18.2.13");var dd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var fD=new X("");function Co(n){return!!n&&typeof n.then=="function"}function pD(n){return!!n&&typeof n.subscribe=="function"}var gD=new X(""),mD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=z(gD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Co(s))t.push(s);else if(pD(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_g=new X("");function oP(){uw(()=>{throw new ee(600,!1)})}function aP(n){return n.isBoundToModule}var uP=10;function cP(n,e,t){try{let r=t();return Co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Qi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(yN),this.afterRenderManager=z(Xx),this.zonelessEnabled=z(cd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Mt,this.afterTick=new Mt,this.componentTypes=[],this.components=[],this.isStable=z(Eo).hasPendingTasks.pipe(Ie(t=>!t)),this._injector=z(on)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Yl;if(!this._injector.get(mD).done){let b=!i&&xI(t),S=!1;throw new ee(405,S)}let o;i?o=t:o=this._injector.get(_o).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=aP(o)?void 0:this._injector.get(ii),l=r||o.selector,f=o.create(Ot.NULL,[],l,c),y=f.location.nativeElement,w=f.injector.get(fD,null);return w?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),xl(this.components,f),w?.unregisterApplication(y)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ee(101,!1);let t=Ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ue(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(wo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<uP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)lP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>id(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;xl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(_g,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>xl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lP(n,e,t,r){if(!t&&!id(n))return;iD(n,e,t&&!r?0:1)}var $p=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wg=(()=>{class n{compileModuleSync(t){return new Bp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=PI(t),s=PE(i.declarations).reduce((o,c)=>{let l=$i(c);return l&&o.push(new Xa(l)),o},[]);return new $p(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dP=(()=>{class n{constructor(){this.zone=z(Fe),this.changeDetectionScheduler=z(vo),this.applicationRef=z(Qi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hP=new X("",{factory:()=>!1});function yD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Fe(ze(G({},_D()),{scheduleInRootZone:t})),[{provide:Fe,useFactory:n},{provide:po,multi:!0,useFactory:()=>{let r=z(dP,{optional:!0});return()=>r.initialize()}},{provide:po,multi:!0,useFactory:()=>{let r=z(fP);return()=>{r.initialize()}}},e===!0?{provide:cD,useValue:!0}:[],{provide:lD,useValue:t??EE}]}function vD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=yD({ngZoneFactory:()=>{let i=_D(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&yg("NgZone_CoalesceEvent"),new Fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return jn([{provide:hP,useValue:!0},{provide:cd,useValue:!1},r])}function _D(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var fP=(()=>{class n{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=z(Fe),this.pendingTasks=z(Eo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pP=(()=>{class n{constructor(){this.appRef=z(Qi),this.taskService=z(Eo),this.ngZone=z(Fe),this.zonelessEnabled=z(cd),this.disableScheduling=z(cD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ql):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(lD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ap||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?rI:bE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gP(){return typeof $localize<"u"&&$localize.locale||Zl}var Ig=new X("",{providedIn:"root",factory:()=>z(Ig,ge.Optional|ge.SkipSelf)||gP()});var Hp=new X("");function Al(n){return!n.moduleRef}function mP(n){let e=Al(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Fe);return t.run(()=>{Al(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(yr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Al(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Hp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Hp);o.add(s),n.moduleRef.onDestroy(()=>{xl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return cP(r,t,()=>{let s=e.get(mD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ig,Zl);if(rP(o||Zl),Al(n)){let c=e.get(Qi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return yP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function yP(n,e){let t=n.injector.get(Qi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ee(-403,!1);e.push(n)}var Pl=null;function vP(n=[],e){return Ot.create({name:e,providers:[{provide:td,useValue:"platform"},{provide:Hp,useValue:new Set([()=>Pl=null])},...n]})}function _P(n=[]){if(Pl)return Pl;let e=vP(n);return Pl=e,oP(),wP(e),e}function wP(n){n.get(ug,null)?.forEach(t=>t())}var To=(()=>{class n{static{this.__NG_ELEMENT_ID__=IP}}return n})();function IP(n){return EP(Dr(),In(),(n&16)===16)}function EP(n,e,t){if(Jp(n)&&!t){let r=su(n.index,e);return new yo(r,r)}else if(n.type&175){let r=e[Un];return new yo(r,e)}return null}function wD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_P(r),s=[yD({}),{provide:vo,useExisting:pP},...t||[]],o=new Ql({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return mP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var bD=null;function So(){return bD}function CD(n){bD??=n}var hd=class{};var an=new X(""),TD=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(SP),providedIn:"platform"})}}return n})();var SP=(()=>{class n extends TD{constructor(){super(),this._doc=z(an),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return So().getBaseHref(this._doc)}onPopState(t){let r=So().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=So().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function SD(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function ID(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ji(n){return n&&n[0]!=="?"?"?"+n:n}var pd=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(AD),providedIn:"root"})}}return n})(),AP=new X(""),AD=(()=>{class n extends pd{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return SD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ji(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(me(TD),me(AP,8))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var au=(()=>{class n{constructor(t){this._subject=new wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=NP(ID(ED(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ji(r))}normalize(t){return n.stripTrailingSlash(RP(this._basePath,ED(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ji}static{this.joinWithSlash=SD}static{this.stripTrailingSlash=ID}static{this.\u0275fac=function(r){return new(r||n)(me(pd))}}static{this.\u0275prov=ie({token:n,factory:()=>MP(),providedIn:"root"})}}return n})();function MP(){return new au(me(pd))}function RP(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ED(n){return n.replace(/\/index.html$/,"")}function NP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function MD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var uu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yi({type:n})}static{this.\u0275inj=Wi({})}}return n})(),RD="browser",xP="server";function Dg(n){return n===xP}var fd=class{};var Tg=class extends hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sg=class n extends Tg{static makeCurrent(){CD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=PP();return t==null?null:OP(t)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return MD(document.cookie,e)}},cu=null;function PP(){return cu=cu||document.querySelector("base"),cu?cu.getAttribute("href"):null}function OP(n){return new URL(n,document.baseURI).pathname}var kP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),Ag=new X(""),OD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(me(Ag),me(Fe))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),gd=class{constructor(e){this._doc=e}},bg="ng-app-id",kD=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dg(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${bg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(bg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(bg,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(me(an),me(ag),me(cg,8),me(si))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),Cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rg=/%COMP%/g,FD="%COMP%",FP=`_nghost-${FD}`,LP=`_ngcontent-${FD}`,VP=!0,UP=new X("",{providedIn:"root",factory:()=>VP});function jP(n){return LP.replace(Rg,n)}function BP(n){return FP.replace(Rg,n)}function LD(n,e){return e.map(t=>t.replace(Rg,n))}var ND=(()=>{class n{constructor(t,r,i,s,o,c,l,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Dg(c),this.defaultRenderer=new lu(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ln.ShadowDom&&(r=ze(G({},r),{encapsulation:Ln.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof md?i.applyToHost(t):i instanceof du&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(r.encapsulation){case Ln.Emulated:s=new md(l,f,r,this.appId,y,o,c,w);break;case Ln.ShadowDom:return new Mg(l,f,t,r,o,c,this.nonce,w);default:s=new du(l,f,r,y,o,c,w);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(me(OD),me(kD),me(ag),me(UP),me(an),me(si),me(Fe),me(cg))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),lu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Cg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Cg[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Cg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ki.DashCase|Ki.Important)?e.style.setProperty(t,r,i&Ki.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=So().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function xD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Mg=class extends lu{constructor(e,t,r,i,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=LD(i.id,i.styles);for(let y of f){let w=document.createElement("style");c&&w.setAttribute("nonce",c),w.textContent=y,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},du=class extends lu{constructor(e,t,r,i,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?LD(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},md=class extends du{constructor(e,t,r,i,s,o,c,l){let f=i+"-"+r.id;super(e,t,r,s,o,c,l,f),this.contentAttr=jP(f),this.hostAttr=BP(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},$P=(()=>{class n extends gd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(me(an))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),PD=["alt","control","meta","shift"],HP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qP=(()=>{class n extends gd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>So().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),PD.forEach(f=>{let y=r.indexOf(f);y>-1&&(r.splice(y,1),o+=f+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=HP[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PD.forEach(o=>{if(o!==i){let c=zP[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(me(an))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})();function VD(n,e){return wD(G({rootComponent:n},GP(e)))}function GP(n){return{appProviders:[...ZP,...n?.providers??[]],platformProviders:QP}}function WP(){Sg.makeCurrent()}function YP(){return new yr}function KP(){return NE(document),document}var QP=[{provide:si,useValue:RD},{provide:ug,useValue:WP,multi:!0},{provide:an,useFactory:KP,deps:[]}];var ZP=[{provide:td,useValue:"root"},{provide:yr,useFactory:YP,deps:[]},{provide:Ag,useClass:$P,multi:!0,deps:[an,Fe,si]},{provide:Ag,useClass:qP,multi:!0,deps:[an]},ND,kD,OD,{provide:wo,useExisting:ND},{provide:fd,useClass:kP,deps:[]},[]];var UD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(me(an))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},MG=ze(G({},tO),{"[class.ng-submitted]":"isSubmitted"});var nO=new X("CallSetDisabledState",{providedIn:"root",factory:()=>jD}),jD="always";var rO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yi({type:n})}static{this.\u0275inj=Wi({})}}return n})();var BD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nO,useValue:t.callSetDisabledState??jD}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yi({type:n})}static{this.\u0275inj=Wi({imports:[rO]})}}return n})();var HD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},iO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,l=i+2<n.length,f=l?n[i+2]:0,y=s>>2,w=(s&3)<<4|c>>4,b=(c&15)<<2|f>>6,S=f&63;l||(S=64,o||(b=64)),r.push(t[y],t[w],t[b],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||f==null||w==null)throw new xg;let b=s<<2|c>>4;if(r.push(b),f!==64){let S=c<<4&240|f>>2;if(r.push(S),w!==64){let x=f<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sO=function(n){let e=HD(n);return zD.encodeByteArray(e,!0)},hu=function(n){return sO(n).replace(/\./g,"")},Og=function(n){try{return zD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aO=()=>oO().__FIREBASE_DEFAULTS__,uO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Og(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return aO()||uO()||cO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kg=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qD=n=>{let e=kg(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Fg=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},Lg=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};var yd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function GD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hu(JSON.stringify(t)),hu(JSON.stringify(o)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function lO(){var n;let e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZD(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JD(){return!lO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vg(){try{return typeof indexedDB=="object"}catch{return!1}}function XD(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var dO="FirebaseError",zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}},br=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new zt(i,c,r)}};function hO(n,e){return n.replace(fO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fO=/\{\$([^}]+)}/g;function eb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if($D(s)&&$D(o)){if(!Xi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function $D(n){return n!==null&&typeof n=="object"}function fu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tb(n,e){let t=new Pg(n,e);return t.subscribe.bind(t)}var Pg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ng),i.error===void 0&&(i.error=Ng),i.complete===void 0&&(i.complete=Ng);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ng(){}var xG=4*60*60*1e3;function It(n){return n&&n._delegate?n._delegate:n}var un=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var es="[DEFAULT]";var Ug=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new yd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gO(n){return n===es?void 0:n}function mO(n){return n.instantiationMode==="EAGER"}var _d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ug(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var yO=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),vO={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},_O=ye.INFO,wO={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},IO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=wO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},oi=class{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=IO,this._userLogHandler=null,yO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var EO=(n,e)=>e.some(t=>n instanceof t),nb,rb;function DO(){return nb||(nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bO(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ib=new WeakMap,Bg=new WeakMap,sb=new WeakMap,jg=new WeakMap,Hg=new WeakMap;function CO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Bn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ib.set(t,n)}).catch(()=>{}),Hg.set(e,n),e}function TO(n){if(Bg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Bg.set(n,e)}var $g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ob(n){$g=n($g)}function SO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(wd(this),e,...t);return sb.set(r,e.sort?e.sort():[e]),Bn(r)}:bO().includes(n)?function(...e){return n.apply(wd(this),e),Bn(ib.get(this))}:function(...e){return Bn(n.apply(wd(this),e))}}function AO(n){return typeof n=="function"?SO(n):(n instanceof IDBTransaction&&TO(n),EO(n,DO())?new Proxy(n,$g):n)}function Bn(n){if(n instanceof IDBRequest)return CO(n);if(jg.has(n))return jg.get(n);let e=AO(n);return e!==n&&(jg.set(n,e),Hg.set(e,n)),e}var wd=n=>Hg.get(n);function ub(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Bn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bn(o.result),l.oldVersion,l.newVersion,Bn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}var MO=["get","getKey","getAll","getAllKeys","count"],RO=["put","add","delete","clear"],zg=new Map;function ab(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MO.includes(t)))return;let s=function(o,...c){return T(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),f=l.store;return r&&(f=f.index(c.shift())),(yield Promise.all([f[t](...c),i&&l.done]))[0]})};return zg.set(e,s),s}ob(n=>ze(G({},n),{get:(e,t,r)=>ab(e,t)||n.get(e,t,r),has:(e,t)=>!!ab(e,t)||n.has(e,t)}));var Gg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NO(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function NO(n){let e=n.getComponent();return e?.type==="VERSION"}var Wg="@firebase/app",cb="0.10.13";var Cr=new oi("@firebase/app"),xO="@firebase/app-compat",PO="@firebase/analytics-compat",OO="@firebase/analytics",kO="@firebase/app-check-compat",FO="@firebase/app-check",LO="@firebase/auth",VO="@firebase/auth-compat",UO="@firebase/database",jO="@firebase/data-connect",BO="@firebase/database-compat",$O="@firebase/functions",HO="@firebase/functions-compat",zO="@firebase/installations",qO="@firebase/installations-compat",GO="@firebase/messaging",WO="@firebase/messaging-compat",YO="@firebase/performance",KO="@firebase/performance-compat",QO="@firebase/remote-config",ZO="@firebase/remote-config-compat",JO="@firebase/storage",XO="@firebase/storage-compat",ek="@firebase/firestore",tk="@firebase/vertexai-preview",nk="@firebase/firestore-compat",rk="firebase",ik="10.14.1";var Yg="[DEFAULT]",sk={[Wg]:"fire-core",[xO]:"fire-core-compat",[OO]:"fire-analytics",[PO]:"fire-analytics-compat",[FO]:"fire-app-check",[kO]:"fire-app-check-compat",[LO]:"fire-auth",[VO]:"fire-auth-compat",[UO]:"fire-rtdb",[jO]:"fire-data-connect",[BO]:"fire-rtdb-compat",[$O]:"fire-fn",[HO]:"fire-fn-compat",[zO]:"fire-iid",[qO]:"fire-iid-compat",[GO]:"fire-fcm",[WO]:"fire-fcm-compat",[YO]:"fire-perf",[KO]:"fire-perf-compat",[QO]:"fire-rc",[ZO]:"fire-rc-compat",[JO]:"fire-gcs",[XO]:"fire-gcs-compat",[ek]:"fire-fst",[nk]:"fire-fst-compat",[tk]:"fire-vertex","fire-js":"fire-js",[rk]:"fire-js-all"};var pu=new Map,ok=new Map,Kg=new Map;function lb(n,e){try{n.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ui(n){let e=n.name;if(Kg.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,n);for(let t of pu.values())lb(t,n);for(let t of ok.values())lb(t,n);return!0}function mu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tr(n){return n.settings!==void 0}var ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new br("app","Firebase",ak);var Qg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}};var ci=ik;function Id(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(t||(t=Fg()),!t)throw ai.create("no-options");let s=pu.get(i);if(s){if(Xi(t,s.options)&&Xi(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}let o=new _d(i);for(let l of Kg.values())o.addComponent(l);let c=new Qg(t,r,o);return pu.set(i,c),c}function Ao(n=Yg){let e=pu.get(n);if(!e&&n===Yg&&Fg())return Id();if(!e)throw ai.create("no-app",{appName:n});return e}function Ed(){return Array.from(pu.values())}function at(n,e,t){var r;let i=(r=sk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(c.join(" "));return}ui(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uk="firebase-heartbeat-database",ck=1,gu="firebase-heartbeat-store",qg=null;function pb(){return qg||(qg=ub(uk,ck,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ai.create("idb-open",{originalErrorMessage:n.message})})),qg}function lk(n){return T(this,null,function*(){try{let t=(yield pb()).transaction(gu),r=yield t.objectStore(gu).get(gb(n));return yield t.done,r}catch(e){if(e instanceof zt)Cr.warn(e.message);else{let t=ai.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(t.message)}}})}function db(n,e){return T(this,null,function*(){try{let r=(yield pb()).transaction(gu,"readwrite");yield r.objectStore(gu).put(e,gb(n)),yield r.done}catch(t){if(t instanceof zt)Cr.warn(t.message);else{let r=ai.create("idb-set",{originalErrorMessage:t?.message});Cr.warn(r.message)}}})}function gb(n){return`${n.name}!${n.options.appId}`}var dk=1024,hk=30*24*60*60*1e3,Zg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Jg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=hk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cr.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hb(),{heartbeatsToSend:r,unsentEntries:i}=fk(this._heartbeatsCache.heartbeats),s=hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cr.warn(t),""}})}};function hb(){return new Date().toISOString().substring(0,10)}function fk(n,e=dk){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fb(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Jg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Vg()?XD().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return db(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return db(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fb(n){return hu(JSON.stringify({version:2,heartbeats:n})).length}function pk(n){ui(new un("platform-logger",e=>new Gg(e),"PRIVATE")),ui(new un("heartbeat",e=>new Zg(e),"PRIVATE")),at(Wg,cb,n),at(Wg,cb,"esm2017"),at("fire-js","")}pk("");var gk="firebase",mk="10.14.1";at(gk,mk,"app");var ns=new vr("ANGULARFIRE2_VERSION");function bd(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var yu=(n,e)=>{let t=e?[e]:Ed(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ro=class{constructor(){return yu(yk)}},yk="app-check";function Mo(){}var Dd=class{zone;delegate;constructor(e,t=Wf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Xg=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),t.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},No=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Dd(Zone.current)),this.insideAngular=t.run(()=>new Dd(Zone.current,Gf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(me(Fe))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function vk(n){return Cd().ngZone.runOutsideAngular(()=>n())}function ts(n){return Cd().ngZone.run(()=>n())}function _k(n){return wk(Cd())(n)}function wk(n){return function(t){return t=t.lift(new Xg(n.ngZone)),t.pipe(Kr(n.outsideAngular),Yr(n.insideAngular))}}var Ik=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ts(()=>n.apply(void 0,r))},vu=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo))),r[s]=Ik(r[s],t));let i=vk(()=>n.apply(this,r));if(!e)if(i instanceof Me){let s=Cd();return i.pipe(Kr(s.outsideAngular),Yr(s.insideAngular))}else return ts(()=>i);return i instanceof Me?i.pipe(_k):i instanceof Promise?ts(()=>new Promise((s,o)=>i.then(c=>ts(()=>s(c)),c=>ts(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ts(()=>i)};var Sr=class{constructor(e){return e}},rs=class{constructor(){return Ed()}};function Ek(n){return n&&n.length===1?n[0]:new Sr(Ao())}var em=new X("angularfire2._apps"),Dk={provide:Sr,useFactory:Ek,deps:[[new kt,em]]},bk={provide:rs,deps:[[new kt,em]]};function Ck(n){return(e,t)=>{let r=t.get(si);at("angularfire",ns.full,"core"),at("angularfire",ns.full,"app"),at("angular",hD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Sr(i)}}function mb(n,...e){return jn([Dk,bk,{provide:em,useFactory:Ck(n),multi:!0,deps:[Fe,Ot,No,...e]}])}function Nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var xb=Nb,Pb=new br("auth","Firebase",Nb());var Nd=new oi("@firebase/auth");function Tk(n,...e){Nd.logLevel<=ye.WARN&&Nd.warn(`Auth (${ci}): ${n}`,...e)}function Sd(n,...e){Nd.logLevel<=ye.ERROR&&Nd.error(`Auth (${ci}): ${n}`,...e)}function di(n,...e){throw wm(n,...e)}function ss(n,...e){return wm(n,...e)}function Ob(n,e,t){let r=Object.assign(Object.assign({},xb()),{[e]:t});return new br("auth","Firebase",r).create(e,{appName:n.name})}function is(n){return Ob(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Pb.create(n,...e)}function se(n,e,...t){if(!n)throw wm(e,...t)}function Ar(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sd(e),new Error(e)}function hi(n,e){n||Ar(e)}function im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Sk(){return yb()==="http:"||yb()==="https:"}function yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sk()||KD()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var os=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=WD()||QD()}get(){return Ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Im(n,e){hi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var xd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Nk=new os(3e4,6e4);function Em(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Po(s,o,c,l){return T(this,arguments,function*(n,e,t,r,i={}){return kb(n,i,()=>T(this,null,function*(){let f={},y={};r&&(e==="GET"?y=r:f={body:JSON.stringify(r)});let w=fu(Object.assign({key:n.config.apiKey},y)).slice(1),b=yield n._getAdditionalHeaders();b["Content-Type"]="application/json",n.languageCode&&(b["X-Firebase-Locale"]=n.languageCode);let S=Object.assign({method:e,headers:b},f);return YD()||(S.referrerPolicy="no-referrer"),xd.fetch()(Fb(n,n.config.apiHost,t,w),S)}))})}function kb(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Rk),e);try{let i=new sm(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Td(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,f]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Td(n,"user-disabled",o);let y=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ob(n,y,f);di(n,y)}}catch(i){if(i instanceof zt)throw i;di(n,"network-request-failed",{message:String(i)})}})}function xk(s,o,c,l){return T(this,arguments,function*(n,e,t,r,i={}){let f=yield Po(n,e,t,r,i);return"mfaPendingCredential"in f&&di(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Fb(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Im(n.config,i):`${n.config.apiScheme}://${i}`}var sm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),Nk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Td(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ss(n,e,r);return i.customData._tokenResponse=t,i}function Pk(n,e){return T(this,null,function*(){return Po(n,"POST","/v1/accounts:delete",e)})}function Lb(n,e){return T(this,null,function*(){return Po(n,"POST","/v1/accounts:lookup",e)})}function _u(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dm(n,e=!1){return T(this,null,function*(){let t=It(n),r=yield t.getIdToken(e),i=bm(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_u(tm(i.auth_time)),issuedAtTime:_u(tm(i.iat)),expirationTime:_u(tm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function tm(n){return Number(n)*1e3}function bm(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Og(t);return i?JSON.parse(i):(Sd("Failed to decode base64 JWT payload"),null)}catch(i){return Sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vb(n){let e=bm(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Iu(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof zt&&Ok(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ok({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var om=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Eu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Pd(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Iu(n,Lb(t,{idToken:r}));se(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Vb(s.providerUserInfo):[],c=kk(n.providerData,o),l=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!c?.length,y=l?f:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Eu(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,w)})}function Cm(n){return T(this,null,function*(){let e=It(n);yield Pd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vb(n){return n.map(e=>{var{providerId:t}=e,r=Yf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fk(n,e){return T(this,null,function*(){let t=yield kb(n,{},()=>T(this,null,function*(){let r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Fb(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",xd.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Lk(n,e){return T(this,null,function*(){return Po(n,"POST","/v2/accounts:revokeToken",Em(n,e))})}var wu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=vb(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Fk(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ar("not implemented")}};function li(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var xo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new om(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Eu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield Iu(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Dm(this,e)}reload(){return Cm(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Pd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Tr(this.auth.app))return Promise.reject(is(this.auth));let e=yield this.getIdToken();return yield Iu(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,l,f,y;let w=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,S=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,V=(c=t.tenantId)!==null&&c!==void 0?c:void 0,F=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,Y=(f=t.createdAt)!==null&&f!==void 0?f:void 0,J=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:De,isAnonymous:Be,providerData:Q,stsTokenManager:M}=t;se(ne&&M,e,"internal-error");let I=wu.fromJSON(this.name,M);se(typeof ne=="string",e,"internal-error"),li(w,e.name),li(b,e.name),se(typeof De=="boolean",e,"internal-error"),se(typeof Be=="boolean",e,"internal-error"),li(S,e.name),li(x,e.name),li(V,e.name),li(F,e.name),li(Y,e.name),li(J,e.name);let E=new n({uid:ne,auth:e,email:b,emailVerified:De,displayName:w,isAnonymous:Be,photoURL:x,phoneNumber:S,tenantId:V,stsTokenManager:I,createdAt:Y,lastLoginAt:J});return Q&&Array.isArray(Q)&&(E.providerData=Q.map(A=>Object.assign({},A))),F&&(E._redirectEventId=F),E}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new wu;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pd(s),s})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Vb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new wu;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,f),l})}};var _b=new Map;function Mr(n){hi(n instanceof Function,"Expected a class definition");let e=_b.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_b.set(n,e),e)}var Vk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),am=Vk;function Ad(n,e,t){return`firebase:${n}:${e}:${t}`}var Od=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ad(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ad("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(Mr(am),e,r);let i=(yield Promise.all(t.map(f=>T(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),s=i[0]||Mr(am),o=Ad(r,e.config.apiKey,e.name),c=null;for(let f of t)try{let y=yield f._get(o);if(y){let w=xo._fromJSON(e,y);f!==s&&(c=w),s=f;break}}catch{}let l=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(f=>T(this,null,function*(){if(f!==s)try{yield f._remove(o)}catch{}}))),new n(s,e,r))})}};function wb(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(qb(e))return"Webos";if(jb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(Hb(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Ub(n=dt()){return/firefox\//i.test(n)}function jb(n=dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(n=dt()){return/crios\//i.test(n)}function $b(n=dt()){return/iemobile/i.test(n)}function Hb(n=dt()){return/android/i.test(n)}function zb(n=dt()){return/blackberry/i.test(n)}function qb(n=dt()){return/webos/i.test(n)}function Tm(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Uk(n=dt()){var e;return Tm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jk(){return ZD()&&document.documentMode===10}function Gb(n=dt()){return Tm(n)||Hb(n)||qb(n)||zb(n)||/windows phone/i.test(n)||$b(n)}function Wb(n,e=[]){let t;switch(n){case"Browser":t=wb(dt());break;case"Worker":t=`${wb(dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ci}/${r}`}var um=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Bk(t){return T(this,arguments,function*(n,e={}){return Po(n,"GET","/v2/passwordPolicy",Em(n,e))})}var $k=6,cm=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:$k,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var lm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new um(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Od.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield Lb(this,{idToken:e}),r=yield xo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(Tr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Pd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Mk()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Tr(this.app))return Promise.reject(is(this));let t=e?It(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Tr(this.app)?Promise.reject(is(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tr(this.app)?Promise.reject(is(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Bk(this),t=new cm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Lk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Mr(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Od.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Tk(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Sm(n){return It(n)}var kd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tb(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Am={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hk(n){Am=n}function zk(n){return Am.loadJS(n)}function qk(){return Am.gapiScript}function Yb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Mm(n,e){let t=mu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Xi(s,e??{}))return i;di(i,"already-initialized")}return t.initialize({options:e})}function Gk(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rm(n,e,t){let r=Sm(n);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Kb(e),{host:o,port:c}=Wk(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Yk()}function Kb(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Wk(n){let e=Kb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Ib(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Ib(o)}}}function Ib(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Yk(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Fd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}};function nm(n,e){return T(this,null,function*(){return xk(n,"POST","/v1/accounts:signInWithIdp",Em(n,e))})}var Ld=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dm=class extends Ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Du=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(this,null,function*(){let s=yield xo._fromIdTokenResponse(e,r,i),o=Eb(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Eb(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Eb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var hm=class n extends zt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Qb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(n,s,e,r):s})}function Kk(n,e,t=!1){return T(this,null,function*(){let r=yield Iu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Du._forOperation(n,"link",r)})}function Qk(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(Tr(r.app))return Promise.reject(is(r));let i="reauthenticate";try{let s=yield Iu(n,Qb(r,i,e,n),t);se(s.idToken,r,"internal-error");let o=bm(s.idToken);se(o,r,"internal-error");let{sub:c}=o;return se(n.uid===c,r,"user-mismatch"),Du._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&di(r,"user-mismatch"),s}})}function Zk(n,e,t=!1){return T(this,null,function*(){if(Tr(n.app))return Promise.reject(is(n));let r="signIn",i=yield Qb(n,r,e),s=yield Du._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Nm(n,e,t,r){return It(n).onIdTokenChanged(e,t,r)}function xm(n,e,t){return It(n).beforeAuthStateChanged(e,t)}var Vd="__sak";var Ud=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Jk=1e3,Xk=10,e1=(()=>{class n extends Ud{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,f)=>{this.notifyListeners(c,f)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);jk()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Xk):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield Gr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield Gr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield Gr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Zb=e1;var t1=(()=>{class n extends Ud{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Pm=t1;function n1(n){return Promise.all(n.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var r1=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(y=>T(this,null,function*(){return y(r.origin,o)})),f=yield n1(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Jb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var fm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let f=Jb("",20);i.port1.start();let y=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(w){let b=w;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(y),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function $n(){return window}function i1(n){$n().location.href=n}function Xb(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}function s1(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o1(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function a1(){return Xb()?self:null}var e0="firebaseLocalStorageDb",u1=1,jd="firebaseLocalStorage",t0="fbase_key",as=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $d(n,e){return n.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function c1(){let n=indexedDB.deleteDatabase(e0);return new as(n).toPromise()}function pm(){let n=indexedDB.open(e0,u1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(jd,{keyPath:t0})}catch(i){t(i)}}),n.addEventListener("success",()=>T(this,null,function*(){let r=n.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),yield c1(),e(yield pm()))}))})}function Db(n,e,t){return T(this,null,function*(){let r=$d(n,!0).put({[t0]:e,value:t});return new as(r).toPromise()})}function l1(n,e){return T(this,null,function*(){let t=$d(n,!1).get(e),r=yield new as(t).toPromise();return r===void 0?null:r.value})}function bb(n,e){let t=$d(n,!0).delete(e);return new as(t).toPromise()}var d1=800,h1=3,f1=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield pm(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>h1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return Xb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=r1._getInstance(a1()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield s1(),!this.activeServiceWorker)return;this.sender=new fm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield pm();return yield Db(t,Vd,"1"),yield bb(t,Vd),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>Db(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(i=>l1(i,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>bb(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(s=>{let o=$d(s,!1).getAll();return new as(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),d1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),n0=f1;var SW=Yb("rcb"),AW=new os(3e4,6e4);function p1(n,e){return e?Mr(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bu=class extends Fd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function g1(n){return Zk(n.auth,new bu(n),n.bypassAuthState)}function m1(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),Qk(t,new bu(n),n.bypassAuthState)}function y1(n){return T(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),Kk(t,new bu(n),n.bypassAuthState)})}var gm=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g1;case"linkViaPopup":case"linkViaRedirect":return y1;case"reauthViaPopup":case"reauthViaRedirect":return m1;default:di(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var MW=new os(2e3,1e4);var v1="pendingRedirect",Md=new Map,mm=class n extends gm{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=Md.get(this.auth._key());if(!e){try{let r=(yield _1(this.resolver,this.auth))?yield Gr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Gr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Gr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function _1(n,e){return T(this,null,function*(){let t=E1(e),r=I1(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function w1(n,e){Md.set(n._key(),e)}function I1(n){return Mr(n._redirectPersistence)}function E1(n){return Ad(v1,n.config.apiKey,n.name)}function D1(n,e,t=!1){return T(this,null,function*(){if(Tr(n.app))return Promise.reject(is(n));let r=Sm(n),i=p1(r,e),o=yield new mm(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var b1=10*60*1e3,ym=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!r0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ss(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}};function Cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function r0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(n);default:return!1}}function T1(t){return T(this,arguments,function*(n,e={}){return Po(n,"GET","/v1/projects",e)})}var S1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A1=/^https?/;function M1(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield T1(n);for(let t of e)try{if(R1(t))return}catch{}di(n,"unauthorized-domain")})}function R1(n){let e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!A1.test(t))return!1;if(S1.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var N1=new os(3e4,6e4);function Tb(){let n=$n().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function x1(n){return new Promise((e,t)=>{var r,i,s;function o(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),t(ss(n,"network-request-failed"))},timeout:N1.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{let c=Yb("iframefcb");return $n()[c]=()=>{gapi.load?o():t(ss(n,"network-request-failed"))},zk(`${qk()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw Rd=null,e})}var Rd=null;function P1(n){return Rd=Rd||x1(n),Rd}var O1=new os(5e3,15e3),k1="__/auth/iframe",F1="emulator/auth/iframe",L1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U1(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Im(e,F1):`https://${n.config.authDomain}/${k1}`,r={apiKey:e.apiKey,appName:n.name,v:ci},i=V1.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${fu(r).slice(1)}`}function j1(n){return T(this,null,function*(){let e=yield P1(n),t=$n().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:U1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L1,dontclear:!0},r=>new Promise((i,s)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ss(n,"network-request-failed"),c=$n().setTimeout(()=>{s(o)},O1.get());function l(){$n().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var B1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$1=500,H1=600,z1="_blank",q1="http://localhost",Bd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function G1(n,e,t,r=$1,i=H1){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},B1),{width:r.toString(),height:i.toString(),top:s,left:o}),f=dt().toLowerCase();t&&(c=Bb(f)?z1:t),Ub(f)&&(e=e||q1,l.scrollbars="yes");let y=Object.entries(l).reduce((b,[S,x])=>`${b}${S}=${x},`,"");if(Uk(f)&&c!=="_self")return W1(e||"",c),new Bd(null);let w=window.open(e||"",c,y);se(w,n,"popup-blocked");try{w.focus()}catch{}return new Bd(w)}function W1(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Y1="__/auth/handler",K1="emulator/auth/handler",Q1=encodeURIComponent("fac");function Sb(n,e,t,r,i,s){return T(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ci,eventId:i};if(e instanceof Ld){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",eb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,w]of Object.entries(s||{}))o[y]=w}if(e instanceof dm){let y=e.getScopes().filter(w=>w!=="");y.length>0&&(o.scopes=y.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let y of Object.keys(c))c[y]===void 0&&delete c[y];let l=yield n._getAppCheckToken(),f=l?`#${Q1}=${encodeURIComponent(l)}`:"";return`${Z1(n)}?${fu(c).slice(1)}${f}`})}function Z1({config:n}){return n.emulator?Im(n,K1):`https://${n.authDomain}/${Y1}`}var rm="webStorageSupport",vm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pm,this._completeRedirectFn=D1,this._overrideRedirectResult=w1}_openPopup(e,t,r,i){return T(this,null,function*(){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Sb(e,t,r,im(),i);return G1(e,o,Jb())})}_openRedirect(e,t,r,i){return T(this,null,function*(){yield this._originValidation(e);let s=yield Sb(e,t,r,im(),i);return i1(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield j1(e),r=new ym(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rm,{type:rm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[rm];o!==void 0&&t(!!o),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=M1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gb()||jb()||Tm()}},i0=vm;var Ab="@firebase/auth",Mb="1.7.9";var _m=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function J1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X1(n){ui(new un("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wb(n)},f=new lm(r,i,s,l);return Gk(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ui(new un("auth-internal",e=>{let t=Sm(e.getProvider("auth").getImmediate());return(r=>new _m(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(Ab,Mb,J1(n)),at(Ab,Mb,"esm2017")}var eF=5*60,tF=Lg("authIdTokenMaxAge")||eF,Rb=null,nF=n=>e=>T(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tF)return;let i=t?.token;Rb!==i&&(Rb=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Om(n=Ao()){let e=mu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Mm(n,{popupRedirectResolver:i0,persistence:[n0,Zb,Pm]}),r=Lg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nF(s.toString());xm(t,o,()=>o(t.currentUser)),Nm(t,c=>o(c))}}let i=kg("auth");return i&&Rm(t,`http://${i}`),t}function rF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hk({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ss("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",rF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X1("Browser");var s0="auth",Cu=class{constructor(e){return e}},Tu=class{constructor(){return yu(s0)}};var km=new X("angularfire2.auth-instances");function ZF(n,e){let t=bd(s0,n,e);return t&&new Cu(t)}function JF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cu(r)}}var XF={provide:Tu,deps:[[new kt,km]]},eL={provide:Cu,useFactory:ZF,deps:[[new kt,km],Sr]};function o0(n,...e){return at("angularfire",ns.full,"auth"),jn([eL,XF,{provide:km,useFactory:JF(n),multi:!0,deps:[Fe,Ot,No,rs,[new kt,Ro],...e]}])}var a0=vu(Om,!0);var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c0={};var fi,Fm;(function(){var n;function e(M,I){function E(){}E.prototype=I.prototype,M.D=I.prototype,M.prototype=new E,M.prototype.constructor=M,M.C=function(A,R,P){for(var D=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)D[Lt-2]=arguments[Lt];return I.prototype[R].apply(A,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,I,E){E||(E=0);var A=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)A[R]=I.charCodeAt(E++)|I.charCodeAt(E++)<<8|I.charCodeAt(E++)<<16|I.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=I[E++]|I[E++]<<8|I[E++]<<16|I[E++]<<24;I=M.g[0],E=M.g[1],R=M.g[2];var P=M.g[3],D=I+(P^E&(R^P))+A[0]+3614090360&4294967295;I=E+(D<<7&4294967295|D>>>25),D=P+(R^I&(E^R))+A[1]+3905402710&4294967295,P=I+(D<<12&4294967295|D>>>20),D=R+(E^P&(I^E))+A[2]+606105819&4294967295,R=P+(D<<17&4294967295|D>>>15),D=E+(I^R&(P^I))+A[3]+3250441966&4294967295,E=R+(D<<22&4294967295|D>>>10),D=I+(P^E&(R^P))+A[4]+4118548399&4294967295,I=E+(D<<7&4294967295|D>>>25),D=P+(R^I&(E^R))+A[5]+1200080426&4294967295,P=I+(D<<12&4294967295|D>>>20),D=R+(E^P&(I^E))+A[6]+2821735955&4294967295,R=P+(D<<17&4294967295|D>>>15),D=E+(I^R&(P^I))+A[7]+4249261313&4294967295,E=R+(D<<22&4294967295|D>>>10),D=I+(P^E&(R^P))+A[8]+1770035416&4294967295,I=E+(D<<7&4294967295|D>>>25),D=P+(R^I&(E^R))+A[9]+2336552879&4294967295,P=I+(D<<12&4294967295|D>>>20),D=R+(E^P&(I^E))+A[10]+4294925233&4294967295,R=P+(D<<17&4294967295|D>>>15),D=E+(I^R&(P^I))+A[11]+2304563134&4294967295,E=R+(D<<22&4294967295|D>>>10),D=I+(P^E&(R^P))+A[12]+1804603682&4294967295,I=E+(D<<7&4294967295|D>>>25),D=P+(R^I&(E^R))+A[13]+4254626195&4294967295,P=I+(D<<12&4294967295|D>>>20),D=R+(E^P&(I^E))+A[14]+2792965006&4294967295,R=P+(D<<17&4294967295|D>>>15),D=E+(I^R&(P^I))+A[15]+1236535329&4294967295,E=R+(D<<22&4294967295|D>>>10),D=I+(R^P&(E^R))+A[1]+4129170786&4294967295,I=E+(D<<5&4294967295|D>>>27),D=P+(E^R&(I^E))+A[6]+3225465664&4294967295,P=I+(D<<9&4294967295|D>>>23),D=R+(I^E&(P^I))+A[11]+643717713&4294967295,R=P+(D<<14&4294967295|D>>>18),D=E+(P^I&(R^P))+A[0]+3921069994&4294967295,E=R+(D<<20&4294967295|D>>>12),D=I+(R^P&(E^R))+A[5]+3593408605&4294967295,I=E+(D<<5&4294967295|D>>>27),D=P+(E^R&(I^E))+A[10]+38016083&4294967295,P=I+(D<<9&4294967295|D>>>23),D=R+(I^E&(P^I))+A[15]+3634488961&4294967295,R=P+(D<<14&4294967295|D>>>18),D=E+(P^I&(R^P))+A[4]+3889429448&4294967295,E=R+(D<<20&4294967295|D>>>12),D=I+(R^P&(E^R))+A[9]+568446438&4294967295,I=E+(D<<5&4294967295|D>>>27),D=P+(E^R&(I^E))+A[14]+3275163606&4294967295,P=I+(D<<9&4294967295|D>>>23),D=R+(I^E&(P^I))+A[3]+4107603335&4294967295,R=P+(D<<14&4294967295|D>>>18),D=E+(P^I&(R^P))+A[8]+1163531501&4294967295,E=R+(D<<20&4294967295|D>>>12),D=I+(R^P&(E^R))+A[13]+2850285829&4294967295,I=E+(D<<5&4294967295|D>>>27),D=P+(E^R&(I^E))+A[2]+4243563512&4294967295,P=I+(D<<9&4294967295|D>>>23),D=R+(I^E&(P^I))+A[7]+1735328473&4294967295,R=P+(D<<14&4294967295|D>>>18),D=E+(P^I&(R^P))+A[12]+2368359562&4294967295,E=R+(D<<20&4294967295|D>>>12),D=I+(E^R^P)+A[5]+4294588738&4294967295,I=E+(D<<4&4294967295|D>>>28),D=P+(I^E^R)+A[8]+2272392833&4294967295,P=I+(D<<11&4294967295|D>>>21),D=R+(P^I^E)+A[11]+1839030562&4294967295,R=P+(D<<16&4294967295|D>>>16),D=E+(R^P^I)+A[14]+4259657740&4294967295,E=R+(D<<23&4294967295|D>>>9),D=I+(E^R^P)+A[1]+2763975236&4294967295,I=E+(D<<4&4294967295|D>>>28),D=P+(I^E^R)+A[4]+1272893353&4294967295,P=I+(D<<11&4294967295|D>>>21),D=R+(P^I^E)+A[7]+4139469664&4294967295,R=P+(D<<16&4294967295|D>>>16),D=E+(R^P^I)+A[10]+3200236656&4294967295,E=R+(D<<23&4294967295|D>>>9),D=I+(E^R^P)+A[13]+681279174&4294967295,I=E+(D<<4&4294967295|D>>>28),D=P+(I^E^R)+A[0]+3936430074&4294967295,P=I+(D<<11&4294967295|D>>>21),D=R+(P^I^E)+A[3]+3572445317&4294967295,R=P+(D<<16&4294967295|D>>>16),D=E+(R^P^I)+A[6]+76029189&4294967295,E=R+(D<<23&4294967295|D>>>9),D=I+(E^R^P)+A[9]+3654602809&4294967295,I=E+(D<<4&4294967295|D>>>28),D=P+(I^E^R)+A[12]+3873151461&4294967295,P=I+(D<<11&4294967295|D>>>21),D=R+(P^I^E)+A[15]+530742520&4294967295,R=P+(D<<16&4294967295|D>>>16),D=E+(R^P^I)+A[2]+3299628645&4294967295,E=R+(D<<23&4294967295|D>>>9),D=I+(R^(E|~P))+A[0]+4096336452&4294967295,I=E+(D<<6&4294967295|D>>>26),D=P+(E^(I|~R))+A[7]+1126891415&4294967295,P=I+(D<<10&4294967295|D>>>22),D=R+(I^(P|~E))+A[14]+2878612391&4294967295,R=P+(D<<15&4294967295|D>>>17),D=E+(P^(R|~I))+A[5]+4237533241&4294967295,E=R+(D<<21&4294967295|D>>>11),D=I+(R^(E|~P))+A[12]+1700485571&4294967295,I=E+(D<<6&4294967295|D>>>26),D=P+(E^(I|~R))+A[3]+2399980690&4294967295,P=I+(D<<10&4294967295|D>>>22),D=R+(I^(P|~E))+A[10]+4293915773&4294967295,R=P+(D<<15&4294967295|D>>>17),D=E+(P^(R|~I))+A[1]+2240044497&4294967295,E=R+(D<<21&4294967295|D>>>11),D=I+(R^(E|~P))+A[8]+1873313359&4294967295,I=E+(D<<6&4294967295|D>>>26),D=P+(E^(I|~R))+A[15]+4264355552&4294967295,P=I+(D<<10&4294967295|D>>>22),D=R+(I^(P|~E))+A[6]+2734768916&4294967295,R=P+(D<<15&4294967295|D>>>17),D=E+(P^(R|~I))+A[13]+1309151649&4294967295,E=R+(D<<21&4294967295|D>>>11),D=I+(R^(E|~P))+A[4]+4149444226&4294967295,I=E+(D<<6&4294967295|D>>>26),D=P+(E^(I|~R))+A[11]+3174756917&4294967295,P=I+(D<<10&4294967295|D>>>22),D=R+(I^(P|~E))+A[2]+718787259&4294967295,R=P+(D<<15&4294967295|D>>>17),D=E+(P^(R|~I))+A[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var E=I-this.blockSize,A=this.B,R=this.h,P=0;P<I;){if(R==0)for(;P<=E;)i(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<I;)if(A[R++]=M.charCodeAt(P++),R==this.blockSize){i(this,A),R=0;break}}else for(;P<I;)if(A[R++]=M[P++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var E=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=E&255,E/=256;for(this.u(M),M=Array(16),I=E=0;4>I;++I)for(var A=0;32>A;A+=8)M[E++]=this.g[I]>>>A&255;return M};function s(M,I){var E=c;return Object.prototype.hasOwnProperty.call(E,M)?E[M]:E[M]=I(M)}function o(M,I){this.h=I;for(var E=[],A=!0,R=M.length-1;0<=R;R--){var P=M[R]|0;A&&P==I||(E[R]=P,A=!1)}this.g=E}var c={};function l(M){return-128<=M&&128>M?s(M,function(I){return new o([I|0],0>I?-1:0)}):new o([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return F(f(-M));for(var I=[],E=1,A=0;M>=E;A++)I[A]=M/E|0,E*=4294967296;return new o(I,0)}function y(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return F(y(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(I,8)),A=w,R=0;R<M.length;R+=8){var P=Math.min(8,M.length-R),D=parseInt(M.substring(R,R+P),I);8>P?(P=f(Math.pow(I,P)),A=A.j(P).add(f(D))):(A=A.j(E),A=A.add(f(D)))}return A}var w=l(0),b=l(1),S=l(16777216);n=o.prototype,n.m=function(){if(V(this))return-F(this).m();for(var M=0,I=1,E=0;E<this.g.length;E++){var A=this.i(E);M+=(0<=A?A:4294967296+A)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(V(this))return"-"+F(this).toString(M);for(var I=f(Math.pow(M,6)),E=this,A="";;){var R=De(E,I).g;E=Y(E,R.j(I));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(M);if(E=R,x(E))return P+A;for(;6>P.length;)P="0"+P;A=P+A}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function V(M){return M.h==-1}n.l=function(M){return M=Y(this,M),V(M)?-1:x(M)?0:1};function F(M){for(var I=M.g.length,E=[],A=0;A<I;A++)E[A]=~M.g[A];return new o(E,~M.h).add(b)}n.abs=function(){return V(this)?F(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),E=[],A=0,R=0;R<=I;R++){var P=A+(this.i(R)&65535)+(M.i(R)&65535),D=(P>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);A=D>>>16,P&=65535,D&=65535,E[R]=D<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function Y(M,I){return M.add(F(I))}n.j=function(M){if(x(this)||x(M))return w;if(V(this))return V(M)?F(this).j(F(M)):F(F(this).j(M));if(V(M))return F(this.j(F(M)));if(0>this.l(S)&&0>M.l(S))return f(this.m()*M.m());for(var I=this.g.length+M.g.length,E=[],A=0;A<2*I;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<M.g.length;R++){var P=this.i(A)>>>16,D=this.i(A)&65535,Lt=M.i(R)>>>16,Jn=M.i(R)&65535;E[2*A+2*R]+=D*Jn,J(E,2*A+2*R),E[2*A+2*R+1]+=P*Jn,J(E,2*A+2*R+1),E[2*A+2*R+1]+=D*Lt,J(E,2*A+2*R+1),E[2*A+2*R+2]+=P*Lt,J(E,2*A+2*R+2)}for(A=0;A<I;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=I;A<2*I;A++)E[A]=0;return new o(E,0)};function J(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function ne(M,I){this.g=M,this.h=I}function De(M,I){if(x(I))throw Error("division by zero");if(x(M))return new ne(w,w);if(V(M))return I=De(F(M),I),new ne(F(I.g),F(I.h));if(V(I))return I=De(M,F(I)),new ne(F(I.g),I.h);if(30<M.g.length){if(V(M)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var E=b,A=I;0>=A.l(M);)E=Be(E),A=Be(A);var R=Q(E,1),P=Q(A,1);for(A=Q(A,2),E=Q(E,2);!x(A);){var D=P.add(A);0>=D.l(M)&&(R=R.add(E),P=D),A=Q(A,1),E=Q(E,1)}return I=Y(M,R.j(I)),new ne(R,I)}for(R=w;0<=M.l(I);){for(E=Math.max(1,Math.floor(M.m()/I.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),P=f(E),D=P.j(I);V(D)||0<D.l(M);)E-=A,P=f(E),D=P.j(I);x(P)&&(P=b),R=R.add(P),M=Y(M,D)}return new ne(R,M)}n.A=function(M){return De(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),E=[],A=0;A<I;A++)E[A]=this.i(A)&M.i(A);return new o(E,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),E=[],A=0;A<I;A++)E[A]=this.i(A)|M.i(A);return new o(E,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),E=[],A=0;A<I;A++)E[A]=this.i(A)^M.i(A);return new o(E,this.h^M.h)};function Be(M){for(var I=M.g.length+1,E=[],A=0;A<I;A++)E[A]=M.i(A)<<1|M.i(A-1)>>>31;return new o(E,M.h)}function Q(M,I){var E=I>>5;I%=32;for(var A=M.g.length-E,R=[],P=0;P<A;P++)R[P]=0<I?M.i(P+E)>>>I|M.i(P+E+1)<<32-I:M.i(P+E);return new o(R,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fm=c0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=y,fi=c0.Integer=o}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={};var Lm,tL,Oo,Vm,Su,zd,Um,jm,Bm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var N=u[_];if(!(N in m))break e;m=m[N]}u=u[u.length-1],_=m[u],h=h(_),h!=_&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,_=!1,N={next:function(){if(!_&&m<u.length){var O=m++;return{value:h(O,u[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});var o=o||{},c=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function f(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function y(u,h,m){return u.call.apply(u.bind,arguments)}function w(u,h,m){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),u.apply(h,N)}}return function(){return u.apply(h,arguments)}}function b(u,h,m){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,b.apply(null,arguments)}function S(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function x(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(_,N,O){for(var B=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)B[xe-2]=arguments[xe];return h.prototype[N].apply(_,B)}}function V(u){let h=u.length;if(0<h){let m=Array(h);for(let _=0;_<h;_++)m[_]=u[_];return m}return[]}function F(u,h){for(let m=1;m<arguments.length;m++){let _=arguments[m];if(l(_)){let N=u.length||0,O=_.length||0;u.length=N+O;for(let B=0;B<O;B++)u[N+B]=_[B]}else u.push(_)}}class Y{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function J(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function De(u){return De[" "](u),u}De[" "]=function(){};var Be=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Q(u,h,m){for(let _ in u)h.call(m,u[_],_,u)}function M(u,h){for(let m in u)h.call(void 0,u[m],m,u)}function I(u){let h={};for(let m in u)h[m]=u[m];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,h){let m,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(m in _)u[m]=_[m];for(let O=0;O<E.length;O++)m=E[O],Object.prototype.hasOwnProperty.call(_,m)&&(u[m]=_[m])}}function R(u){var h=1;u=u.split(":");let m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function P(u){c.setTimeout(()=>{throw u},0)}function D(){var u=Ii;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Lt{constructor(){this.h=this.g=null}add(h,m){let _=Jn.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Jn=new Y(()=>new Zh,u=>u.reset());class Zh{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let wi,vt=!1,Ii=new Lt,Ei=()=>{let u=c.Promise.resolve(void 0);wi=()=>{u.then(_a)}};var _a=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(m){P(m)}var h=Jn;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}vt=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Jh=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return u}();function Di(u,h){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(Be){e:{try{De(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bs[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Di.aa.h.call(this)}}x(Di,$);var bs={2:"touch",3:"pen",4:"mouse"};Di.prototype.h=function(){Di.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fr="closure_listenable_"+(1e6*Math.random()|0),Xh=0;function ef(u,h,m,_,N){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=N,this.key=++Xh,this.da=this.fa=!1}function Cs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ts(u){this.src=u,this.g={},this.h=0}Ts.prototype.add=function(u,h,m,_,N){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var B=Ia(u,h,_,N);return-1<B?(h=u[B],m||(h.fa=!1)):(h=new ef(h,this.src,O,!!_,N),h.fa=m,u.push(h)),h};function wa(u,h){var m=h.type;if(m in u.g){var _=u.g[m],N=Array.prototype.indexOf.call(_,h,void 0),O;(O=0<=N)&&Array.prototype.splice.call(_,N,1),O&&(Cs(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ia(u,h,m,_){for(var N=0;N<u.length;++N){var O=u[N];if(!O.da&&O.listener==h&&O.capture==!!m&&O.ha==_)return N}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),Da={};function pc(u,h,m,_,N){if(_&&_.once)return Tt(u,h,m,_,N);if(Array.isArray(h)){for(var O=0;O<h.length;O++)pc(u,h[O],m,_,N);return null}return m=bi(m),u&&u[Fr]?u.K(h,m,f(_)?!!_.capture:!!_,N):gc(u,h,m,!1,_,N)}function gc(u,h,m,_,N,O){if(!h)throw Error("Invalid event type");var B=f(N)?!!N.capture:!!N,xe=ft(u);if(xe||(u[Ea]=xe=new Ts(u)),m=xe.add(h,m,_,B,O),m.proxy)return m;if(_=mc(),m.proxy=_,_.src=u,_.listener=m,u.addEventListener)Jh||(N=B),N===void 0&&(N=!1),u.addEventListener(h.toString(),_,N);else if(u.attachEvent)u.attachEvent(yc(h.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function mc(){function u(m){return h.call(u.src,u.listener,m)}let h=vc;return u}function Tt(u,h,m,_,N){if(Array.isArray(h)){for(var O=0;O<h.length;O++)Tt(u,h[O],m,_,N);return null}return m=bi(m),u&&u[Fr]?u.L(h,m,f(_)?!!_.capture:!!_,N):gc(u,h,m,!0,_,N)}function Ss(u,h,m,_,N){if(Array.isArray(h))for(var O=0;O<h.length;O++)Ss(u,h[O],m,_,N);else _=f(_)?!!_.capture:!!_,m=bi(m),u&&u[Fr]?(u=u.i,h=String(h).toString(),h in u.g&&(O=u.g[h],m=Ia(O,m,_,N),-1<m&&(Cs(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete u.g[h],u.h--)))):u&&(u=ft(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Ia(h,m,_,N)),(m=-1<u?h[u]:null)&&ba(m))}function ba(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Fr])wa(h.i,u);else{var m=u.type,_=u.proxy;h.removeEventListener?h.removeEventListener(m,_,u.capture):h.detachEvent?h.detachEvent(yc(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=ft(h))?(wa(m,u),m.h==0&&(m.src=null,h[Ea]=null)):Cs(u)}}}function yc(u){return u in Da?Da[u]:Da[u]="on"+u}function vc(u,h){if(u.da)u=!0;else{h=new Di(h,this);var m=u.listener,_=u.ha||u.src;u.fa&&ba(u),u=m.call(_,h)}return u}function ft(u){return u=u[Ea],u instanceof Ts?u:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(u){return typeof u=="function"?u:(u[As]||(u[As]=function(h){return u.handleEvent(h)}),u[As])}function Xe(){Ct.call(this),this.i=new Ts(this),this.M=this,this.F=null}x(Xe,Ct),Xe.prototype[Fr]=!0,Xe.prototype.removeEventListener=function(u,h,m,_){Ss(this,u,h,m,_)};function he(u,h){var m,_=u.F;if(_)for(m=[];_;_=_.F)m.push(_);if(u=u.M,_=h.type||h,typeof h=="string")h=new $(h,u);else if(h instanceof $)h.target=h.target||u;else{var N=h;h=new $(_,u),A(h,N)}if(N=!0,m)for(var O=m.length-1;0<=O;O--){var B=h.g=m[O];N=Ci(B,_,!0,h)&&N}if(B=h.g=u,N=Ci(B,_,!0,h)&&N,N=Ci(B,_,!1,h)&&N,m)for(O=0;O<m.length;O++)B=h.g=m[O],N=Ci(B,_,!1,h)&&N}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],_=0;_<m.length;_++)Cs(m[_]);delete u.g[h],u.h--}}this.F=null},Xe.prototype.K=function(u,h,m,_){return this.i.add(String(u),h,!1,m,_)},Xe.prototype.L=function(u,h,m,_){return this.i.add(String(u),h,!0,m,_)};function Ci(u,h,m,_){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,O=0;O<h.length;++O){var B=h[O];if(B&&!B.da&&B.capture==m){var xe=B.listener,rt=B.ha||B.src;B.fa&&wa(u.i,B),N=xe.call(rt,_)!==!1&&N}}return N&&!_.defaultPrevented}function Ca(u,h,m){if(typeof u=="function")m&&(u=b(u,m));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(u,h||0)}function Ti(u){u.g=Ca(()=>{u.g=null,u.i&&(u.i=!1,Ti(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class Ta extends Ct{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(u){Ct.call(this),this.h=u,this.g={}}x(Cn,Ct);var Xn=[];function Si(u){Q(u.g,function(h,m){this.g.hasOwnProperty(m)&&ba(h)},u),u.g={}}Cn.prototype.N=function(){Cn.aa.N.call(this),Si(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sa=c.JSON.stringify,Ms=c.JSON.parse,tf=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function er(){}er.prototype.h=null;function tr(u){return u.h||(u.h=u.i())}function Rs(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function H(){$.call(this,"d")}x(H,$);function Aa(){$.call(this,"c")}x(Aa,$);var nr={},Qt=null;function pt(){return Qt=Qt||new Xe}nr.La="serverreachability";function pe(u){$.call(this,nr.La,u)}x(pe,$);function rr(u){let h=pt();he(h,new pe(h))}nr.STAT_EVENT="statevent";function Ne(u,h){$.call(this,nr.STAT_EVENT,u),this.stat=h}x(Ne,$);function et(u){let h=pt();he(h,new Ne(h,u))}nr.Ma="timingevent";function _c(u,h){$.call(this,nr.Ma,u),this.size=h}x(_c,$);function Sn(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},h)}function Ke(){this.g=!0}Ke.prototype.xa=function(){this.g=!1};function dn(u,h,m,_,N,O){u.info(function(){if(u.g)if(O)for(var B="",xe=O.split("&"),rt=0;rt<xe.length;rt++){var _e=xe[rt].split("=");if(1<_e.length){var ue=_e[0];_e=_e[1];var ct=ue.split("_");B=2<=ct.length&&ct[1]=="type"?B+(ue+"="+_e+"&"):B+(ue+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+h+`
`+m+`
`+B})}function Zt(u,h,m,_,N,O,B){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+h+`
`+m+`
`+O+" "+B})}function $e(u,h,m,_){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+hn(u,m)+(_?" "+_:"")})}function Vt(u,h){u.info(function(){return"TIMEOUT: "+h})}Ke.prototype.info=function(){};function hn(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var _=m[u];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<N.length;B++)N[B]=""}}}}return Sa(m)}catch{return h}}var Jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ma;function An(){}x(An,er),An.prototype.g=function(){return new XMLHttpRequest},An.prototype.i=function(){return{}},Ma=new An;function fn(u,h,m,_){this.j=u,this.i=h,this.l=m,this.R=_||1,this.U=new Cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}var ir={},sr={};function Ns(u,h,m){u.L=1,u.v=Os(en(h)),u.m=m,u.P=!0,Ec(u,null)}function Ec(u,h){u.F=Date.now(),He(u),u.A=en(u.v);var m=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),Oc(m.i,"t",_),u.C=0,m=u.j.J,u.h=new Ic,u.g=Kc(u.j,m?h:null,!u.m),0<u.O&&(u.M=new Ta(b(u.Y,u,u.g),u.O)),h=u.U,m=u.g,_=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(Xn[0]=N.toString()),N=Xn);for(var O=0;O<N.length;O++){var B=pc(m,N[O],_||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),rr(),dn(u.i,u.u,u.A,u.l,u.R,u.m)}fn.prototype.ca=function(u){u=u.target;let h=this.M;h&&St(u)==3?h.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{let ct=St(this.g);var h=this.g.Ba();let Hr=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||ct!=4||h==7||(h==8||0>=Hr?rr(3):rr(2)),Ra(this);var m=this.g.Z();this.X=m;t:if(Dc(this)){var _=Uc(this.g);u="";var N=_.length,O=St(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Lr(this);var B="";break t}this.h.i=new c.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,u+=this.h.i.decode(_[h],{stream:!(O&&h==N-1)});_.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,Zt(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,rt=this.g;if((xe=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(xe)){var _e=xe;break t}}_e=null}if(m=_e)$e(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,m);else{this.o=!1,this.s=3,et(12),Mn(this),Lr(this);break e}}if(this.P){m=!0;let xt;for(;!this.J&&this.C<B.length;)if(xt=nf(this,B),xt==sr){ct==4&&(this.s=4,et(14),m=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==ir){this.s=4,et(15),$e(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else $e(this.i,this.l,xt,null),Na(this,xt);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||B.length!=0||this.h.h||(this.s=1,et(16),m=!1),this.o=this.o&&m,!m)$e(this.i,this.l,B,"[Invalid Chunked Response]"),Mn(this),Lr(this);else if(0<B.length&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.ba&&!ue.M&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Br(ue),ue.M=!0,et(11))}}else $e(this.i,this.l,B,null),Na(this,B);ct==4&&Mn(this),this.o&&!this.J&&(ct==4?qc(this.j,this):(this.o=!1,He(this)))}else jc(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Mn(this),Lr(this)}}}catch{}finally{}};function Dc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nf(u,h){var m=u.C,_=h.indexOf(`
`,m);return _==-1?sr:(m=Number(h.substring(m,_)),isNaN(m)?ir:(_+=1,_+m>h.length?sr:(h=h.slice(_,_+m),u.C=_+m,h)))}fn.prototype.cancel=function(){this.J=!0,Mn(this)};function He(u){u.S=Date.now()+u.I,xs(u,u.I)}function xs(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Sn(b(u.ba,u),h)}function Ra(u){u.B&&(c.clearTimeout(u.B),u.B=null)}fn.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Vt(this.i,this.A),this.L!=2&&(rr(),et(17)),Mn(this),this.s=2,Lr(this)):xs(this,this.S-u)};function Lr(u){u.j.G==0||u.J||qc(u.j,u)}function Mn(u){Ra(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,Si(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Na(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||xa(m.h,u))){if(!u.K&&xa(m.h,u)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)js(m),Ut(m);else break e;La(m),et(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Sn(b(m.Za,m),6e3));if(1>=Tc(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Pn(m,11)}else if((u.K||m.g==u)&&js(m),!J(h))for(N=m.Da.g.parse(h),h=0;h<N.length;h++){let _e=N[h];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];let ue=_e[3];ue!=null&&(m.la=ue,m.j.info("VER="+m.la));let ct=_e[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));let Hr=_e[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(_=1.5*Hr,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;let xt=u.g;if(xt){let $s=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var O=_.h;O.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ps(O,O.h),O.h=null))}if(_.D){let Va=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(_.ya=Va,Ve(_.I,_.D,Va))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var B=u;if(_.qa=Yc(_,_.J?_.ia:null,_.W),B.K){Pa(_.h,B);var xe=B,rt=_.L;rt&&(xe.I=rt),xe.B&&(Ra(xe),He(xe)),_.g=B}else zc(_);0<m.i.length&&Vs(m)}else _e[0]!="stop"&&_e[0]!="close"||Pn(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Pn(m,7):jr(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}rr(4)}catch{}}var rf=class{constructor(u,h){this.g=u,this.map=h}};function bc(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cc(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Tc(u){return u.h?1:u.g?u.g.size:0}function xa(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Ps(u,h){u.g?u.g.add(h):u.h=h}function Pa(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}bc.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Sc(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let m of u.g.values())h=h.concat(m.D);return h}return V(u.i)}function sf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,_=0;_<m;_++)h.push(u[_]);return h}h=[],m=0;for(_ in u)h[m++]=u[_];return h}function of(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(let _ in u)h[m++]=_;return h}}}function Oa(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=of(u),_=sf(u),N=_.length,O=0;O<N;O++)h.call(void 0,_[O],m&&m[O],u)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ai(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var _=u[m].indexOf("="),N=null;if(0<=_){var O=u[m].substring(0,_);N=u[m].substring(_+1)}else O=u[m];h(O,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Xt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Xt){this.h=u.h,Rn(this,u.j),this.o=u.o,this.g=u.g,Nt(this,u.s),this.l=u.l;var h=u.i,m=new Ni;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Mc(this,m),this.m=u.m}else u&&(h=String(u).match(Ac))?(this.h=!1,Rn(this,h[1]||"",!0),this.o=Mi(h[2]||""),this.g=Mi(h[3]||"",!0),Nt(this,h[4]),this.l=Mi(h[5]||"",!0),Mc(this,h[6]||"",!0),this.m=Mi(h[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}Xt.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Ri(h,Rc,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Ri(h,Rc,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Ri(m,m.charAt(0)=="/"?ka:uf,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Ri(m,Nc)),u.join("")};function en(u){return new Xt(u)}function Rn(u,h,m){u.j=m?Mi(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Nt(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function Mc(u,h,m){h instanceof Ni?(u.i=h,lf(u.i,u.h)):(m||(h=Ri(h,cf)),u.i=new Ni(h,u.h))}function Ve(u,h,m){u.i.set(h,m)}function Os(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mi(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ri(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,af),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function af(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rc=/[#\/\?@]/g,uf=/[#\?:]/g,ka=/[#\?]/g,cf=/[#\?@]/g,Nc=/#/g;function Ni(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ai(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}n=Ni.prototype,n.add=function(u,h){Nn(this),this.i=null,u=Vr(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function xc(u,h){Nn(u),h=Vr(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function Pc(u,h){return Nn(u),h=Vr(u,h),u.g.has(h)}n.forEach=function(u,h){Nn(this),this.g.forEach(function(m,_){m.forEach(function(N){u.call(h,N,_,this)},this)},this)},n.na=function(){Nn(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){let N=u[_];for(let O=0;O<N.length;O++)m.push(h[_])}return m},n.V=function(u){Nn(this);let h=[];if(typeof u=="string")Pc(this,u)&&(h=h.concat(this.g.get(Vr(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},n.set=function(u,h){return Nn(this),this.i=null,u=Vr(this,u),Pc(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function Oc(u,h,m){xc(u,h),0<m.length&&(u.i=null,u.g.set(Vr(u,h),V(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];let O=encodeURIComponent(String(_)),B=this.V(_);for(_=0;_<B.length;_++){var N=O;B[_]!==""&&(N+="="+encodeURIComponent(String(B[_]))),u.push(N)}}return this.i=u.join("&")};function Vr(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function lf(u,h){h&&!u.j&&(Nn(u),u.i=null,u.g.forEach(function(m,_){var N=_.toLowerCase();_!=N&&(xc(this,_),Oc(this,N,m))},u)),u.j=h}function df(u,h){let m=new Ke;if(c.Image){let _=new Image;_.onload=S(xn,m,"TestLoadImage: loaded",!0,h,_),_.onerror=S(xn,m,"TestLoadImage: error",!1,h,_),_.onabort=S(xn,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=S(xn,m,"TestLoadImage: timeout",!1,h,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else h(!1)}function hf(u,h){let m=new Ke,_=new AbortController,N=setTimeout(()=>{_.abort(),xn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:_.signal}).then(O=>{clearTimeout(N),O.ok?xn(m,"TestPingServer: ok",!0,h):xn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),xn(m,"TestPingServer: error",!1,h)})}function xn(u,h,m,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(m)}catch{}}function ff(){this.g=new tf}function pf(u,h,m){let _=m||"";try{Oa(u,function(N,O){let B=N;f(N)&&(B=Sa(N)),h.push(_+O+"="+encodeURIComponent(B))})}catch(N){throw h.push(_+"type="+encodeURIComponent("_badmap")),N}}function xi(u){this.l=u.Ub||null,this.j=u.eb||!1}x(xi,er),xi.prototype.g=function(){return new ks(this.l,this.j)},xi.prototype.i=function(u){return function(){return u}}({});function ks(u,h){Xe.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ks,Xe),n=ks.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,ar(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?or(this):ar(this),this.readyState==3&&kc(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},n.Qa=function(u){this.g&&(this.response=u,or(this))},n.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fc(u){let h="";return Q(u,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function Fs(u,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Fc(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ve(u,h,m))}function We(u){Xe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(We,Xe);var gf=/^https?$/i,mf=["POST","PUT"];n=We.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ma.g(),this.v=this.o?tr(this.o):tr(Ma),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(O){Lc(this,O);return}if(u=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)m.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let O of _.keys())m.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),N=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(mf,h,void 0))||_||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,B]of m)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ur(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){Lc(this,O)}};function Lc(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,Vc(u),Oe(u)}function Vc(u){u.A||(u.A=!0,he(u,"complete"),he(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,he(this,"complete"),he(this,"abort"),Oe(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oe(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(u){if(u.h&&typeof o<"u"&&(!u.v[1]||St(u)!=4||u.Z()!=2)){if(u.u&&St(u)==4)Ca(u.Ea,0,u);else if(he(u,"readystatechange"),St(u)==4){u.h=!1;try{let B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=B===0){var N=String(u.D).match(Ac)[1]||null;!N&&c.self&&c.self.location&&(N=c.self.location.protocol.slice(0,-1)),_=!gf.test(N?N.toLowerCase():"")}m=_}if(m)he(u,"complete"),he(u,"success");else{u.m=6;try{var O=2<St(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",Vc(u)}}finally{Oe(u)}}}}function Oe(u,h){if(u.g){Ur(u);let m=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||he(u,"ready");try{m.onreadystatechange=_}catch{}}}function Ur(u){u.I&&(c.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function St(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<St(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),Ms(h)}};function Uc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(u){let h={};u=(u.g&&2<=St(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(J(u[_]))continue;var m=R(u[_]);let N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let O=h[N]||[];h[N]=O,O.push(m)}M(h,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function Bc(u){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,u),this.cb=Pi("retryDelaySeedMs",1e4,u),this.Wa=Pi("forwardChannelMaxRetries",2,u),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bc(u&&u.concurrentRequestLimit),this.Da=new ff,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bc.prototype,n.la=8,n.G=1,n.connect=function(u,h,m,_){et(0),this.W=u,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=Yc(this,null,this.W),Vs(this)};function jr(u){if(Ls(u),u.G==3){var h=u.U++,m=en(u.I);if(Ve(m,"SID",u.K),Ve(m,"RID",h),Ve(m,"TYPE","terminate"),ur(u,m),h=new fn(u,u.j,h),h.L=2,h.v=Os(en(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Kc(h.j,null),h.g.ea(h.v)),h.F=Date.now(),He(h)}Wc(u)}function Ut(u){u.g&&(Br(u),u.g.cancel(),u.g=null)}function Ls(u){Ut(u),u.u&&(c.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function Vs(u){if(!Cc(u.h)&&!u.s){u.s=!0;var h=u.Ga;wi||Ei(),vt||(wi(),vt=!0),Ii.add(h,u),u.B=0}}function pn(u,h){return Tc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Sn(b(u.Ga,u,h),Gc(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let N=new fn(this,this.j,u),O=this.o;if(this.S&&(O?(O=I(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(N.H=O,O=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Hc(this,N,h),m=en(this.I),Ve(m,"RID",u),Ve(m,"CVER",22),this.D&&Ve(m,"X-HTTP-Session-Id",this.D),ur(this,m),O&&(this.O?h="headers="+encodeURIComponent(String(Fc(O)))+"&"+h:this.m&&Fs(m,this.m,O)),Ps(this.h,N),this.Ua&&Ve(m,"TYPE","init"),this.P?(Ve(m,"$req",h),Ve(m,"SID","null"),N.T=!0,Ns(N,m,null)):Ns(N,m,h),this.G=2}}else this.G==3&&(u?$c(this,u):this.i.length==0||Cc(this.h)||$c(this))};function $c(u,h){var m;h?m=h.l:m=u.U++;let _=en(u.I);Ve(_,"SID",u.K),Ve(_,"RID",m),Ve(_,"AID",u.T),ur(u,_),u.m&&u.o&&Fs(_,u.m,u.o),m=new fn(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=Hc(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ps(u.h,m),Ns(m,_,h)}function ur(u,h){u.H&&Q(u.H,function(m,_){Ve(h,_,m)}),u.l&&Oa({},function(m,_){Ve(h,_,m)})}function Hc(u,h,m){m=Math.min(u.i.length,m);var _=u.l?b(u.l.Na,u.l,u):null;e:{var N=u.i;let O=-1;for(;;){let B=["count="+m];O==-1?0<m?(O=N[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let xe=!0;for(let rt=0;rt<m;rt++){let _e=N[rt].g,ue=N[rt].map;if(_e-=O,0>_e)O=Math.max(0,N[rt].g-100),xe=!1;else try{pf(ue,B,"req"+_e+"_")}catch{_&&_(ue)}}if(xe){_=B.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,_}function zc(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;wi||Ei(),vt||(wi(),vt=!0),Ii.add(h,u),u.v=0}}function La(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Sn(b(u.Fa,u),Gc(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Us(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Sn(b(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Ut(this),Us(this))};function Br(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function Us(u){u.g=new fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=en(u.qa);Ve(h,"RID","rpc"),Ve(h,"SID",u.K),Ve(h,"AID",u.T),Ve(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(h,"TO",u.ja),Ve(h,"TYPE","xmlhttp"),ur(u,h),u.m&&u.o&&Fs(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Os(en(h)),m.m=null,m.P=!0,Ec(m,u)}n.Za=function(){this.C!=null&&(this.C=null,Ut(this),La(this),et(19))};function js(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function qc(u,h){var m=null;if(u.g==h){js(u),Br(u),u.g=null;var _=2}else if(xa(u.h,h))m=h.D,Pa(u.h,h),_=1;else return;if(u.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var N=u.B;_=pt(),he(_,new _c(_,m)),Vs(u)}else zc(u);else if(N=h.s,N==3||N==0&&0<h.X||!(_==1&&pn(u,h)||_==2&&La(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),N){case 1:Pn(u,5);break;case 4:Pn(u,10);break;case 3:Pn(u,6);break;default:Pn(u,2)}}}function Gc(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function Pn(u,h){if(u.j.info("Error code "+h),h==2){var m=b(u.fb,u),_=u.Xa;let N=!_;_=new Xt(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Rn(_,"https"),Os(_),N?df(_.toString(),m):hf(_.toString(),m)}else et(2);u.G=0,u.l&&u.l.sa(h),Wc(u),Ls(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Wc(u){if(u.G=0,u.ka=[],u.l){let h=Sc(u.h);(h.length!=0||u.i.length!=0)&&(F(u.ka,h),F(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function Yc(u,h,m){var _=m instanceof Xt?en(m):new Xt(m);if(_.g!="")h&&(_.g=h+"."+_.g),Nt(_,_.s);else{var N=c.location;_=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var O=new Xt(null);_&&Rn(O,_),h&&(O.g=h),N&&Nt(O,N),m&&(O.l=m),_=O}return m=u.D,h=u.ya,m&&h&&Ve(_,m,h),Ve(_,"VER",u.la),ur(u,_),_}function Kc(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new We(new xi({eb:m})):new We(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}n=Qc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bs(){}Bs.prototype.g=function(u,h){return new _t(u,h)};function _t(u,h){Xe.call(this),this.g=new Bc(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!J(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!J(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new $r(this)}x(_t,Xe),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){jr(this.g)},_t.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Sa(u),u=m);h.i.push(new rf(h.Ya++,u)),h.G==3&&Vs(h)},_t.prototype.N=function(){this.g.l=null,delete this.j,jr(this.g),delete this.g,_t.aa.N.call(this)};function Zc(u){H.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}x(Zc,H);function cr(){Aa.call(this),this.status=1}x(cr,Aa);function $r(u){this.g=u}x($r,Qc),$r.prototype.ua=function(){he(this.g,"a")},$r.prototype.ta=function(u){he(this.g,new Zc(u))},$r.prototype.sa=function(u){he(this.g,new cr)},$r.prototype.ra=function(){he(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Bm=Rr.createWebChannelTransport=function(){return new Bs},jm=Rr.getStatEventTarget=function(){return pt()},Um=Rr.Event=nr,zd=Rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,Su=Rr.ErrorCode=Jt,wc.COMPLETE="complete",Vm=Rr.EventType=wc,Rs.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Oo=Rr.WebChannel=Rs,tL=Rr.FetchXmlHttpFactory=xi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Lm=Rr.XhrIo=We}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});var l0="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ra="10.14.0";var ls=new oi("@firebase/firestore");function Au(){return ls.logLevel}function W(n,...e){if(ls.logLevel<=ye.DEBUG){let t=e.map(Cv);ls.debug(`Firestore (${ra}): ${n}`,...t)}}function Nr(n,...e){if(ls.logLevel<=ye.ERROR){let t=e.map(Cv);ls.error(`Firestore (${ra}): ${n}`,...t)}}function $o(n,...e){if(ls.logLevel<=ye.WARN){let t=e.map(Cv);ls.warn(`Firestore (${ra}): ${n}`,...t)}}function Cv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function ke(n,e){n||te()}function oe(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},Wm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ym=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>T(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new Kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new ht(e)}},Km=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Km(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Jm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ke(this.o===void 0);let r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string"),this.R=t.token,new Zm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Qd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=nL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Re(n,e){return n<e?-1:n>e?1:0}function Ho(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var mt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new mt(0,0))}static max(){return new n(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(),r===void 0?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ze=class n extends Zd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},rL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends Zd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return rL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var Xm=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Xm.UNKNOWN_ID=-1;function iL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new mt(t+1,0):new mt(t,r));return new ds(i,Z.empty(),e)}function sL(n){return new ds(n.readTime,n.key,-1)}var ds=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(de.min(),Z.empty(),-1)}static max(){return new n(de.max(),Z.empty(),-1)}};function oL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}var aL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ey=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qu(n){return T(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==aL)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let f=l;t(e[f]).next(y=>{o[f]=y,++c,c===s&&r(o)},y=>i(y))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function uL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gu(n){return n.name==="IndexedDbTransactionError"}var B0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ch(n){return n==null}function Ou(n){return n===0&&1/n==-1/0}function cL(n){return typeof n=="number"&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var lL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A9=[...lL,"documentOverlays"],dL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hL=dL,fL=[...hL,"indexConfiguration","indexState","indexEntries"];var M9=[...fL,"globals"];function d0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ys(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Je=class n{constructor(e,t){this.comparator=e,this.root=t||qn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}},Vo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,r,i,s){return this}insert(e,t,r){return new qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class n{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Jd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dt(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Xd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xd("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var pL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(n){if(ke(!!n),typeof n=="string"){let e=0,t=pL.exec(n);if(ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(n.seconds),nanos:Ye(n.nanos)}}function Ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mi(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}function Tv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sv(n){let e=n.mapValue.fields.__previous_value__;return Tv(e)?Sv(e):e}function ku(n){let e=xr(n.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}var ty=class{constructor(e,t,r,i,s,o,c,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=f}},eh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tv(n)?4:z0(n)?9007199254740991:H0(n)?10:11:te()}function Yn(n,e){if(n===e)return!0;let t=hs(n);if(t!==hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=xr(i.timestampValue),c=xr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return mi(i.bytesValue).isEqual(mi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ye(i.doubleValue),c=Ye(s.doubleValue);return o===c?Ou(o)===Ou(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(d0(o)!==d0(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Yn(o[l],c[l])))return!1;return!0}(n,e);default:return te()}}function Fu(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function zo(n,e){if(n===e)return 0;let t=hs(n),r=hs(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return h0(n.timestampValue,e.timestampValue);case 4:return h0(ku(n),ku(e));case 5:return Re(n.stringValue,e.stringValue);case 6:return function(s,o){let c=mi(s),l=mi(o);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let f=0;f<c.length&&f<l.length;f++){let y=Re(c[f],l[f]);if(y!==0)return y}return Re(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Re(Ye(s.latitude),Ye(o.latitude));return c!==0?c:Re(Ye(s.longitude),Ye(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return f0(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,f,y;let w=s.fields||{},b=o.fields||{},S=(c=w.value)===null||c===void 0?void 0:c.arrayValue,x=(l=b.value)===null||l===void 0?void 0:l.arrayValue,V=Re(((f=S?.values)===null||f===void 0?void 0:f.length)||0,((y=x?.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:f0(S,x)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===qd.mapValue&&o===qd.mapValue)return 0;if(s===qd.mapValue)return 1;if(o===qd.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),f=o.fields||{},y=Object.keys(f);l.sort(),y.sort();for(let w=0;w<l.length&&w<y.length;++w){let b=Re(l[w],y[w]);if(b!==0)return b;let S=zo(c[l[w]],f[y[w]]);if(S!==0)return S}return Re(l.length,y.length)}(n.mapValue,e.mapValue);default:throw te()}}function h0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);let t=xr(n),r=xr(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function f0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=zo(t[i],r[i]);if(s)return s}return Re(t.length,r.length)}function qo(n){return ny(n)}function ny(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=xr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=ny(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ny(t.fields[o])}`;return i+"}"}(n.mapValue):te()}function ry(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function p0(n){return!!n&&"nullValue"in n}function g0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wd(n){return!!n&&"mapValue"in n}function H0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ru(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function z0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Ru(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ys(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ru(this.value))}};function q0(n){let e=[];return ys(n.fields,(t,r)=>{let i=new Gt([t]);if(Wd(r)){let s=q0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}var Dn=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,de.min(),de.min(),de.min(),qt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,de.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,de.min(),de.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,de.min(),de.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Go=class{constructor(e,t){this.position=e,this.inclusive=t}};function m0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),t.key):r=zo(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var Wo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var th=class{},ut=class n extends th{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sy(e,t,r):t==="array-contains"?new uy(e,r):t==="in"?new cy(e,r):t==="not-in"?new ly(e,r):t==="array-contains-any"?new dy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new oy(e,r):new ay(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zo(t,this.value)):t!==null&&hs(this.value)===hs(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kn=class n extends th{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return G0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function G0(n){return n.op==="and"}function W0(n){return mL(n)&&G0(n)}function mL(n){for(let e of n.filters)if(e instanceof Kn)return!1;return!0}function iy(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(W0(n))return n.filters.map(e=>iy(e)).join(",");{let e=n.filters.map(t=>iy(t)).join(",");return`${n.op}(${e})`}}function Y0(n,e){return n instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(n,e):n instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Y0(o,i.filters[c]),!0):!1}(n,e):void te()}function K0(n){return n instanceof ut?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(K0).join(" ,")+"}"}(n):"Filter"}var sy=class extends ut{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},oy=class extends ut{constructor(e,t){super(e,"in",t),this.keys=Q0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ay=class extends ut{constructor(e,t){super(e,"not-in",t),this.keys=Q0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Q0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var uy=class extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Av(t)&&Fu(t.arrayValue,this.value)}},cy=class extends ut{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fu(this.value.arrayValue,t)}},ly=class extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Fu(this.value.arrayValue,t)}},dy=class extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}};var hy=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function v0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hy(n,e,t,r,i,s,o)}function Mv(n){let e=oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qo(r)).join(",")),e.ue=t}return e.ue}function Rv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Y0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y0(n.startAt,e.startAt)&&y0(n.endAt,e.endAt)}function fy(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Yo=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function yL(n,e,t,r,i,s,o,c){return new Yo(n,e,t,r,i,s,o,c)}function Z0(n){return new Yo(n)}function _0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vL(n){return n.collectionGroup!==null}function Nu(n){let e=oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Dt(Gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wo(s,r))}),t.has(Gt.keyField().canonicalString())||e.ce.push(new Wo(Gt.keyField(),r))}return e.ce}function Gn(n){let e=oe(n);return e.le||(e.le=_L(e,Nu(n))),e.le}function _L(n,e){if(n.limitType==="F")return v0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Wo(i.field,s)});let t=n.endAt?new Go(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Go(n.startAt.position,n.startAt.inclusive):null;return v0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function py(n,e,t){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return Rv(Gn(n),Gn(e))&&n.limitType===e.limitType}function J0(n){return`${Mv(Gn(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>K0(i)).join(", ")}]`),Ch(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qo(i)).join(",")),`Target(${r})`}(Gn(n))}; limitType=${n.limitType})`}function Sh(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,l){let f=m0(o,c,l);return o.inclusive?f<=0:f<0}(r.startAt,Nu(r),i)||r.endAt&&!function(o,c,l){let f=m0(o,c,l);return o.inclusive?f>=0:f>0}(r.endAt,Nu(r),i))}(n,e)}function wL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X0(n){return(e,t)=>{let r=!1;for(let i of Nu(n)){let s=IL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IL(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):function(s,o,c){let l=o.data.field(s),f=c.data.field(s);return l!==null&&f!==null?zo(l,f):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var yi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}};var EL=new Je(Z.comparator);function Pr(){return EL}var eC=new Je(Z.comparator);function Mu(...n){let e=eC;for(let t of n)e=e.insert(t.key,t);return e}function tC(n){let e=eC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function us(){return xu()}function nC(){return xu()}function xu(){return new yi(n=>n.toString(),(n,e)=>n.isEqual(e))}var DL=new Je(Z.comparator),bL=new Dt(Z.comparator);function ve(...n){let e=bL;for(let t of n)e=e.add(t);return e}var CL=new Dt(Re);function TL(){return CL}function Nv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function rC(n){return{integerValue:""+n}}function SL(n,e){return cL(e)?rC(e):Nv(n,e)}var Ko=class{constructor(){this._=void 0}};function AL(n,e,t){return n instanceof Qo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tv(s)&&(s=Sv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof fs?sC(n,e):n instanceof ps?oC(n,e):function(i,s){let o=iC(i,s),c=w0(o)+w0(i.Pe);return ry(o)&&ry(i.Pe)?rC(c):Nv(i.serializer,c)}(n,e)}function ML(n,e,t){return n instanceof fs?sC(n,e):n instanceof ps?oC(n,e):t}function iC(n,e){return n instanceof Zo?function(r){return ry(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Qo=class extends Ko{},fs=class extends Ko{constructor(e){super(),this.elements=e}};function sC(n,e){let t=aC(e);for(let r of n.elements)t.some(i=>Yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ps=class extends Ko{constructor(e){super(),this.elements=e}};function oC(n,e){let t=aC(e);for(let r of n.elements)t=t.filter(i=>!Yn(i,r));return{arrayValue:{values:t}}}var Zo=class extends Ko{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function w0(n){return Ye(n.integerValue||n.doubleValue)}function aC(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fs&&i instanceof fs||r instanceof ps&&i instanceof ps?Ho(r.elements,i.elements,Yn):r instanceof Zo&&i instanceof Zo?Yn(r.Pe,i.Pe):r instanceof Qo&&i instanceof Qo}(n.transform,e.transform)}var gy=class{constructor(e,t){this.version=e,this.transformResults=t}},pi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Jo=class{};function uC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nh(n.key,pi.none()):new gs(n.key,n.data,pi.none());{let t=n.data,r=qt.empty(),i=new Dt(Gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qn(n.key,r,new cn(i.toArray()),pi.none())}}function NL(n,e,t){n instanceof gs?function(i,s,o){let c=i.value.clone(),l=E0(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Qn?function(i,s,o){if(!Yd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=E0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(cC(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Pu(n,e,t,r){return n instanceof gs?function(s,o,c,l){if(!Yd(s.precondition,o))return c;let f=s.value.clone(),y=D0(s.fieldTransforms,l,o);return f.setAll(y),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qn?function(s,o,c,l){if(!Yd(s.precondition,o))return c;let f=D0(s.fieldTransforms,l,o),y=o.data;return y.setAll(cC(s)),y.setAll(f),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(s,o,c){return Yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function xL(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=iC(r.transform,i||null);s!=null&&(t===null&&(t=qt.empty()),t.set(r.field,s))}return t||null}function I0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ho(r,i,(s,o)=>RL(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var gs=class extends Jo{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends Jo{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function cC(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function E0(n,e,t){let r=new Map;ke(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,ML(o,c,t[i]))}return r}function D0(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,AL(s,o,e))}return r}var nh=class extends Jo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},my=class extends Jo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var yy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&NL(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=nC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let l=uC(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,r)=>I0(t,r))&&Ho(this.baseMutations,e.baseMutations,(t,r)=>I0(t,r))}},vy=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length);let i=function(){return DL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var _y=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var tt,Se;function PL(n){switch(n){default:return te();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function lC(n){if(n===void 0)return Nr("GRPC error has no .code"),L.UNKNOWN;switch(n){case tt.OK:return L.OK;case tt.CANCELLED:return L.CANCELLED;case tt.UNKNOWN:return L.UNKNOWN;case tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case tt.INTERNAL:return L.INTERNAL;case tt.UNAVAILABLE:return L.UNAVAILABLE;case tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case tt.NOT_FOUND:return L.NOT_FOUND;case tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case tt.ABORTED:return L.ABORTED;case tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case tt.DATA_LOSS:return L.DATA_LOSS;default:return te()}}(Se=tt||(tt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var b0=null;function OL(){return new TextEncoder}var kL=new fi([4294967295,4294967295],0);function C0(n){let e=OL().encode(n),t=new Fm;return t.update(e),new Uint8Array(t.digest())}function T0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fi([t,r],0),new fi([i,s],0)]}var Iy=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new cs(`Invalid padding: ${t}`);if(r<0)throw new cs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new cs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=fi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(fi.fromNumber(r)));return i.compare(kL)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=C0(e),[r,i]=T0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=C0(e),[r,i]=T0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},cs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rh=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(de.min(),i,new Je(Re),Pr(),ve())}},Lu=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var jo=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},ih=class{constructor(e,t){this.targetId=e,this.me=t}},sh=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.fe=0,this.ge=A0(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Lu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=A0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ey=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=S0(),this.Qe=new Je(Re)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(fy(s))if(r===0){let o=new Z(s.path);this.Ue(t,o,Dn.newNoDocument(o,de.min()))}else ke(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(t);let f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}b0?.et(function(y,w,b,S,x){var V,F,Y,J,ne,De;let Be={localCacheCount:y,existenceFilterCount:w.count,databaseId:b.database,projectId:b.projectId},Q=w.unchangedNames;return Q&&(Be.bloomFilter={applied:x===0,hashCount:(V=Q?.hashCount)!==null&&V!==void 0?V:0,bitmapLength:(J=(Y=(F=Q?.bits)===null||F===void 0?void 0:F.bitmap)===null||Y===void 0?void 0:Y.length)!==null&&J!==void 0?J:0,padding:(De=(ne=Q?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&De!==void 0?De:0,mightContain:M=>{var I;return(I=S?.mightContain(M))!==null&&I!==void 0&&I}}),Be}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=mi(r).toUint8Array()}catch(l){if(l instanceof Xd)return $o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Iy(o,i,s)}catch(l){return $o(l instanceof cs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&fy(c.target)){let l=new Z(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new rh(e,t,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=S0(),this.Qe=new Je(Re),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new oh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(Re),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function S0(){return new Je(Z.comparator)}function A0(){return new Je(Z.comparator)}var FL={asc:"ASCENDING",desc:"DESCENDING"},LL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VL={and:"AND",or:"OR"},Dy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function by(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UL(n,e){return ah(n,e.toTimestamp())}function Wn(n){return ke(!!n),de.fromTimestamp(function(t){let r=xr(t);return new mt(r.seconds,r.nanos)}(n))}function xv(n,e){return Cy(n,e).canonicalString()}function Cy(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hC(n){let e=Ze.fromString(n);return ke(yC(e)),e}function Ty(n,e){return xv(n.databaseId,e.path)}function $m(n,e){let t=hC(e);if(t.get(1)!==n.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(pC(t))}function fC(n,e){return xv(n.databaseId,e)}function jL(n){let e=hC(n);return e.length===4?Ze.emptyPath():pC(e)}function Sy(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pC(n){return ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function M0(n,e,t){return{name:Ty(n,e),fields:t.value.mapValue.fields}}function BL(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,y){return f.useProto3Json?(ke(y===void 0||typeof y=="string"),bt.fromBase64String(y||"")):(ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array),bt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(f){let y=f.code===void 0?L.UNKNOWN:lC(f.code);return new K(y,f.message||"")}(o);t=new sh(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$m(n,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):de.min(),c=new qt({mapValue:{fields:r.document.fields}}),l=Dn.newFoundDocument(i,s,o,c),f=r.targetIds||[],y=r.removedTargetIds||[];t=new jo(f,y,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$m(n,r.document),s=r.readTime?Wn(r.readTime):de.min(),o=Dn.newNoDocument(i,s),c=r.removedTargetIds||[];t=new jo([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$m(n,r.document),s=r.removedTargetIds||[];t=new jo([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new wy(i,s),c=r.targetId;t=new ih(c,o)}}return t}function $L(n,e){let t;if(e instanceof gs)t={update:M0(n,e.key,e.value)};else if(e instanceof nh)t={delete:Ty(n,e.key)};else if(e instanceof Qn)t={update:M0(n,e.key,e.data),updateMask:ZL(e.fieldMask)};else{if(!(e instanceof my))return te();t={verify:Ty(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Qo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ps)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(n,e.precondition)),t}function HL(n,e){return n&&n.length>0?(ke(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Wn(i.updateTime):Wn(s);return o.isEqual(de.min())&&(o=Wn(s)),new gy(o,i.transformResults||[])}(t,e))):[]}function zL(n,e){return{documents:[fC(n,e.path)]}}function qL(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fC(n,i);let s=function(f){if(f.length!==0)return mC(Kn.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(f){if(f.length!==0)return f.map(y=>function(b){return{field:Fo(b.field),direction:YL(b.dir)}}(y))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=by(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:t,parent:i}}function GL(n){let e=jL(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ke(r===1);let y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(w){let b=gC(w);return b instanceof Kn&&W0(b)?b.getFilters():[b]}(t.where));let o=[];t.orderBy&&(o=function(w){return w.map(b=>function(x){return new Wo(Lo(x.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let c=null;t.limit&&(c=function(w){let b;return b=typeof w=="object"?w.value:w,Ch(b)?null:b}(t.limit));let l=null;t.startAt&&(l=function(w){let b=!!w.before,S=w.values||[];return new Go(S,b)}(t.startAt));let f=null;return t.endAt&&(f=function(w){let b=!w.before,S=w.values||[];return new Go(S,b)}(t.endAt)),yL(e,i,o,s,c,"F",l,f)}function WL(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Lo(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Lo(t.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Lo(t.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Lo(t.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return ut.create(Lo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kn.create(t.compositeFilter.filters.map(r=>gC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function YL(n){return FL[n]}function KL(n){return LL[n]}function QL(n){return VL[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return Gt.fromServerFormat(n.fieldPath)}function mC(n){return n instanceof ut?function(t){if(t.op==="=="){if(g0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(p0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(p0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:KL(t.op),value:t.value}}}(n):n instanceof Kn?function(t){let r=t.getFilters().map(i=>mC(i));return r.length===1?r[0]:{compositeFilter:{op:QL(t.op),filters:r}}}(n):te()}function ZL(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Vu=class n{constructor(e,t,r,i,s=de.min(),o=de.min(),c=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ay=class{constructor(e){this.ct=e}};function JL(n){let e=GL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?py(e,e.limit,"L"):e}var uh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ye(e.integerValue));else if("doubleValue"in e){let r=Ye(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ou(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=xr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(mi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?z0(e)?this.dt(t,Number.MAX_SAFE_INTEGER):H0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):te()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ye(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Z.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};uh.vt=new uh;var My=class{constructor(){this.un=new Ry}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(ds.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},Ry=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(Ze.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Ze.comparator)).toArray()}};var N9=new Uint8Array(0);var Hn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(41943040,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);var Uu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Ny=class{constructor(){this.changes=new yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Py=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pu(r.mutation,i,cn.empty(),mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Mu();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=Pr(),o=xu(),c=function(){return xu()}();return t.forEach((l,f)=>{let y=r.get(f.key);i.has(f.key)&&(y===void 0||y.mutation instanceof Qn)?s=s.insert(f.key,f):y!==void 0?(o.set(f.key,y.mutation.getFieldMask()),Pu(y.mutation,f,y.mutation.getFieldMask(),mt.now())):o.set(f.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((f,y)=>o.set(f,y)),t.forEach((f,y)=>{var w;return c.set(f,new xy(y,(w=o.get(f))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,t){let r=xu(),i=new Je((o,c)=>o-c),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let f=t.get(l);if(f===null)return;let y=r.get(l)||cn.empty();y=c.applyToLocalView(f,y),r.set(l,y);let w=(i.get(c.batchId)||ve()).add(l);i=i.insert(c.batchId,w)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),f=l.key,y=l.value,w=nC();y.forEach(b=>{if(!s.has(b)){let S=uC(t.get(b),r.get(b));S!==null&&w.set(b,S),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,w))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):j.resolve(us()),c=-1,l=s;return o.next(f=>j.forEach(f,(y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{l=l.insert(y,b)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,l,f,ve())).next(y=>({batchId:c,changes:tC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=Mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Mu();return this.indexManager.getCollectionParents(e,s).next(c=>j.forEach(c,l=>{let f=function(w,b){return new Yo(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(y=>{y.forEach((w,b)=>{o=o.insert(w,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,f)=>{let y=f.getKey();o.get(y)===null&&(o=o.insert(y,Dn.newInvalidDocument(y)))});let c=Mu();return o.forEach((l,f)=>{let y=s.get(l);y!==void 0&&Pu(y.mutation,f,cn.empty(),mt.now()),Sh(t,f)&&(c=c.insert(l,f))}),c})}};var Oy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:JL(i.bundledQuery),readTime:Wn(i.readTime)}}(t)),j.resolve()}};var ky=class{constructor(){this.overlays=new Je(Z.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=us();return j.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=us(),s=t.length+1,o=new Z(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,f=l.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Je((f,y)=>f-y),o=this.overlays.getIterator();for(;o.hasNext();){let f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let y=s.get(f.largestBatchId);y===null&&(y=us(),s=s.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}let c=us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,y)=>c.set(f,y)),!(c.size()>=i)););return j.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _y(t,r));let s=this.Ir.get(t);s===void 0&&(s=ve(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Fy=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var ju=class{constructor(){this.Tr=new Dt(nt.Er),this.dr=new Dt(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new nt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new nt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Z(new Ze([])),r=new nt(t,e),i=new nt(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Z(new Ze([])),r=new nt(t,e),i=new nt(t,e+1),s=ve();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new nt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Z.comparator(e.key,t.key)||Re(e.wr,t.wr)}static Ar(e,t){return Re(e.wr,t.wr)||Z.comparator(e.key,t.key)}};var Ly=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(nt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new yy(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new nt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new nt(t,0),i=new nt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Re);return t.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new nt(new Z(s),0),c=new Dt(Re);return this.br.forEachWhile(l=>{let f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(l.wr)),!0)},o),j.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ke(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(t.mutations,i=>{let s=new nt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new nt(t,0),i=this.br.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Vy=class{constructor(e){this.Mr=e,this.docs=function(){return new Je(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Pr(),o=t.path,c=new Z(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:f,value:{document:y}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||oL(sL(y),r)<=0||(i.has(y.key)||Sh(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,t,r,i){te()}Or(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Uy(this)}getSize(e){return j.resolve(this.size)}},Uy=class extends Ny{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var jy=class{constructor(e){this.persistence=e,this.Nr=new yi(t=>Mv(t),Rv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ju,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var By=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new B0(0),this.Kr=!1,this.Kr=!0,this.$r=new Fy,this.referenceDelegate=e(this),this.Ur=new jy(this),this.indexManager=new My,this.remoteDocumentCache=function(i){return new Vy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ay(t),this.Gr=new Oy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ky,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Ly(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new $y(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},$y=class extends ey{constructor(e){super(),this.currentSequenceNumber=e}},Hy=class n{constructor(e){this.persistence=e,this.Jr=new ju,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var zy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var qy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Gy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JD()?8:uL(dt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new qy;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Au()<=ye.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Au()<=ye.DEBUG&&W("QueryEngine","Query:",ko(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Au()<=ye.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(t))):j.resolve())}Yi(e,t){if(_0(t))return j.resolve(null);let r=Gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=py(t,null,"F"),r=Gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ve(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let f=this.ts(t,c);return this.ns(t,f,o,l.readTime)?this.Yi(e,py(t,null,"F")):this.rs(e,f,t,l)}))})))}Zi(e,t,r,i){return _0(t)||i.isEqual(de.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?j.resolve(null):(Au()<=ye.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ko(t)),this.rs(e,o,t,iL(i,-1)).next(c=>c))})}ts(e,t){let r=new Dt(X0(e));return t.forEach((i,s)=>{Sh(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Au()<=ye.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ko(t)),this.Ji.getDocumentsMatchingQuery(e,t,ds.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Wy=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Je(Re),this._s=new yi(s=>Mv(s),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Py(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function XL(n,e,t,r){return new Wy(n,e,t,r)}function vC(n,e){return T(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=ve();for(let f of i){o.push(f.batchId);for(let y of f.mutations)l=l.add(y.key)}for(let f of s){c.push(f.batchId);for(let y of f.mutations)l=l.add(y.key)}return t.localDocuments.getDocuments(r,l).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:c}))})})})}function eV(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,f,y){let w=f.batch,b=w.keys(),S=j.resolve();return b.forEach(x=>{S=S.next(()=>y.getEntry(l,x)).next(V=>{let F=f.docVersions.get(x);ke(F!==null),V.version.compareTo(F)<0&&(w.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),y.addEntry(V)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(l,w))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=ve();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(l=l.add(c.batch.mutations[f].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _C(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function tV(n,e){let t=oe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((y,w)=>{let b=i.get(w);if(!b)return;c.push(t.Ur.removeMatchingKeys(s,y.removedDocuments,w).next(()=>t.Ur.addMatchingKeys(s,y.addedDocuments,w)));let S=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(bt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),i=i.insert(w,S),function(V,F,Y){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,S,y)&&c.push(t.Ur.updateTargetData(s,S))});let l=Pr(),f=ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),c.push(nV(s,o,e.documentUpdates).next(y=>{l=y.Ps,f=y.Is})),!r.isEqual(de.min())){let y=t.Ur.getLastRemoteSnapshotVersion(s).next(w=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(y)}return j.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,f)).next(()=>l)}).then(s=>(t.os=i,s))}function nV(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Pr();return t.forEach((c,l)=>{let f=s.get(c);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function rV(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iV(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Vu(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Yy(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Gu(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function R0(n,e,t){let r=oe(n),i=de.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,f,y){let w=oe(l),b=w._s.get(y);return b!==void 0?j.resolve(w.os.get(b)):w.Ur.getTargetData(f,y)}(r,o,Gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:de.min(),t?s:ve())).next(c=>(sV(r,wL(e),c),{documents:c,Ts:s})))}function sV(n,e,t){let r=n.us.get(e)||de.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var ch=class{constructor(){this.activeTargetIds=TL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ky=class{constructor(){this.so=new ch,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ch,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qy=class{_o(e){}shutdown(){}};var lh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gd=null;function Hm(){return Gd===null?Gd=function(){return 268435456+Math.round(2147483648*Math.random())}():Gd++,"0x"+Gd.toString(16)}var oV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Et="WebChannelConnection",Jy=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=Hm(),l=this.xo(t,r.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${c}:`,l,i);let f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,o),this.No(t,l,f,i).then(y=>(W("RestConnection",`Received RPC '${t}' ${c}: `,y),y),y=>{throw $o("RestConnection",`RPC '${t}' ${c} failed with error: `,y,"url: ",l,"request:",i),y})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=oV[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=Hm();return new Promise((o,c)=>{let l=new Lm;l.setWithCredentials(!0),l.listenOnce(Vm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Su.NO_ERROR:let y=l.getResponseJson();W(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case Su.TIMEOUT:W(Et,`RPC '${e}' ${s} timed out`),c(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:let w=l.getStatus();if(W(Et,`RPC '${e}' ${s} failed with status:`,w,"response text:",l.getResponseText()),w>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);let S=b?.error;if(S&&S.status&&S.message){let x=function(F){let Y=F.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(Y)>=0?Y:L.UNKNOWN}(S.status);c(new K(x,S.message))}else c(new K(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new K(L.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{W(Et,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);W(Et,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}Bo(e,t,r){let i=Hm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bm(),c=jm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let y=s.join("");W(Et,`Creating RPC '${e}' stream ${i}: ${y}`,l);let w=o.createWebChannel(y,l),b=!1,S=!1,x=new Zy({Io:F=>{S?W(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(b||(W(Et,`Opening RPC '${e}' stream ${i} transport.`),w.open(),b=!0),W(Et,`RPC '${e}' stream ${i} sending:`,F),w.send(F))},To:()=>w.close()}),V=(F,Y,J)=>{F.listen(Y,ne=>{try{J(ne)}catch(De){setTimeout(()=>{throw De},0)}})};return V(w,Oo.EventType.OPEN,()=>{S||(W(Et,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),V(w,Oo.EventType.CLOSE,()=>{S||(S=!0,W(Et,`RPC '${e}' stream ${i} transport closed`),x.So())}),V(w,Oo.EventType.ERROR,F=>{S||(S=!0,$o(Et,`RPC '${e}' stream ${i} transport errored:`,F),x.So(new K(L.UNAVAILABLE,"The operation could not be completed")))}),V(w,Oo.EventType.MESSAGE,F=>{var Y;if(!S){let J=F.data[0];ke(!!J);let ne=J,De=ne.error||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(De){W(Et,`RPC '${e}' stream ${i} received error:`,De);let Be=De.status,Q=function(E){let A=tt[E];if(A!==void 0)return lC(A)}(Be),M=De.message;Q===void 0&&(Q=L.INTERNAL,M="Unknown error status: "+Be+" with message "+De.message),S=!0,x.So(new K(Q,M)),w.close()}else W(Et,`RPC '${e}' stream ${i} received:`,J),x.bo(J)}}),V(c,Um.STAT_EVENT,F=>{F.stat===zd.PROXY?W(Et,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===zd.NOPROXY&&W(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function zm(){return typeof document<"u"?document:null}function Ah(n){return new Dy(n,!0)}var dh=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hh=class{constructor(e,t,r,i,s,o,c,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Xy=class extends hh{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=BL(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Wn(o.readTime):de.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Sy(this.serializer),t.addTarget=function(s,o){let c,l=o.target;if(c=fy(l)?{documents:zL(s,l)}:{query:qL(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=dC(s,o.resumeToken);let f=by(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(de.min())>0){c.readTime=ah(s,o.snapshotVersion.toTimestamp());let f=by(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);let r=WL(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Sy(this.serializer),t.removeTarget=e,this.a_(t)}},ev=class extends hh{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=HL(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Sy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>$L(this.serializer,r))};this.a_(t)}};var tv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Cy(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Cy(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},nv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nr(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var rv=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>T(this,null,function*(){vs(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(l){return T(this,null,function*(){let f=oe(l);f.L_.add(4),yield Wu(f),f.q_.set("Unknown"),f.L_.delete(4),yield Mh(f)})}(this))}))}),this.q_=new nv(r,i)}};function Mh(n){return T(this,null,function*(){if(vs(n))for(let e of n.B_)yield e(!0)})}function Wu(n){return T(this,null,function*(){for(let e of n.B_)yield e(!1)})}function wC(n,e){let t=oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fv(t)?kv(t):ia(t).r_()&&Ov(t,e))}function Pv(n,e){let t=oe(n),r=ia(t);t.N_.delete(e),r.r_()&&IC(t,e),t.N_.size===0&&(r.r_()?r.o_():vs(t)&&t.q_.set("Unknown"))}function Ov(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).A_(e)}function IC(n,e){n.Q_.xe(e),ia(n).R_(e)}function kv(n){n.Q_=new Ey({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.q_.v_()}function Fv(n){return vs(n)&&!ia(n).n_()&&n.N_.size>0}function vs(n){return oe(n).L_.size===0}function EC(n){n.Q_=void 0}function aV(n){return T(this,null,function*(){n.q_.set("Online")})}function uV(n){return T(this,null,function*(){n.N_.forEach((e,t)=>{Ov(n,e)})})}function cV(n,e){return T(this,null,function*(){EC(n),Fv(n)?(n.q_.M_(e),kv(n)):n.q_.set("Unknown")})}function lV(n,e,t){return T(this,null,function*(){if(n.q_.set("Online"),e instanceof sh&&e.state===2&&e.cause)try{yield function(i,s){return T(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fh(n,r)}else if(e instanceof jo?n.Q_.Ke(e):e instanceof ih?n.Q_.He(e):n.Q_.We(e),!t.isEqual(de.min()))try{let r=yield _C(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){let y=s.N_.get(f);y&&s.N_.set(f,y.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,f)=>{let y=s.N_.get(l);if(!y)return;s.N_.set(l,y.withResumeToken(bt.EMPTY_BYTE_STRING,y.snapshotVersion)),IC(s,l);let w=new Vu(y.target,l,f,y.sequenceNumber);Ov(s,w)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield fh(n,r)}})}function fh(n,e,t){return T(this,null,function*(){if(!Gu(e))throw e;n.L_.add(1),yield Wu(n),n.q_.set("Offline"),t||(t=()=>_C(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Mh(n)}))})}function DC(n,e){return e().catch(t=>fh(n,t,e))}function Rh(n){return T(this,null,function*(){let e=oe(n),t=vi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dV(e);)try{let i=yield rV(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,hV(e,i)}catch(i){yield fh(e,i)}bC(e)&&CC(e)})}function dV(n){return vs(n)&&n.O_.length<10}function hV(n,e){n.O_.push(e);let t=vi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function bC(n){return vs(n)&&!vi(n).n_()&&n.O_.length>0}function CC(n){vi(n).start()}function fV(n){return T(this,null,function*(){vi(n).p_()})}function pV(n){return T(this,null,function*(){let e=vi(n);for(let t of n.O_)e.m_(t.mutations)})}function gV(n,e,t){return T(this,null,function*(){let r=n.O_.shift(),i=vy.from(r,e,t);yield DC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Rh(n)})}function mV(n,e){return T(this,null,function*(){e&&vi(n).V_&&(yield function(r,i){return T(this,null,function*(){if(function(o){return PL(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();vi(r).s_(),yield DC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Rh(r)}})}(n,e)),bC(n)&&CC(n)})}function N0(n,e){return T(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=vs(t);t.L_.add(3),yield Wu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Mh(t)})}function yV(n,e){return T(this,null,function*(){let t=oe(n);e?(t.L_.delete(2),yield Mh(t)):e||(t.L_.add(2),yield Wu(t),t.q_.set("Unknown"))})}function ia(n){return n.K_||(n.K_=function(t,r,i){let s=oe(t);return s.w_(),new Xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:aV.bind(null,n),Ro:uV.bind(null,n),mo:cV.bind(null,n),d_:lV.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.K_.s_(),Fv(n)?kv(n):n.q_.set("Unknown")):(yield n.K_.stop(),EC(n))}))),n.K_}function vi(n){return n.U_||(n.U_=function(t,r,i){let s=oe(t);return s.w_(),new ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fV.bind(null,n),mo:mV.bind(null,n),f_:pV.bind(null,n),g_:gV.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.U_.s_(),yield Rh(n)):(yield n.U_.stop(),n.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var iv=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Lv(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),Gu(n))return new K(L.UNAVAILABLE,`${e}: ${n}`);throw n}var ph=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=Mu(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var gh=class{constructor(){this.W_=new Je(Z.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Xo=class n{constructor(e,t,r,i,s,o,c,l,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,ph.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var sv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ov=class{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=oe(t),s=i.queries;i.queries=x0(),s.forEach((o,c)=>{for(let l of c.j_)l.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}};function x0(){return new yi(n=>J0(n),Th)}function vV(n,e){return T(this,null,function*(){let t=oe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new sv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=Lv(o,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Vv(t)})}function _V(n,e){return T(this,null,function*(){let t=oe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function wV(n,e){let t=oe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Vv(t)}function IV(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Vv(n){n.Y_.forEach(e=>{e.next()})}var av,P0;(P0=av||(av={})).ea="default",P0.Cache="cache";var uv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==av.Cache}};var mh=class{constructor(e){this.key=e}},yh=class{constructor(e){this.key=e}},cv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=X0(e),this.Ra=new ph(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new gh,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{let b=i.get(y),S=Sh(this.query,w)?w:null,x=!!b&&this.mutatedKeys.has(b.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations),F=!1;b&&S?b.data.isEqual(S.data)?x!==V&&(r.track({type:3,doc:S}),F=!0):this.ga(b,S)||(r.track({type:2,doc:S}),F=!0,(l&&this.Aa(S,l)>0||f&&this.Aa(S,f)<0)&&(c=!0)):!b&&S?(r.track({type:0,doc:S}),F=!0):b&&!S&&(r.track({type:1,doc:b}),F=!0,(l||f)&&(c=!0)),F&&(S?(o=o.add(S),s=V?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let y=this.query.limitType==="F"?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((y,w)=>function(S,x){let V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return V(S)-V(x)}(y.type,w.type)||this.Aa(y.doc,w.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,f=l!==this.Ea;return this.Ea=l,o.length!==0||f?{snapshot:new Xo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new yh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new mh(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},lv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},dv=class{constructor(e){this.key=e,this.va=!1}},hv=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yi(c=>J0(c),Th),this.Ma=new Map,this.xa=new Set,this.Oa=new Je(Z.comparator),this.Na=new Map,this.La=new ju,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function EV(n,e,t=!0){return T(this,null,function*(){let r=NC(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield TC(r,e,t,!0),i})}function DV(n,e){return T(this,null,function*(){let t=NC(n);yield TC(t,e,!0,!1)})}function TC(n,e,t,r){return T(this,null,function*(){let i=yield iV(n.localStore,Gn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield bV(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&wC(n.remoteStore,i),c})}function bV(n,e,t,r,i){return T(this,null,function*(){n.Ka=(w,b,S)=>function(V,F,Y,J){return T(this,null,function*(){let ne=F.view.ma(Y);ne.ns&&(ne=yield R0(V.localStore,F.query,!1).then(({documents:M})=>F.view.ma(M,ne)));let De=J&&J.targetChanges.get(F.targetId),Be=J&&J.targetMismatches.get(F.targetId)!=null,Q=F.view.applyChanges(ne,V.isPrimaryClient,De,Be);return k0(V,F.targetId,Q.wa),Q.snapshot})}(n,w,b,S);let s=yield R0(n.localStore,e,!0),o=new cv(e,s.Ts),c=o.ma(s.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(c,n.isPrimaryClient,l);k0(n,t,f.wa);let y=new lv(e,t,o);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),f.snapshot})}function CV(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Th(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Pv(r.remoteStore,i.targetId),fv(r,i.targetId)}).catch(qu))):(fv(r,i.targetId),yield Yy(r.localStore,i.targetId,!0))})}function TV(n,e){return T(this,null,function*(){let t=oe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(t.remoteStore,r.targetId))})}function SV(n,e,t){return T(this,null,function*(){let r=OV(n);try{let i=yield function(o,c){let l=oe(o),f=mt.now(),y=c.reduce((S,x)=>S.add(x.key),ve()),w,b;return l.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=Pr(),V=ve();return l.cs.getEntries(S,y).next(F=>{x=F,x.forEach((Y,J)=>{J.isValidDocument()||(V=V.add(Y))})}).next(()=>l.localDocuments.getOverlayedDocuments(S,x)).next(F=>{w=F;let Y=[];for(let J of c){let ne=xL(J,w.get(J.key).overlayedDocument);ne!=null&&Y.push(new Qn(J.key,ne,q0(ne.value.mapValue),pi.exists(!0)))}return l.mutationQueue.addMutationBatch(S,f,Y,c)}).next(F=>{b=F;let Y=F.applyToLocalDocumentSet(w,V);return l.documentOverlayCache.saveOverlays(S,F.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:tC(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let f=o.Ba[o.currentUser.toKey()];f||(f=new Je(Re)),f=f.insert(c,l),o.Ba[o.currentUser.toKey()]=f}(r,i.batchId,t),yield Yu(r,i.changes),yield Rh(r.remoteStore)}catch(i){let s=Lv(i,"Failed to persist write");t.reject(s)}})}function SC(n,e){return T(this,null,function*(){let t=oe(n);try{let r=yield tV(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ke(o.va):i.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),yield Yu(t,r,e)}catch(r){yield qu(r)}})}function O0(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let l=oe(o);l.onlineState=c;let f=!1;l.queries.forEach((y,w)=>{for(let b of w.j_)b.Z_(c)&&(f=!0)}),f&&Vv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AV(n,e,t){return T(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Je(Z.comparator);o=o.insert(s,Dn.newNoDocument(s,de.min()));let c=ve().add(s),l=new rh(de.min(),new Map,new Je(Re),o,c);yield SC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Uv(r)}else yield Yy(r.localStore,e,!1).then(()=>fv(r,e,t)).catch(qu)})}function MV(n,e){return T(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield eV(t.localStore,e);MC(t,r,null),AC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(t,i)}catch(i){yield qu(i)}})}function RV(n,e,t){return T(this,null,function*(){let r=oe(n);try{let i=yield function(o,c){let l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return l.mutationQueue.lookupMutationBatch(f,c).next(w=>(ke(w!==null),y=w.keys(),l.mutationQueue.removeMutationBatch(f,w))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,y,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>l.localDocuments.getDocuments(f,y))})}(r.localStore,e);MC(r,e,t),AC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(r,i)}catch(i){yield qu(i)}})}function AC(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function MC(n,e,t){let r=oe(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||RC(n,r)})}function RC(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Pv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Uv(n))}function k0(n,e,t){for(let r of t)r instanceof mh?(n.La.addReference(r.key,e),NV(n,r)):r instanceof yh?(W("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||RC(n,r.key)):te()}function NV(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(W("SyncEngine","New document in limbo: "+t),n.xa.add(r),Uv(n))}function Uv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Z(Ze.fromString(e)),r=n.qa.next();n.Na.set(r,new dv(t)),n.Oa=n.Oa.insert(t,r),wC(n.remoteStore,new Vu(Gn(Z0(t.path)),r,"TargetPurposeLimboResolution",B0.oe))}}function Yu(n,e,t){return T(this,null,function*(){let r=oe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{o.push(r.Ka(l,e,t).then(f=>{var y;if((f||t)&&r.isPrimaryClient){let w=f?!f.fromCache:(y=t?.targetChanges.get(l.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(l.targetId,w?"current":"not-current")}if(f){i.push(f);let w=zy.Wi(l.targetId,f);s.push(w)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,f){return T(this,null,function*(){let y=oe(l);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>j.forEach(f,b=>j.forEach(b.$i,S=>y.persistence.referenceDelegate.addReference(w,b.targetId,S)).next(()=>j.forEach(b.Ui,S=>y.persistence.referenceDelegate.removeReference(w,b.targetId,S)))))}catch(w){if(!Gu(w))throw w;W("LocalStore","Failed to update sequence numbers: "+w)}for(let w of f){let b=w.targetId;if(!w.fromCache){let S=y.os.get(b),x=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(x);y.os=y.os.insert(b,V)}}})}(r.localStore,s))})}function xV(n,e){return T(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield vC(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new K(L.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(t,r.hs)}})}function PV(n,e){let t=oe(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function NC(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AV.bind(null,e),e.Ca.d_=wV.bind(null,e.eventManager),e.Ca.$a=IV.bind(null,e.eventManager),e}function OV(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RV.bind(null,e),e}var F0=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return XL(this.persistence,new Gy,t.initialUser,this.serializer)}Ga(t){return new By(Hy.Zr,this.serializer)}Wa(t){return new Ky}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var kV=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>O0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xV.bind(null,this.syncEngine),yield yV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ov}()}createDatastore(t){let r=Ah(t.databaseInfo.databaseId),i=function(o){return new Jy(o)}(t.databaseInfo);return function(o,c,l,f){return new tv(o,c,l,f)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,l){return new rv(i,s,o,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>O0(this.syncEngine,r,0),function(){return lh.D()?new lh:new Qy}())}createSyncEngine(t,r){return function(s,o,c,l,f,y,w){let b=new hv(s,o,c,l,f,y);return w&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield function(s){return T(this,null,function*(){let o=oe(s);W("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Wu(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var pv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gv=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>T(this,null,function*(){W("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Lv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qm(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield vC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function L0(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield FV(n);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>N0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>N0(e.remoteStore,i)),n._onlineComponents=e})}function FV(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),yield qm(n,new F0)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield qm(n,new F0);return n._offlineComponents})}function xC(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield L0(n,n._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield L0(n,new kV))),n._onlineComponents})}function LV(n){return xC(n).then(e=>e.syncEngine)}function VV(n){return T(this,null,function*(){let e=yield xC(n),t=e.eventManager;return t.onListen=EV.bind(null,e.syncEngine),t.onUnlisten=CV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TV.bind(null,e.syncEngine),t})}function UV(n,e,t={}){let r=new zn;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(s,o,c,l,f){let y=new pv({next:b=>{y.Za(),o.enqueueAndForget(()=>_V(s,w)),b.fromCache&&l.source==="server"?f.reject(new K(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),w=new uv(c,y,{includeMetadataChanges:!0,_a:!0});return vV(s,w)}(yield VV(n),n.asyncQueue,e,t,r)})),r.promise}function PC(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var V0=new Map;function OC(n,e,t){if(!t)throw new K(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jV(n,e,t,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U0(n){if(!Z.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j0(n){if(Z.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function ms(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jv(n);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var vh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ea=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gm;switch(r.type){case"firstParty":return new Qm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=V0.get(t);r&&(W("ComponentProvider","Removing Datastore"),V0.delete(t),r.terminate())}(this),Promise.resolve()}};function kC(n,e,t,r={}){var i;let s=(n=ms(n,ea))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=ht.MOCK_USER;else{c=GD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ht(f)}n._authCredentials=new Wm(new Kd(c,l))}}var _h=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},gi=class n extends _h{constructor(e,t,r){super(e,t,Z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function FC(n,e,...t){if(n=It(n),OC("collection","path",e),n instanceof ea){let r=Ze.fromString(e,...t);return j0(r),new gi(n,null,r)}{if(!(n instanceof Wt||n instanceof gi))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return j0(r),new gi(n.firestore,null,r)}}function Nh(n,e,...t){if(n=It(n),arguments.length===1&&(e=Qd.newId()),OC("doc","path",e),n instanceof ea){let r=Ze.fromString(e,...t);return U0(r),new Wt(n,null,new Z(r))}{if(!(n instanceof Wt||n instanceof gi))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return U0(r),new Wt(n.firestore,n instanceof gi?n.converter:null,new Z(r))}}var wh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dh(this,"async_queue_retry"),this.Vu=()=>{let r=zm();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Gu(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=iv.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var ta=class extends ea{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wh(e),this._firestoreClient=void 0,yield e}})}};function Bv(n,e){let t=typeof n=="object"?n:Ao(),r=typeof n=="string"?n:e||"(default)",i=mu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=qD("firestore");s&&kC(i,...s)}return i}function LC(n){if(n._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BV(n),n._firestoreClient}function BV(n){var e,t,r;let i=n._freezeSettings(),s=function(c,l,f,y){return new ty(c,l,f,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,PC(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new gv(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var Bu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var na=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $u=class{constructor(e){this._methodName=e}};var Hu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var zu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var $V=/^__.*__$/,mv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new gs(e,this.data,t,this.fieldTransforms)}},Ih=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function VC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var yv=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VC(this.Cu)&&$V.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},vv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ah(e)}Qu(e,t,r,i=!1){return new yv({Cu:e,methodName:t,qu:r,path:Gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function UC(n){let e=n._freezeSettings(),t=Ah(n._databaseId);return new vv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HV(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);$v("Data must be an object, but it was:",o,r);let c=jC(r,o),l,f;if(s.merge)l=new cn(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){let y=[];for(let w of s.mergeFields){let b=_v(e,w,t);if(!o.contains(b))throw new K(L.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$C(y,b)||y.push(b)}l=new cn(y),f=o.fieldTransforms.filter(w=>l.covers(w.field))}else l=null,f=o.fieldTransforms;return new mv(new qt(c),l,f)}var Eh=class n extends $u{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function zV(n,e,t,r){let i=n.Qu(1,e,t);$v("Data must be an object, but it was:",i,r);let s=[],o=qt.empty();ys(r,(l,f)=>{let y=Hv(e,l,t);f=It(f);let w=i.Nu(y);if(f instanceof Eh)s.push(y);else{let b=xh(f,w);b!=null&&(s.push(y),o.set(y,b))}});let c=new cn(s);return new Ih(o,c,i.fieldTransforms)}function qV(n,e,t,r,i,s){let o=n.Qu(1,e,t),c=[_v(e,r,t)],l=[i];if(s.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(_v(e,s[b])),l.push(s[b+1]);let f=[],y=qt.empty();for(let b=c.length-1;b>=0;--b)if(!$C(f,c[b])){let S=c[b],x=l[b];x=It(x);let V=o.Nu(S);if(x instanceof Eh)f.push(S);else{let F=xh(x,V);F!=null&&(f.push(S),y.set(S,F))}}let w=new cn(f);return new Ih(y,w,o.fieldTransforms)}function xh(n,e){if(BC(n=It(n)))return $v("Unsupported field value:",e,n),jC(n,e);if(n instanceof $u)return function(r,i){if(!VC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let l=xh(c,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=mt.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof mt){let s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof Hu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bu)return{bytesValue:dC(i.serializer,r._byteString)};if(r instanceof Wt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zu)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return Nv(c.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jv(r)}`)}(n,e)}function jC(n,e){let t={};return $0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(n,(r,i)=>{let s=xh(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function BC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof Hu||n instanceof Bu||n instanceof Wt||n instanceof $u||n instanceof zu)}function $v(n,e,t){if(!BC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=jv(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function _v(n,e,t){if((e=It(e))instanceof na)return e._internalPath;if(typeof e=="string")return Hv(n,e);throw Dh("Field path arguments must be of type string or ",n,!1,void 0,t)}var GV=new RegExp("[~\\*/\\[\\]]");function Hv(n,e,t){if(e.search(GV)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new na(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dh(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(L.INVALID_ARGUMENT,c+n+l)}function $C(n,e){return n.some(t=>t.isEqual(e))}var bh=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(HC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wv=class extends bh{data(){return super.data()}};function HC(n,e){return typeof e=="string"?Hv(n,e):e instanceof na?e._internalPath:e._delegate._internalPath}function WV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iv=class{convertValue(e,t="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ys(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new zu(s)}convertGeoPoint(e){return new Hu(Ye(e.latitude),Ye(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Sv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){let t=xr(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);ke(yC(r));let i=new eh(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(t)||Nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function YV(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ev=class extends bh{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(HC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Bo=class extends Ev{data(e={}){return super.data(e)}},Dv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bo(this._firestore,this._userDataWriter,r.key,r,new Uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new Bo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Bo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,y=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:KV(c.type),doc:l,oldIndex:f,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function KV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var bv=class extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}};function sa(n){n=ms(n,_h);let e=ms(n.firestore,ta),t=LC(e),r=new bv(e);return WV(n._query),UV(t,n._query).then(i=>new Dv(e,r,n,i))}function zv(n,e,t){n=ms(n,Wt);let r=ms(n.firestore,ta),i=YV(n.converter,e,t);return zC(r,[HV(UC(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,pi.none())])}function qv(n,e,t,...r){n=ms(n,Wt);let i=ms(n.firestore,ta),s=UC(i),o;return o=typeof(e=It(e))=="string"||e instanceof na?qV(s,"updateDoc",n._key,e,t,r):zV(s,"updateDoc",n._key,e),zC(i,[o.toMutation(n._key,pi.exists(!0))])}function zC(n,e){return function(r,i){let s=new zn;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return SV(yield LV(r),i,s)})),s.promise}(LC(n),e)}(function(e,t=!0){(function(i){ra=i})(ci),ui(new un("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new ta(new Ym(r.getProvider("auth-internal")),new Jm(r.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(f.options.projectId,y)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),at(l0,"4.7.3",e),at(l0,"4.7.3","esm2017")})();var _s=class{constructor(e){return e}},qC="firestore",Gv=class{constructor(){return yu(qC)}};var Wv=new X("angularfire2.firestore-instances");function QV(n,e){let t=bd(qC,n,e);return t&&new _s(t)}function ZV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _s(r)}}var JV={provide:Gv,deps:[[new kt,Wv]]},XV={provide:_s,useFactory:QV,deps:[[new kt,Wv],Sr]};function GC(n,...e){return at("angularfire",ns.full,"fst"),jn([XV,JV,{provide:Wv,useFactory:ZV(n),multi:!0,deps:[Fe,Ot,No,rs,[new kt,Tu],[new kt,Ro],...e]}])}var Ph=vu(FC,!0);var aa=XA(WC());var Oh=class n{constructor(e){this.firestore=e;this.attempts=Number(localStorage.getItem("attempts")),(this.attempts===Number.NaN||this.attempts===null||this.attempts===void 0||this.attempts<0)&&(this.attempts=0);let t=localStorage.getItem("attempttime");if(this.attempts>2&&t!==null&&t!==void 0&&(0,aa.default)(t).isValid()){let r=(0,aa.default)(t);(this.attempts<5&&r.add(15,"minute").isAfter((0,aa.default)())||this.attempts<10&&r.add(1,"day").isAfter((0,aa.default)()))&&(this.attempts=0,localStorage.removeItem("attempts"),localStorage.removeItem("attempttime"))}else this.attempts>2&&(t==null||!(0,aa.default)(t).isValid())&&(this.attempts=0,localStorage.removeItem("attempts"),localStorage.removeItem("attempttime"))}guestId=null;loggedIn=!1;attempts=0;guests$=[];persons=[];anrede="";pikantes=[];suesses=[];essen=[{id:this.generateGUID(),gericht:"",pikant:!1}];loadFood(e){return T(this,null,function*(){let t=yield sa(Ph(e,"guests"));this.guests$=t.docs.map(r=>G({id:r.id},r.data())),this.guests$.forEach(r=>T(this,null,function*(){let i=Ph(this.firestore,`guests/${r.id}/essen`);yield sa(i).catch(o=>console.log(r.id,"essen",o));let s=yield sa(i);r.essen=s.docs.map(o=>G({id:o.id},o.data())),r.id!==this.guestId?.toString()?r.essen.forEach(o=>{o.pikant?this.pikantes.push(o.gericht):this.suesses.push(o.gericht)}):this.essen=r.essen.length>0?r.essen:this.essen}))})}login(){return T(this,null,function*(){try{let e=Ph(this.firestore,`guests/${this.guestId}/personen`),r=(yield sa(e)).docs.map(i=>G({id:i.id},i.data()));r.length>0&&r[0].id!==null?(this.persons=r.map(i=>({id:i.id,name:i.name,zusage:Number(i.zusage??99)})),console.log(this.persons),this.anrede=this.persons.map(i=>i.name).join(" und "),this.loadFood(this.firestore),this.attempts=0,this.loggedIn=!0):(this.attempts+=1,localStorage.setItem("attempts",this.attempts.toString()),this.attempts>2&&localStorage.setItem("attempttime",Date.now().toString()),this.loggedIn=!1)}catch(e){this.loggedIn=!1,console.log(e)}})}zusageAbschicken(){return T(this,null,function*(){this.persons.forEach((e,t)=>T(this,null,function*(){let r=Nh(this.firestore,"guests",(this.guestId??0).toString(),"personen",e.id);yield qv(r,{zusage:e.zusage??99}),t===this.persons.length-1&&alert(`Danke f\xFCr die R\xFCckmeldung. 
 Die Daten wurden gespeichert.`)}))})}addEssen(){this.essen.push({id:this.generateGUID(),gericht:"",pikant:!1})}removeEssen(e){this.essen.splice(e,1)}submitForm(){return T(this,null,function*(){this.essen.forEach((e,t)=>T(this,null,function*(){let r=Nh(this.firestore,"guests",(this.guestId??0).toString(),"essen",e.id);yield zv(r,{gericht:e.gericht,pikant:e.pikant}),t===this.essen.length-1&&alert(`Danke f\xFCr die R\xFCckmeldung. 
 Die Daten wurden gespeichert.`)}))})}openMaps(){window.open("https://www.google.com/maps/place/Schloss+Oberbrunn/@47.9642837,12.4162386,184m/data=!3m2!1e3!5s0x47760ca812ec5a51:0x3ea239746ff1bd78!4m6!3m5!1s0x47760d486ae3e96b:0xbd4bfe873ffe81d5!8m2!3d47.9642946!4d12.4163415!16s%2Fg%2F11bwfkt0z0?entry=ttu&g_ep=EgoyMDI1MDYzMC4wIKXMDSoASAFQAw%3D%3D","_blank")}generateGUID(){let e=new Date().getTime(),t=Math.floor(Math.random()*1e6);return`${e}-${t}`}static \u0275fac=function(t){return new(t||n)(Do(_s))};static \u0275cmp=Io({type:n,selectors:[["app-guest-form"]],standalone:!0,features:[bo],decls:4,vars:0,template:function(t,r){t&1&&(Ht(0,"div"),Ge(1,"Der Login zum Zu-/Absagen "),qe(2,"br"),Ge(3,"ist ab Freitag, den 11.07 freigeschalten."),Ft())},dependencies:[uu,BD],styles:["hr[_ngcontent-%COMP%]{width:75%;color:#d3d3d3}"]})};var ua=class n{title="Hochzeit Meissner-Klein";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Io({type:n,selectors:[["app-root"]],standalone:!0,features:[bo],decls:53,vars:0,consts:[[1,"base-container"],[1,"base-outer",2,"background-image","url('bg_1.png')"],[1,"base-center",2,"background-image","url('bg_4.png')"],[1,"pacifico-regular"]],template:function(t,r){t&1&&(Ht(0,"div",0),qe(1,"div",1),Ht(2,"div",2)(3,"h1",3),Ge(4,"Willkommen -"),qe(5,"br"),Ge(6," sch\xF6n, dass du da bist!"),Ft(),Ht(7,"p"),Ge(8," Wir freuen uns sehr, "),qe(9,"br"),Ge(10,"diesen besonderen Tag "),qe(11,"br"),Ge(12,"mit unseren liebsten Menschen zu feiern "),qe(13,"br"),Ge(14,"\u2013 und du bist ein Teil davon! "),Ft(),Ht(15,"p"),Ge(16," Auf dieser Seite haben wir "),qe(17,"br"),Ge(18,"alle wichtigen Informationen rund "),qe(19,"br"),Ge(20,"um unsere Hochzeit zusammengestellt: "),qe(21,"br"),Ge(22,"Den groben Ablauf, "),qe(23,"br"),Ge(24,"den Ort, "),qe(25,"br"),Ge(26,"sowie Hinweise zur Anreise. "),Ft(),Ht(27,"p"),Ge(28," F\xFCr Getr\xE4nke wird gesorgt, aber wir bitten darum, "),qe(29,"br"),Ge(30,"dass jeder entweder etwas S\xFC\xDFes oder"),qe(31,"br"),Ge(32,"Pikantes zur Verpflegung mitbringt. "),qe(33,"br")(34,"br"),Ge(35," Weiter unten findest du die M\xF6glichkeit, "),qe(36,"br"),Ge(37,"zu- bzw. abzusagen sowie anzugeben, "),qe(38,"br"),Ge(39,"welches Essen du mitbringen m\xF6chtest. "),Ft(),Ht(40,"p"),Ge(41," Wir freuen uns schon jetzt "),qe(42,"br"),Ge(43,"auf einen unvergesslichen Tag mit euch allen! "),Ft(),Ht(44,"p")(45,"b"),Ge(46,"Herzliche Gr\xFC\xDFe"),Ft(),qe(47,"br"),Ge(48," Sanna und Benjamin "),Ft(),qe(49,"hr"),Ht(50,"div"),qe(51,"app-guest-form"),Ft()(),qe(52,"div",1),Ft())},dependencies:[uu,Oh],styles:[".base-container[_ngcontent-%COMP%]{background-color:#fff;height:100%;display:flex;flex-direction:row}@media screen and (min-device-width: 720px){.base-outer[_ngcontent-%COMP%]{width:75%}}.base-outer[_ngcontent-%COMP%]{background-size:contain;background-color:#00c0ff2e;opacity:.4}.base-center[_ngcontent-%COMP%]{width:100%;background-color:#ffecc6ad;display:flex;flex-direction:column;align-items:center;background-size:contain;padding:0 20px 45px 120px;text-align:center;background-repeat:repeat-y;overflow-y:auto;letter-spacing:1px}@media screen and (max-device-width: 720px){.base-center[_ngcontent-%COMP%]{padding-left:180px}}@media screen and (max-device-width: 530px){.base-center[_ngcontent-%COMP%]{padding-left:120px}}hr[_ngcontent-%COMP%]{width:75%;color:#d3d3d3}"]})};var fe="primary",dc=Symbol("RouteTitle"),Xv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pa(n){return new Xv(n)}function nU(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function rU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zn(n[t],e[t]))return!1;return!0}function Zn(n,e){let t=n?e_(n):void 0,r=e?e_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!tT(n[i],e[i]))return!1;return!0}function e_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function tT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function nT(n){return n.length>0?n[n.length-1]:null}function _i(n){return Kf(n)?n:Co(n)?it(Promise.resolve(n)):ce(n)}var iU={exact:iT,subset:sT},rT={exact:sU,subset:oU,ignored:()=>!0};function YC(n,e,t){return iU[t.paths](n.root,e.root,t.matrixParams)&&rT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function sU(n,e){return Zn(n,e)}function iT(n,e,t){if(!Is(n.segments,e.segments)||!Lh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!iT(n.children[r],e.children[r],t))return!1;return!0}function oU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tT(n[t],e[t]))}function sT(n,e,t){return oT(n,e,e.segments,t)}function oT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Is(i,t)||e.hasChildren()||!Lh(i,t,r))}else if(n.segments.length===t.length){if(!Is(n.segments,t)||!Lh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!sT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Is(n.segments,i)||!Lh(n.segments,i,r)||!n.children[fe]?!1:oT(n.children[fe],e,s,r)}}function Lh(n,e,t){return e.every((r,i)=>rT[t](n[i].parameters,r.parameters))}var kr=class{constructor(e=new Pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){return cU.serialize(this)}},Pe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vh(this)}},ws=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pa(this.parameters),this._parameterMap}toString(){return uT(this)}};function aU(n,e){return Is(n,e)&&n.every((t,r)=>Zn(t.parameters,e[r].parameters))}function Is(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===fe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==fe&&(t=t.concat(e(i,r)))}),t}var T_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>new tc,providedIn:"root"})}}return n})(),tc=class{parse(e){let t=new n_(e);return new kr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ku(e.root,!0)}`,r=hU(e.queryParams),i=typeof e.fragment=="string"?`#${lU(e.fragment)}`:"";return`${t}${r}${i}`}},cU=new tc;function Vh(n){return n.segments.map(e=>uT(e)).join("/")}function Ku(n,e){if(!n.hasChildren())return Vh(n);if(e){let t=n.children[fe]?Ku(n.children[fe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==fe&&r.push(`${i}:${Ku(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uU(n,(r,i)=>i===fe?[Ku(n.children[fe],!1)]:[`${i}:${Ku(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Vh(n)}/${t[0]}`:`${Vh(n)}/(${t.join("//")})`}}function aT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kh(n){return aT(n).replace(/%3B/gi,";")}function lU(n){return encodeURI(n)}function t_(n){return aT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uh(n){return decodeURIComponent(n)}function KC(n){return Uh(n.replace(/\+/g,"%20"))}function uT(n){return`${t_(n.path)}${dU(n.parameters)}`}function dU(n){return Object.entries(n).map(([e,t])=>`;${t_(e)}=${t_(t)}`).join("")}function hU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${kh(t)}=${kh(i)}`).join("&"):`${kh(t)}=${kh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var fU=/^[^\/()?;#]+/;function Kv(n){let e=n.match(fU);return e?e[0]:""}var pU=/^[^\/()?;=#]+/;function gU(n){let e=n.match(pU);return e?e[0]:""}var mU=/^[^=?&#]+/;function yU(n){let e=n.match(mU);return e?e[0]:""}var vU=/^[^&#]+/;function _U(n){let e=n.match(vU);return e?e[0]:""}var n_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new Pe(e,t)),r}parseSegment(){let e=Kv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new ws(Uh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=gU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Kv(this.remaining);i&&(r=i,this.capture(r))}e[Uh(t)]=Uh(r)}parseQueryParam(e){let t=yU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=_U(this.remaining);o&&(r=o,this.capture(r))}let i=KC(t),s=KC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[fe]:new Pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function cT(n){return n.segments.length>0?new Pe([],{[fe]:n}):n}function lT(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=lT(i);if(r===fe&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Pe(n.segments,e);return wU(t)}function wU(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Pe(n.segments.concat(e.segments),e.children)}return n}function nc(n){return n instanceof kr}function IU(n,e,t=null,r=null){let i=dT(n);return hT(i,e,t,r)}function dT(n){let e;function t(s){let o={};for(let l of s.children){let f=t(l);o[l.outlet]=f}let c=new Pe(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=cT(r);return e??i}function hT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Qv(i,i,i,t,r);let s=EU(e);if(s.toRoot())return Qv(i,i,new Pe([],{}),t,r);let o=DU(s,i,n),c=o.processChildren?Ju(o.segmentGroup,o.index,s.commands):pT(o.segmentGroup,o.index,s.commands);return Qv(i,o.segmentGroup,c,t,r)}function jh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rc(n){return typeof n=="object"&&n!=null&&n.outlets}function Qv(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,f])=>{s[l]=Array.isArray(f)?f.map(y=>`${y}`):`${f}`});let o;n===e?o=t:o=fT(n,e,t);let c=cT(lT(o));return new kr(c,s,i)}function fT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=fT(s,e,t)}),new Pe(n.segments,r)}var Bh=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jh(r[0]))throw new ee(4003,!1);let i=r.find(rc);if(i&&i!==nT(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bh(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,f])=>{c[l]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Bh(t,e,r)}var da=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function DU(n,e,t){if(n.isAbsolute)return new da(e,!0,0);if(!t)return new da(e,!1,NaN);if(t.parent===null)return new da(t,!0,0);let r=jh(n.commands[0])?0:1,i=t.segments.length-1+r;return bU(t,i,n.numberOfDoubleDots)}function bU(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new da(r,!1,i-s)}function CU(n){return rc(n[0])?n[0].outlets:{[fe]:n}}function pT(n,e,t){if(n??=new Pe([],{}),n.segments.length===0&&n.hasChildren())return Ju(n,e,t);let r=TU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Pe(n.segments.slice(0,r.pathIndex),{});return s.children[fe]=new Pe(n.segments.slice(r.pathIndex),n.children),Ju(s,0,i)}else return r.match&&i.length===0?new Pe(n.segments,{}):r.match&&!n.hasChildren()?r_(n,e,t):r.match?Ju(n,0,i):r_(n,e,t)}function Ju(n,e,t){if(t.length===0)return new Pe(n.segments,{});{let r=CU(t),i={};if(Object.keys(r).some(s=>s!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let s=Ju(n.children[fe],e,t);return new Pe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=pT(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Pe(n.segments,i)}}function TU(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(rc(c))break;let l=`${c}`,f=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&f&&typeof f=="object"&&f.outlets===void 0){if(!ZC(l,f,o))return s;r+=2}else{if(!ZC(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function r_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(rc(s)){let l=SU(s.outlets);return new Pe(r,l)}if(i===0&&jh(t[0])){let l=n.segments[e];r.push(new ws(l.path,QC(t[0]))),i++;continue}let o=rc(s)?s.outlets[fe]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&jh(c)?(r.push(new ws(o,QC(c))),i+=2):(r.push(new ws(o,{})),i++)}return new Pe(r,{})}function SU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=r_(new Pe([],{}),0,r))}),e}function QC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ZC(n,e,t){return n==t.path&&Zn(e,t.parameters)}var Xu="imperative",yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yt||{}),ln=class{constructor(e,t){this.id=e,this.url=t}},ic=class extends ln{constructor(e,t,r="imperative",i=null){super(e,t),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Es=class extends ln{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Kt||{}),i_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(i_||{}),Or=class extends ln{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ds=class extends ln{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}},sc=class extends ln{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$h=class extends ln{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s_=class extends ln{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o_=class extends ln{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},a_=class extends ln{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u_=class extends ln{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l_=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},d_=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h_=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f_=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p_=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oc=class{},ga=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function AU(n,e){return n.providers&&!n._injector&&(n._injector=vg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bn(n){return n.outlet||fe}function MU(n,e){let t=n.filter(r=>bn(r)===e);return t.push(...n.filter(r=>bn(r)!==e)),t}function hc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var g_=class{get injector(){return hc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Kh(this.rootInjector),this.attachRef=null}},Kh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new g_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(me(on))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=m_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=m_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=y_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return y_(e,this._root).map(t=>t.value)}};function m_(n,e){if(n===e.value)return e;for(let t of e.children){let r=m_(n,t);if(r)return r}return null}function y_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=y_(n,t);if(r.length)return r.unshift(e),r}return[]}var Yt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function la(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var zh=class extends Hh{constructor(e,t){super(e),this.snapshot=t,S_(this,e)}toString(){return this.snapshot.toString()}};function gT(n){let e=RU(n),t=new gt([new ws("",{})]),r=new gt({}),i=new gt({}),s=new gt({}),o=new gt(""),c=new ma(t,r,s,o,i,fe,n,e.root);return c.snapshot=e.root,new zh(new Yt(c,[]),e)}function RU(n){let e={},t={},r={},i="",s=new ha([],e,r,i,t,fe,n,null,{});return new Gh("",new Yt(s,[]))}var ma=class{constructor(e,t,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(f=>f[dc]))??ce(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>pa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>pa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&yT(i)&&(r.resolve[dc]=i.title),r}var ha=class{get title(){return this.data?.[dc]}constructor(e,t,r,i,s,o,c,l,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gh=class extends Hh{constructor(e,t){super(t),this.url=e,S_(this,t)}toString(){return mT(this._root)}};function S_(n,e){e.value._routerState=n,e.children.forEach(t=>S_(n,t))}function mT(n){let e=n.children.length>0?` { ${n.children.map(mT).join(", ")} } `:"";return`${n.value}${e}`}function Zv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zn(e.params,t.params)||n.paramsSubject.next(t.params),rU(e.url,t.url)||n.urlSubject.next(t.url),Zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function v_(n,e){let t=Zn(n.params,e.params)&&aU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||v_(n.parent,e.parent))}function yT(n){return typeof n.title=="string"||n.title===null}var NU=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=z(Kh),this.location=z(ld),this.changeDetector=z(To),this.inputBinder=z(A_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new __(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ed({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[iu]})}}return n})(),__=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ma?this.route:e===Kh?this.childContexts:this.parent.get(e,t)}},A_=new X("");function xU(n,e,t){let r=ac(n,e._root,t?t._root:void 0);return new zh(r,e)}function ac(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=PU(n,e,t);return new Yt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ac(n,c)),o}}let r=OU(e.value),i=e.children.map(s=>ac(n,s));return new Yt(r,i)}}function PU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ac(n,r,i);return ac(n,r)})}function OU(n){return new ma(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var uc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},vT="ngNavigationCancelingError";function Wh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=nc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_T(!1,Kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _T(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[vT]=!0,t.cancellationCode=e,t}function kU(n){return wT(n)&&nc(n.url)}function wT(n){return!!n&&n[vT]}var FU=(n,e,t,r)=>Ie(i=>(new w_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),w_=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=la(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=la(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=la(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=la(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new p_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new h_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Zv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Zv(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Yh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fa=class{constructor(e,t){this.component=e,this.route=t}};function LU(n,e,t){let r=n._root,i=e?e._root:null;return Qu(r,i,t,[r.value])}function VU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function va(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_I(n)?n:e.get(n):r}function Qu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=la(e);return n.children.forEach(o=>{UU(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ec(c,t.getContext(o),i)),i}function UU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=jU(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Qu(n,e,c?c.children:null,r,i):Qu(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new fa(c.outlet.component,o))}else o&&ec(e,c,i),i.canActivateChecks.push(new Yh(r)),s.component?Qu(n,null,c?c.children:null,r,i):Qu(n,null,t,r,i);return i}function jU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Is(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Is(n.url,e.url)||!Zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(n,e)||!Zn(n.queryParams,e.queryParams);case"paramsChange":default:return!v_(n,e)}}function ec(n,e,t){let r=la(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ec(o,e.children.getContext(s),t):ec(o,null,t):ec(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fa(e.outlet.component,i)):t.canDeactivateChecks.push(new fa(null,i)):t.canDeactivateChecks.push(new fa(null,i))}function fc(n){return typeof n=="function"}function BU(n){return typeof n=="boolean"}function $U(n){return n&&fc(n.canLoad)}function HU(n){return n&&fc(n.canActivate)}function zU(n){return n&&fc(n.canActivateChild)}function qU(n){return n&&fc(n.canDeactivate)}function GU(n){return n&&fc(n.canMatch)}function IT(n){return n instanceof pr||n?.name==="EmptyError"}var Fh=Symbol("INITIAL_VALUE");function ya(){return vn(n=>bl(n.map(e=>e.pipe(gr(1),ep(Fh)))).pipe(Ie(e=>{for(let t of e)if(t!==!0){if(t===Fh)return Fh;if(t===!1||WU(t))return t}return!0}),yn(e=>e!==Fh),gr(1)))}function WU(n){return nc(n)||n instanceof uc}function YU(n,e){return st(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ce(ze(G({},t),{guardsResult:!0})):KU(o,r,i,n).pipe(st(c=>c&&BU(c)?QU(r,s,n,e):ce(c)),Ie(c=>ze(G({},t),{guardsResult:c})))})}function KU(n,e,t,r){return it(n).pipe(st(i=>tj(i.component,i.route,t,e,r)),On(i=>i!==!0,!0))}function QU(n,e,t,r){return it(e).pipe(so(i=>io(JU(i.route.parent,r),ZU(i.route,r),ej(n,i.path,t),XU(n,i.route,t))),On(i=>i!==!0,!0))}function ZU(n,e){return n!==null&&e&&e(new f_(n)),ce(!0)}function JU(n,e){return n!==null&&e&&e(new d_(n)),ce(!0)}function XU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(s=>Cl(()=>{let o=hc(e)??t,c=va(s,o),l=HU(c)?c.canActivate(e,n):_r(o,()=>c(e,n));return _i(l).pipe(On())}));return ce(i).pipe(ya())}function ej(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>VU(o)).filter(o=>o!==null).map(o=>Cl(()=>{let c=o.guards.map(l=>{let f=hc(o.node)??t,y=va(l,f),w=zU(y)?y.canActivateChild(r,n):_r(f,()=>y(r,n));return _i(w).pipe(On())});return ce(c).pipe(ya())}));return ce(s).pipe(ya())}function tj(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ce(!0);let o=s.map(c=>{let l=hc(e)??i,f=va(c,l),y=qU(f)?f.canDeactivate(n,e,t,r):_r(l,()=>f(n,e,t,r));return _i(y).pipe(On())});return ce(o).pipe(ya())}function nj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let s=i.map(o=>{let c=va(o,n),l=$U(c)?c.canLoad(e,t):_r(n,()=>c(e,t));return _i(l)});return ce(s).pipe(ya(),ET(r))}function ET(n){return Bf(ot(e=>{if(typeof e!="boolean")throw Wh(n,e)}),Ie(e=>e===!0))}function rj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let s=i.map(o=>{let c=va(o,n),l=GU(c)?c.canMatch(e,t):_r(n,()=>c(e,t));return _i(l)});return ce(s).pipe(ya(),ET(r))}var cc=class{constructor(e){this.segmentGroup=e||null}},lc=class extends Error{constructor(e){super(),this.urlTree=e}};function ca(n){return ro(new cc(n))}function ij(n){return ro(new ee(4e3,!1))}function sj(n){return ro(_T(!1,Kt.GuardRejected))}var I_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[fe])return ij(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:f,routeConfig:y,url:w,outlet:b,params:S,data:x,title:V}=i,F=_r(s,()=>c({params:S,data:x,queryParams:l,fragment:f,routeConfig:y,url:w,outlet:b,title:V}));if(F instanceof kr)throw new lc(F);t=F}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new lc(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new kr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new Pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},E_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oj(n,e,t,r,i){let s=DT(n,e,t);return s.matched?(r=AU(e,r),rj(r,e,t,i).pipe(Ie(o=>o===!0?s:G({},E_)))):ce(s)}function DT(n,e,t){if(e.path==="**")return aj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},E_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nU)(t,n,e);if(!i)return G({},E_);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aj(n){return{matched:!0,parameters:n.length>0?nT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function JC(n,e,t,r){return t.length>0&&lj(n,t,r)?{segmentGroup:new Pe(e,cj(r,new Pe(t,n.children))),slicedSegments:[]}:t.length===0&&dj(n,t,r)?{segmentGroup:new Pe(n.segments,uj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pe(n.segments,n.children),slicedSegments:t}}function uj(n,e,t,r){let i={};for(let s of t)if(Qh(n,e,s)&&!r[bn(s)]){let o=new Pe([],{});i[bn(s)]=o}return G(G({},r),i)}function cj(n,e){let t={};t[fe]=e;for(let r of n)if(r.path===""&&bn(r)!==fe){let i=new Pe([],{});t[bn(r)]=i}return t}function lj(n,e,t){return t.some(r=>Qh(n,e,r)&&bn(r)!==fe)}function dj(n,e,t){return t.some(r=>Qh(n,e,r))}function Qh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function hj(n,e,t){return e.length===0&&!n.children[t]}var D_=class{};function fj(n,e,t,r,i,s,o="emptyOnly"){return new b_(n,e,t,r,i,o,s).recognize()}var pj=31,b_=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new I_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=JC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(({children:t,rootSnapshot:r})=>{let i=new Yt(r,t),s=new Gh("",i),o=IU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ha([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(Ie(r=>({children:r,rootSnapshot:t})),Qr(r=>{if(r instanceof lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ie(o=>o instanceof Yt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return it(s).pipe(so(o=>{let c=r.children[o],l=MU(t,o);return this.processSegmentGroup(e,l,c,o,i)}),Xf((o,c)=>(o.push(...c),o)),Zr(null),Jf(),st(o=>{if(o===null)return ca(r);let c=bT(o);return gj(c),ce(c)}))}processSegment(e,t,r,i,s,o,c){return it(t).pipe(so(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,c).pipe(Qr(f=>{if(f instanceof cc)return ce(null);throw f}))),On(l=>!!l),Qr(l=>{if(IT(l))return hj(r,i,s)?ce(new D_):ca(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,l){return bn(r)!==o&&(o===fe||!Qh(i,s,r))?ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):ca(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:l,parameters:f,consumedSegments:y,positionalParamSegments:w,remainingSegments:b}=DT(t,i,s);if(!l)return ca(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pj&&(this.allowRedirects=!1));let S=new ha(s,f,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,XC(i),bn(i),i.component??i._loadedComponent??null,i,eT(i)),x=qh(S,c,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let V=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,w,S,e);return this.applyRedirects.lineralizeSegments(i,V).pipe(st(F=>this.processSegment(e,r,t,F.concat(b),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=oj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(vn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vn(({routes:f})=>{let y=r._loadedInjector??e,{parameters:w,consumedSegments:b,remainingSegments:S}=l,x=new ha(b,w,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,XC(r),bn(r),r.component??r._loadedComponent??null,r,eT(r)),V=qh(x,o,this.paramsInheritanceStrategy);x.params=Object.freeze(V.params),x.data=Object.freeze(V.data);let{segmentGroup:F,slicedSegments:Y}=JC(t,b,S,f);if(Y.length===0&&F.hasChildren())return this.processChildren(y,f,F,x).pipe(Ie(ne=>new Yt(x,ne)));if(f.length===0&&Y.length===0)return ce(new Yt(x,[]));let J=bn(r)===s;return this.processSegment(y,f,F,Y,J?fe:s,!0,x).pipe(Ie(ne=>new Yt(x,ne instanceof Yt?[ne]:[])))}))):ca(t)))}getChildConfig(e,t,r){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):nj(e,t,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):sj(t))):ce({routes:[],injector:e})}};function gj(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function mj(n){let e=n.value.routeConfig;return e&&e.path===""}function bT(n){let e=[],t=new Set;for(let r of n){if(!mj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=bT(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!t.has(r))}function XC(n){return n.data||{}}function eT(n){return n.resolve||{}}function yj(n,e,t,r,i,s){return st(o=>fj(n,e,t,r,o.extractedUrl,i,s).pipe(Ie(({state:c,tree:l})=>ze(G({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function vj(n,e){return st(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let f of CT(l))o.add(f);let c=0;return it(o).pipe(so(l=>s.has(l)?_j(l,r,n,e):(l.data=qh(l,l.parent,n).resolve,ce(void 0))),ot(()=>c++),oo(1),st(l=>c===o.size?ce(t):Bt))})}function CT(n){let e=n.children.map(t=>CT(t)).flat();return[n,...e]}function _j(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!yT(i)&&(s[dc]=i.title),wj(s,n,e,r).pipe(Ie(o=>(n._resolvedData=o,n.data=qh(n,n.parent,t).resolve,null)))}function wj(n,e,t,r){let i=e_(n);if(i.length===0)return ce({});let s={};return it(i).pipe(st(o=>Ij(n[o],e,t,r).pipe(On(),ot(c=>{if(c instanceof uc)throw Wh(new tc,c);s[o]=c}))),oo(1),Zf(s),Qr(o=>IT(o)?Bt:ro(o)))}function Ij(n,e,t,r){let i=hc(e)??r,s=va(n,i),o=s.resolve?s.resolve(e,t):_r(i,()=>s(e,t));return _i(o)}function Jv(n){return vn(e=>{let t=n(e);return t?it(t).pipe(Ie(()=>e)):ce(e)})}var TT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[dc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(Ej),providedIn:"root"})}}return n})(),Ej=(()=>{class n extends TT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(me(UD))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M_=new X("",{providedIn:"root",factory:()=>({})}),Dj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Io({type:n,selectors:[["ng-component"]],standalone:!0,features:[bo],decls:1,vars:0,template:function(r,i){r&1&&qe(0,"router-outlet")},dependencies:[NU],encapsulation:2})}}return n})();function R_(n){let e=n.children&&n.children.map(R_),t=e?ze(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=Dj),t}var N_=new X(""),bj=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(wg)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=_i(t.loadComponent()).pipe(Ie(ST),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),$a(()=>{this.componentLoaders.delete(t)})),i=new Xs(r,()=>new Mt).pipe(Js());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Cj(r,this.compiler,t,this.onLoadEndListener).pipe($a(()=>{this.childrenLoaders.delete(r)})),o=new Xs(s,()=>new Mt).pipe(Js());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cj(n,e,t,r){return _i(n.loadChildren()).pipe(Ie(ST),st(i=>i instanceof eu||Array.isArray(i)?ce(i):it(e.compileModuleAsync(i))),Ie(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(N_,[],{optional:!0,self:!0}).flat()),{routes:o.map(R_),injector:s}}))}function Tj(n){return n&&typeof n=="object"&&"default"in n}function ST(n){return Tj(n)?n.default:n}var x_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(Sj),providedIn:"root"})}}return n})(),Sj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Aj=new X("");var Mj=new X(""),Rj=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.transitionAbortSubject=new Mt,this.configLoader=z(bj),this.environmentInjector=z(on),this.urlSerializer=z(T_),this.rootContexts=z(Kh),this.location=z(au),this.inputBindingEnabled=z(A_,{optional:!0})!==null,this.titleStrategy=z(TT),this.options=z(M_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(x_),this.createViewTransition=z(Aj,{optional:!0}),this.navigationErrorHandler=z(Mj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let t=i=>this.events.next(new c_(i)),r=i=>this.events.next(new l_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ze(G(G({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yn(s=>s.id!==0),Ie(s=>ze(G({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vn(s=>{let o=!1,c=!1;return ce(s).pipe(vn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Kt.SupersededByNewNavigation),Bt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ze(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!f&&y!=="reload"){let w="";return this.events.next(new Ds(l.id,this.urlSerializer.serialize(l.rawUrl),w,i_.IgnoredSameUrlNavigation)),l.resolve(!1),Bt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(vn(w=>{let b=this.transitions?.getValue();return this.events.next(new ic(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),b!==this.transitions?.getValue()?Bt:Promise.resolve(w)}),yj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=ze(G({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let b=new $h(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:w,extractedUrl:b,source:S,restoredState:x,extras:V}=l,F=new ic(w,this.urlSerializer.serialize(b),S,x);this.events.next(F);let Y=gT(this.rootComponentType).snapshot;return this.currentTransition=s=ze(G({},l),{targetSnapshot:Y,urlAfterRedirects:b,extras:ze(G({},V),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,ce(s)}else{let w="";return this.events.next(new Ds(l.id,this.urlSerializer.serialize(l.extractedUrl),w,i_.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Bt}}),ot(l=>{let f=new s_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ie(l=>(this.currentTransition=s=ze(G({},l),{guards:LU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),YU(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Wh(this.urlSerializer,l.guardsResult);let f=new o_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),yn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Kt.GuardRejected),!1)),Jv(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(ot(f=>{let y=new a_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),vn(f=>{let y=!1;return ce(f).pipe(vj(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(f,"",Kt.NoDataFromResolver)}}))}),ot(f=>{let y=new u_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),Jv(l=>{let f=y=>{let w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe(ot(b=>{y.component=b}),Ie(()=>{})));for(let b of y.children)w.push(...f(b));return w};return bl(f(l.targetSnapshot.root)).pipe(Zr(null),gr(1))}),Jv(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,y=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return y?it(y).pipe(Ie(()=>s)):ce(s)}),Ie(l=>{let f=xU(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ze(G({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),ot(()=>{this.events.next(new oc)}),FU(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gr(1),ot({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Es(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),tp(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),$a(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qr(l=>{if(c=!0,wT(l))this.events.next(new Or(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),kU(l)?this.events.next(new ga(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let f=new sc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let y=_r(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(y instanceof uc){let{message:w,cancellationCode:b}=Wh(this.urlSerializer,y);this.events.next(new Or(s.id,this.urlSerializer.serialize(s.extractedUrl),w,b)),this.events.next(new ga(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(f);let w=t.errorHandler(l);s.resolve(!!w)}}catch(y){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(y)}}return Bt}))}))}cancelNavigationTransition(t,r,i){let s=new Or(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nj(n){return n!==Xu}var xj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(Pj),providedIn:"root"})}}return n})(),C_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Pj=(()=>{class n extends C_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ad(n)))(i||n)}})()}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>z(Oj),providedIn:"root"})}}return n})(),Oj=(()=>{class n extends AT{constructor(){super(...arguments),this.location=z(au),this.urlSerializer=z(T_),this.options=z(M_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(x_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ic)this.stateMemento=this.createStateMemento();else if(t instanceof Ds)this.rawUrlTree=r.initialUrl;else if(t instanceof $h){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof oc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Or&&(t.code===Kt.GuardRejected||t.code===Kt.NoDataFromResolver)?this.restoreHistory(r):t instanceof sc?this.restoreHistory(r,!0):t instanceof Es&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof kr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=G(G({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=G(G({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ad(n)))(i||n)}})()}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zu||{});function kj(n,e){n.events.pipe(yn(t=>t instanceof Es||t instanceof Or||t instanceof sc||t instanceof Ds),Ie(t=>t instanceof Es||t instanceof Ds?Zu.COMPLETE:(t instanceof Or?t.code===Kt.Redirect||t.code===Kt.SupersededByNewNavigation:!1)?Zu.REDIRECTING:Zu.FAILED),yn(t=>t!==Zu.REDIRECTING),gr(1)).subscribe(()=>{e()})}function Fj(n){throw n}var Lj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},MT=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(dd),this.stateManager=z(AT),this.options=z(M_,{optional:!0})||{},this.pendingTasks=z(Eo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(Rj),this.urlSerializer=z(T_),this.location=z(au),this.urlHandlingStrategy=z(x_),this._events=new Mt,this.errorHandler=this.options.errorHandler||Fj,this.navigated=!1,this.routeReuseStrategy=z(xj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(N_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(A_,{optional:!0}),this.eventsSubscription=new Qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Or&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Es)this.navigated=!0;else if(r instanceof ga){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Nj(i.source)},o);this.scheduleNavigation(c,Xu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}jj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=G({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(R_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,f=l?this.currentUrlTree.fragment:o,y=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":y=G(G({},this.currentUrlTree.queryParams),s);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}y!==null&&(y=this.removeEmptyProps(y));let w;try{let b=i?i.snapshot:this.routerState.snapshot.root;w=dT(b)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),w=this.currentUrlTree.root}return hT(w,t,y,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=nc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xu,null,r)}navigate(t,r={skipLocationChange:!1}){return Uj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=G({},Lj):r===!1?i=G({},Vj):i=r,nc(t))return YC(this.currentUrlTree,t,i);let s=this.parseUrl(t);return YC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,f;o?(c=o.resolve,l=o.reject,f=o.promise):f=new Promise((w,b)=>{c=w,l=b});let y=this.pendingTasks.add();return kj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(w=>Promise.reject(w))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Uj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}function jj(n){return!(n instanceof oc)&&!(n instanceof ga)}var Bj=new X("");function RT(n,...e){return jn([{provide:N_,multi:!0,useValue:n},[],{provide:ma,useFactory:$j,deps:[MT]},{provide:_g,multi:!0,useFactory:Hj},e.map(t=>t.\u0275providers)])}function $j(n){return n.routerState.root}function Hj(){let n=z(Ot);return e=>{let t=n.get(Qi);if(e!==t.components[0])return;let r=n.get(MT),i=n.get(zj);n.get(qj)===1&&r.initialNavigation(),n.get(Gj,null,ge.Optional)?.setUpPreloading(),n.get(Bj,null,ge.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zj=new X("",{factory:()=>new Mt}),qj=new X("",{providedIn:"root",factory:()=>1});var Gj=new X("");var NT=[{path:"",component:ua}];var xT={production:!0,firebase:{apiKey:"AIzaSyAteh-tPQcqpzPTARPWABMCCnWxfFsMA1k",authDomain:"marriage-65c9a.firebaseapp.com",projectId:"marriage-65c9a",storageBucket:"marriage-65c9a.firebasestorage.app",messagingSenderId:"936214382943",appId:"1:936214382943:web:5ec9f08cdc8044cc3c8eea"}};var PT=Id(xT.firebase);VD(ua,{providers:[vD({eventCoalescing:!0}),RT(NT),mb(()=>PT),GC(()=>Bv(PT)),o0(()=>a0())]}).then(()=>{console.log("Bootstrap erfolgreich")}).catch(n=>console.error("Bootstrap nicht erfolgreich",n));
